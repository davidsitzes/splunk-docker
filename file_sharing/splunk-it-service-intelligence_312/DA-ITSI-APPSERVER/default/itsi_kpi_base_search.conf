[DA-ITSI-APPSERVER_Performance_Runtime]
description = KPI base search used by KPIs that track runtime performance
title = DA-ITSI-APPSERVER:Performance.Runtime
_owner = nobody
base_search = (tag=appserver tag=performance tag=runtime)
metrics = [ \
    { \
        "_key": "available_threads_count_percent",  \
        "aggregate_statop": "avg",  \
        "entity_statop": "avg",  \
        "threshold_field": "available_threads_count_percent",  \
        "title": "available_threads_count_percent",  \
        "unit": "%" \
    },  \
    { \
        "_key": "cpu_utilization_percent",  \
        "aggregate_statop": "avg",  \
        "entity_statop": "avg",  \
        "threshold_field": "cpu_utilization_percent",  \
        "title": "cpu_utilization_percent",  \
        "unit": "%" \
    },  \
    { \
        "_key": "garbage_collection_count",  \
        "aggregate_statop": "avg",  \
        "entity_statop": "avg",  \
        "threshold_field": "garbage_collection_count",  \
        "title": "garbage_collection_count",  \
        "unit": "" \
    },  \
    { \
        "_key": "garbage_collection_time",  \
        "aggregate_statop": "avg",  \
        "entity_statop": "avg",  \
        "threshold_field": "garbage_collection_time",  \
        "title": "garbage_collection_time",  \
        "unit": "ms" \
    },  \
    { \
        "_key": "memory_heap_free_percent",  \
        "aggregate_statop": "avg",  \
        "entity_statop": "avg",  \
        "threshold_field": "memory_heap_free_percent",  \
        "title": "memory_heap_free_percent",  \
        "unit": "%" \
    },  \
    { \
        "_key": "memory_heap_size",  \
        "aggregate_statop": "avg",  \
        "entity_statop": "avg",  \
        "threshold_field": "memory_heap_size",  \
        "title": "memory_heap_size",  \
        "unit": "MB" \
    },  \
    { \
        "_key": "memory_heap_used",  \
        "aggregate_statop": "avg",  \
        "entity_statop": "avg",  \
        "threshold_field": "memory_heap_used",  \
        "title": "memory_heap_used",  \
        "unit": "MB" \
    },  \
    { \
        "_key": "memory_used",  \
        "aggregate_statop": "avg",  \
        "entity_statop": "avg",  \
        "threshold_field": "memory_used",  \
        "title": "memory_used",  \
        "unit": "MB" \
    },  \
    { \
        "_key": "memory_pool_size",  \
        "aggregate_statop": "avg",  \
        "entity_statop": "avg",  \
        "threshold_field": "memory_pool_size",  \
        "title": "memory_pool_size",  \
        "unit": "MB" \
    },  \
    { \
        "_key": "perm_gen_usage",  \
        "aggregate_statop": "avg",  \
        "entity_statop": "avg",  \
        "threshold_field": "perm_gen_usage",  \
        "title": "perm_gen_usage",  \
        "unit": "MB" \
    } \
]
is_entity_breakdown = True
is_service_entity_filter = True
entity_id_fields = application_server
entity_alias_filtering_fields = application_server
alert_period = 5
search_alert_earliest = 5
alert_lag = 30
metric_qualifier = 
source_itsi_da = DA-ITSI-APPSERVER

[DA-ITSI-APPSERVER_Performance_Session]
description = KPI base search used by KPIs that track performance on sessions
title = DA-ITSI-APPSERVER:Performance.Session
_owner = nobody
base_search = (tag=appserver tag=performance tag=session)
metrics = [ \
    { \
        "_key": "active_sessions_count",  \
        "aggregate_statop": "avg",  \
        "entity_statop": "avg",  \
        "threshold_field": "active_sessions_count",  \
        "title": "active_sessions_count",  \
        "unit": "" \
    } \
]
is_entity_breakdown = True
is_service_entity_filter = True
entity_id_fields = application_server
entity_alias_filtering_fields = application_server
alert_period = 5
search_alert_earliest = 5
alert_lag = 30
metric_qualifier = 
source_itsi_da = DA-ITSI-APPSERVER

[DA-ITSI-APPSERVER_Performance_Throughput]
description = KPI base search used by KPIs that track throughput information
title = DA-ITSI-APPSERVER:Performance.Throughput
_owner = nobody
base_search = (tag=appserver tag=performance tag=throughput)
metrics = [ \
    { \
        "_key": "request_count",  \
        "aggregate_statop": "sum",  \
        "entity_statop": "avg",  \
        "threshold_field": "request_count",  \
        "title": "request_count",  \
        "unit": "" \
    } \
]
is_entity_breakdown = True
is_service_entity_filter = True
entity_id_fields = application_server
entity_alias_filtering_fields = application_server
alert_period = 5
search_alert_earliest = 5
alert_lag = 30
metric_qualifier = 
source_itsi_da = DA-ITSI-APPSERVER

[DA-ITSI-APPSERVER_Performance_Web_Transaction]
description = KPI base search used by KPIs that track web transaction performance
title = DA-ITSI-APPSERVER:Performance.Web_Transaction
_owner = nobody
base_search = (tag=appserver tag=performance tag=transactions) | eval 4xx_error=if(status>=400 AND status<500, status, null()), 5xx_error=if(status>=500 AND status<600, status, null())
metrics = [ \
    { \
        "_key": "4xx_error",  \
        "aggregate_statop": "avg",  \
        "entity_statop": "count",  \
        "threshold_field": "4xx_error",  \
        "title": "4xx_error",  \
        "unit": "" \
    },  \
    { \
        "_key": "5xx_error",  \
        "aggregate_statop": "avg",  \
        "entity_statop": "count",  \
        "threshold_field": "5xx_error",  \
        "title": "5xx_error",  \
        "unit": "" \
    },  \
    { \
        "_key": "response_time",  \
        "aggregate_statop": "avg",  \
        "entity_statop": "avg",  \
        "threshold_field": "response_time",  \
        "title": "response_time",  \
        "unit": "msec" \
    } \
]
is_entity_breakdown = True
is_service_entity_filter = True
entity_id_fields = application_server
entity_alias_filtering_fields = application_server
alert_period = 5
search_alert_earliest = 5
alert_lag = 30
metric_qualifier = 
source_itsi_da = DA-ITSI-APPSERVER

[DA-ITSI-APPSERVER_Performance_Runtime_Thread_Count]
description = KPI base search used by KPIs that track runtime threads performance
title = DA-ITSI-APPSERVER:Performance.Runtime.Thread_Count
_owner = nobody
base_search = tag=appserver tag=performance tag=runtime | search active_threads_count=* |fields+ application_server,active_threads_count,hung_threads_count | append [search tag=appserver tag=performance tag=runtime thread_id = * thread_state = * | eval activeThreadIDs = if(thread_state="active", thread_id, null()), hungThreadIDs = if(thread_state="hung", thread_id, null()) | stats count(activeThreadIDs) as active_threads_count, count(hungThreadIDs) as hung_threads_count by application_server, _time |fields+ application_server,active_threads_count,hung_threads_count]
metrics = [ \
    { \
        "_key": "active_threads_count",  \
        "aggregate_statop": "sum",  \
        "entity_statop": "sum",  \
        "threshold_field": "active_threads_count",  \
        "title": "active_threads_count",  \
        "unit": "" \
    },  \
    { \
        "_key": "hung_threads_count",  \
        "aggregate_statop": "sum",  \
        "entity_statop": "sum",  \
        "threshold_field": "hung_threads_count",  \
        "title": "hung_threads_count",  \
        "unit": "" \
    } \
]
is_entity_breakdown = True
is_service_entity_filter = True
entity_id_fields = application_server
entity_alias_filtering_fields = application_server
alert_period = 5
search_alert_earliest = 5
alert_lag = 30
metric_qualifier = 
source_itsi_da = DA-ITSI-APPSERVER

