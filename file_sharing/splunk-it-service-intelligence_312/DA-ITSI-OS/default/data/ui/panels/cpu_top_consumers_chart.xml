<panel>
  <chart>
    <title>Top 10 CPU Consumers</title>
    <search>
      <query>
index=* host=$host$ tag=oshost tag=performance tag=process (process_cpu_used_percent=* OR process_name=*) 
| rename process_name as Process 
| timechart limit=10 latest(process_cpu_used_percent) as "CPU %" by Process
      </query>
      <earliest>$earliest$</earliest>
      <latest>$latest$</latest>
    </search>
    <option name="charting.chart">area</option>
    <!-- <option name="charting.axisLabelsX.majorLabelVisibility">hide</option> -->
    <option name="charting.axisTitleX.visibility">collapsed</option>
    <!-- <option name="charting.axisTitleY.visibility">collapsed</option> -->
    <option name="charting.axisTitleY.text">CPU Used (%)</option>
    <option name="charting.axisY.maximumNumber">100</option>
    <option name="charting.chart.nullValueMode">connect</option>
    <option name="charting.chart.showDataLabels">none</option>
    <option name="charting.legend.placement">right</option>
    <option name="charting.chart.stackMode">stacked</option>
    <option name="refresh.time.visible">false</option>
  </chart>
</panel>
