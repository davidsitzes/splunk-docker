webpackJsonp([23],{0:function(e,t,i){var s,a;i.p=function(){function e(){for(var e,i,s="",a=0,o=arguments.length;a<o;a++)e=arguments[a].toString(),i=e.length,i>1&&"/"==e.charAt(i-1)&&(e=e.substring(0,i-1)),s+="/"!=e.charAt(0)?"/"+e:e;if("/"!=s){var n=s.split("/"),r=n[1];if("static"==r||"modules"==r){var l=s.substring(r.length+2,s.length);s="/"+r,window.$C.BUILD_NUMBER&&(s+="/@"+window.$C.BUILD_NUMBER),window.$C.BUILD_PUSH_NUMBER&&(s+="."+window.$C.BUILD_PUSH_NUMBER),"app"==n[2]&&(s+=":"+t("APP_BUILD",0)),s+="/"+l}}var d=t("MRSPARKLE_ROOT_PATH","/"),c=t("DJANGO_ROOT_PATH",""),h=t("LOCALE","en-US"),p="";return p=c&&s.substring(0,c.length)===c?s.replace(c,c+"/"+h.toLowerCase()):"/"+h+s,""==d||"/"==d?p:d+p}function t(e,t){if(window.$C&&window.$C.hasOwnProperty(e))return window.$C[e];if(void 0!==t)return t;throw new Error("getConfigValue - "+e+" not set, no default provided")}return e("/static/app/itsi/build/pages")+"/"}(),s=[i("shim/jquery"),i("require/underscore"),i("require/backbone"),e,i("shim/splunk.util"),i("util/router_utils"),i("views/Base"),i("views/shared/Modal"),i("views/shared/controls/ControlGroup"),i("views/shared/FlashMessagesLegacy"),i("collections/shared/FlashMessages"),i(2475),i(920),i(148),i(1018),i(840),i(841),i(857),i(853),i(2748),i(129),i(237),i(2749)],a=function(e,t,i,s,a,o,n,r,l,d,c,h,p,u,m,v,g,f,w,C,E,O){var _=r.extend({moduleId:String(s.id),initialize:function(){if(r.prototype.initialize.apply(this,arguments),!this.model.savedPage)throw"Must pass in model.savedPage to BaseSearchListerAddView";if(!(this.model.savedPage instanceof i.Model)){var e=this.model.savedPage;this.model.savedPage=new e}this.children.titleControl=new l({controlType:"Text",className:"kpi-base-search-title-control control-group",controlOptions:{modelAttribute:"title",model:this.model.savedPage,save:!1},label:t("Title").t()}),this.children.descriptionControl=new l({controlType:"Textarea",controlOptions:{modelAttribute:"description",model:this.model.savedPage,save:!1,placeholder:t("optional").t()},label:t("Description").t()}),this.model.savedPage.set("sec_grp",O.GLOBAL_SECURITY_GROUP_KEY);var s=t("Team to associate with").t();this.children.securityGroupControl=new l({label:u.getRoleBasedAccessControlName(!1,!0),controlType:"Label",tooltip:s,controlOptions:{defaultValue:O.GLOBAL_SECURITY_GROUP_TITLE}}),this.flashMessagesCollection=new c,this.children.flashMessagesView=new d({collection:this.flashMessagesCollection})},events:e.extend({},r.prototype.events,{"click a.modal-btn-primary":function(e){if(e.preventDefault(),this.validationStart(),E.isEmptyString(this.model.savedPage.get("title")))return this.flashMessagesCollection.reset([{key:"invalidkpibasesearch",type:"error",html:t("Must provide title").t()}]),void this.validationFail();var i=this.model.savedPage.save(this.model.savedPage.attributes);i.done(function(){this.hide(),this.remove(),window.location.href=this.model.savedPage.getEditUrl()}.bind(this)).fail(function(e){var t=E.extractErrorMsgFromResponse(e);this.flashMessagesCollection.reset([{key:"invalidkpibasesearch",type:"error",html:t}]),this.validationFail()}.bind(this))}}),render:function(){return this.$el.html(r.TEMPLATE),this.$(r.HEADER_TITLE_SELECTOR).html(t("Create KPI Base Search").t()),this.$(r.BODY_SELECTOR).append(r.FORM_HORIZONTAL),this.$(r.BODY_SELECTOR).append(this.children.flashMessagesView.render().$el),this.$(r.BODY_FORM_SELECTOR).append(this.children.titleControl.render().$el),this.$(r.BODY_FORM_SELECTOR).append(this.children.descriptionControl.render().$el),this.$(r.BODY_FORM_SELECTOR).append(this.children.securityGroupControl.render().$el),this.$(r.FOOTER_SELECTOR).append(r.BUTTON_CANCEL),this.$(r.FOOTER_SELECTOR).append('<a href="#" class="btn btn-primary modal-btn-primary pull-right">'+t("Create").t()+"</a>"),this},validationStart:function(){this.$(r.FOOTER_SELECTOR+" .modal-btn-primary").addClass("disabled"),this.$(".control-group-aliases").removeClass("error"),this.$(".control-group-info").removeClass("error")},validationFail:function(){this.$(r.FOOTER_SELECTOR+" .modal-btn-primary").removeClass("disabled")}}),b=g.extend({events:{"click .add-page":function(t){t.preventDefault();var i=new _({model:{savedPage:this.model.savedPage},onHiddenRemove:!0,objectsCache:this.options.objectsCache});e("body").append(i.render().$el),i.show()}}}),y=v.extend({initialize:function(e){e.CreateButtonView=b,v.prototype.initialize.apply(this,arguments)}}),T=f.extend({initialize:function(e){e.extraHeaders=[{label:t("Metrics").t()}],f.prototype.initialize.apply(this,arguments)}}),R=w.extend({initialize:function(e){e.extraHeaders=[{name:"metrics",value:this.model.savedPage.get("metrics").length}],w.prototype.initialize.apply(this,arguments)}}),L=n.extend({moduleId:String(s.id),className:"list-dotted",tagName:"dl",initialize:function(){n.prototype.initialize.apply(this,arguments),this.numMetrics=this.model.savedPage.get("metrics").length},render:function(){this.$el.html(this.compiledTemplate({_:t,numMetrics:this.numMetrics}))},template:'\t\t\t\t\t<dt class="metrics"><%- _("Metrics").t() %></dt>\t\t\t\t\t<dd>\t\t\t\t\t<%- numMetrics %>\t\t\t\t\t</dd>\t\t\t\t'}),P={collection:h,model:p,titleView:y,tableView:T,tableCaptionView:C,rowView:R,infoDetails:L,title:t("KPI Base Searches").t(),description:t("Viewer for all KPI Base Searches").t()};new m(P);o.start_backbone_history()}.apply(t,s),!(void 0!==a&&(e.exports=a))},2748:function(e,t,i){var s,a;s=[i("require/underscore"),i(846)],a=function(e,t){var i=t.extend({initialize:function(i){i.viewActions=[{value:"view-all",text:e("All").t()},{value:"view-readonly",text:e("Predefined").t(),collectionFilter:{_immutable:1}},{value:"view-editable",text:e("User-defined").t(),collectionFilter:{_immutable:{$ne:1}}}],t.prototype.initialize.apply(this,arguments)}});return i}.apply(t,s),!(void 0!==a&&(e.exports=a))},2749:function(e,t,i){var s=i(2750);"string"==typeof s&&(s=[[e.id,s,""]]);i(15)(s,{});s.locals&&(e.exports=s.locals)},2750:function(e,t,i){t=e.exports=i(14)(),t.push([e.id,".kpi-base-search-title-control .control.shared-controls-textcontrol input{padding-right:6px}",""])}});