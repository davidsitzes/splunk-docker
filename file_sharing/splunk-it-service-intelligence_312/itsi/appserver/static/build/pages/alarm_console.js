webpackJsonp([0],[function(e,t,i){var s,r;i.p=function(){function e(){for(var e,i,s="",r=0,n=arguments.length;r<n;r++)e=arguments[r].toString(),i=e.length,i>1&&"/"==e.charAt(i-1)&&(e=e.substring(0,i-1)),s+="/"!=e.charAt(0)?"/"+e:e;if("/"!=s){var o=s.split("/"),a=o[1];if("static"==a||"modules"==a){var l=s.substring(a.length+2,s.length);s="/"+a,window.$C.BUILD_NUMBER&&(s+="/@"+window.$C.BUILD_NUMBER),window.$C.BUILD_PUSH_NUMBER&&(s+="."+window.$C.BUILD_PUSH_NUMBER),"app"==o[2]&&(s+=":"+t("APP_BUILD",0)),s+="/"+l}}var c=t("MRSPARKLE_ROOT_PATH","/"),h=t("DJANGO_ROOT_PATH",""),d=t("LOCALE","en-US"),p="";return p=h&&s.substring(0,h.length)===h?s.replace(h,h+"/"+d.toLowerCase()):"/"+d+s,""==c||"/"==c?p:c+p}function t(e,t){if(window.$C&&window.$C.hasOwnProperty(e))return window.$C[e];if(void 0!==t)return t;throw new Error("getConfigValue - "+e+" not set, no default provided")}return e("/static/app/itsi/build/pages")+"/"}(),s=[i("shim/jquery"),i("require/underscore"),i("require/backbone"),i(4),i(124),i("splunkjs/mvc/simpleform/input/timerange"),i("views/shared/controls/SyntheticRadioControl"),i(368),i(365),i("splunkjs/mvc/utils"),i("shim/splunk.util"),i("views/shared/Modal"),i(399)],r=function(e,t,i,s,r,n,o,a,l,c,h,d){var p=s(t("Multi-KPI Alerts").t()),u=d.extend({setText:function(e,i){var s="alert-info";i&&(s="alert-error");var r=t.template('<div class="alert <%- alertClassName %>"><i class="icon-alert"></i><span><%-text%></span></div>');this.$(d.BODY_SELECTOR).html(r({alertClassName:s,text:e}))},events:e.extend({},d.prototype.events,{"click .modal-btn-primary":"_hide"}),_hide:function(e){e.preventDefault(),this.hide()},render:function(){var t=e(d.BUTTON_SAVE);t.text("OK"),this.$el.html(d.TEMPLATE),this.$(d.HEADER_TITLE_SELECTOR).text("Multi-KPI Alerts"),this.$(d.FOOTER_SELECTOR).append(t)}}),g=new u;e("body").append(g.render().el),e("#app-main-layout").html('<div class="dashboard-body container-fluid main-section-body" data-role="main"><div class="dashboard-header clearfix"><div class="pull-left"><h2>'+t("Multi-KPI Alerts").t()+'</h2><p class="description">'+t("Create Correlation Search based upon selected KPIs").t()+'</p></div><div class="gs-time-picker pull-right"></div><div class="multi-kpi-search-type-container pull-right btn-group"></div></div><div class="dashboard-row dashboard-row1"><div class="dashboard-cell" style="width: 100%;"><div class="dashboard-panel clearfix" style="background: transparent;border:0px;margin-right:0px;"><div class="panel-element-row"><div class="dashboard-element table" id="main-element" style="width: 100%"></div></div></div></div></div></div>');var m=!1,v=!1,b="-15m",f="now",_=null,S=new a,w=function(){function i(){var i=new n({earliest_time:b,latest_time:f,dialogOptions:{showPresets:!0,showPresetsRealTime:!1,showPresetsRealTimeOnly:!1,showPresetsRelative:!0,showPresetsAllTime:!1,showCustom:!0,showCustomRealTime:!1,showCustomRelative:!0,showCustomDate:!0,showCustomDateTime:!0,showCustomAdvanced:!0,enableCustomAdvancedRealTime:!1},el:e(".gs-time-picker")});v||S.set({"action.itsi_event_generator.param.search_type":m?s.correlationSearchType:"composite_kpi_score_type"});var a=new o({model:S,modelAttribute:"action.itsi_event_generator.param.search_type",buttonClassName:"multi-kpi-search-type-button btn",items:[{label:t("Composite score").t(),value:"composite_kpi_score_type"},{label:t("Status over time").t(),value:"composite_kpi_percentage_type"}],el:e(".multi-kpi-search-type-container")}),l=new r({el:e("#main-element"),correlationSearchModel:S,timeRange:i,drillDownData:m?s:null,isListServices:!m,showDrilldown:m,isEdit:v,redirectTo:"app/"+c.getCurrentApp()+"/correlation_searches_lister"});l.render(),i.render(),a.render()}if(t.isString(p.defaultTokenModel.get("drilldownData"))&&!t.isEmpty(p.defaultTokenModel.get("drilldownData"))){var s=JSON.parse(p.defaultTokenModel.get("drilldownData"));m=!0,b=s.primaryTimeRange.earliest_time,f=s.primaryTimeRange.latest_time}t.isString(p.defaultTokenModel.get("name"))&&!t.isEmpty(p.defaultTokenModel.get("name"))&&(v=!0,_=p.defaultTokenModel.get("name"),e("#main-element").text(t("Loading...").t()),S.set("name",_),S.set("sid",_),S.fetch().done(function(){console.log("Successfully fetch saved search:"+_),b=S.get("dispatch.earliest_time"),f=S.get("dispatch.latest_time"),i()}).fail(function(e,i,s){console.error("Search could not be obtained: "+s),g.setText(h.sprintf(t("Failed to get search %s").t(),_)),g.show()})),v||i()};p.defaultTokenModel.get("drilldownData")||p.defaultTokenModel.get("name")?w():t.isEmpty(p.defaultTokenModel.attributes)&&window.location.href.indexOf("=")>-1&&window.location.href.indexOf("tour=")<0?p.defaultTokenModel.once("change reset",function(){w()}):w()}.apply(t,s),!(void 0!==r&&(e.exports=r))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,i){var s,r;s=[i("require/underscore"),i("shim/jquery"),i("require/backbone"),i("splunkjs/mvc/searchmanager"),i(129),i(231),i(238),i(271),i(272),i(273),i(340),i(346),i(360),i(126),i(125),i(361),i(362),i(363),i("splunkjs/mvc"),i("models/services/search/TimeParser"),i(324),i(287),i(364),i(365),i("views/shared/Modal"),i(378),i(379)],r=function(e,t,i,s,r,n,o,a,l,c,h,d,p,u,g,m,v,b,f,_,S,w,x,y,k,C){var M=e.template(C),A=e("You do not have permissions to some of the services associated with this multi-KPI alert. You cannot save any changes.").t(),T=k.extend({setText:function(t,i){var s="alert-info";i&&(s="alert-error");var r=e.template('<div class="alert <%- alertClassName %>"><i class="icon-alert"></i><span><%-text%></span></div>');this.$(k.BODY_SELECTOR).html(r({alertClassName:s,text:t}))},events:t.extend({},k.prototype.events,{"click .modal-btn-primary":"_hide"}),_hide:function(e){e.preventDefault(),this.hide()},render:function(){var i=t(k.BUTTON_SAVE);i.text(e("OK").t()),this.$el.html(k.TEMPLATE),this.$(k.HEADER_TITLE_SELECTOR).text(e("Multi-KPI Alerts").t()),this.$(k.FOOTER_SELECTOR).append(i)}}),P=i.View.extend({initialize:function(s){this.kpiListingCollection=s.KpiListingCollection||new p,this.selectedKpiListing=s.SelectedKpiListingCollection||new g,this.selectedKpiListingPerPageCollection=s.SelectedKpiListingPerPageCollection||new g,this.serviceListCollection=s.ServiceListCollection||new m,this.redirectTo=s.redirectTo,this.kpiListingPerPageModel=new b,this.selectedKpiPerPageModel=new b,this.serviceListView=null,this.kpiListingView=null,this.selectedKpiView=null,this._cachedServiceArray=null,this._saveButtonShouldBeDisable=!1,this.timeRange=s.timeRange,this.serviceListSearchManager=null,this.serviceListResultModel=null,this.correlationSearchModel=s&&s.correlationSearchModel,this.isListServices=!s||s.isListServices!==!1,this.showDrilldown=!(!s||s.showDrilldown!==!0),this.drillDownData=s&&s.drillDownData,this.kpiSearchManager=null,this.kpiSearchResultModel=null,this.defaultToken=f.Components.getInstance("default",{create:!0}),this.selectedServices=[],this.addAndRemoveDispatcher=e.extend({},i.Events),this.searchTypeChangeDispatcher=e.extend({},i.Events),this._isShowKpiSearchError=!0;var r=e.debounce(this.runKpiListingSearch,2);this.listenTo(this.kpiListingPerPageModel,"change:page change:perPage",this.updateKpiListingData),this.listenTo(this.selectedKpiPerPageModel,"change:page change:perPage",this.updateSelectedKpiListingPageResults),this.listenTo(this.serviceListCollection,"change:isSelected change:isDependsOn change:isDependent",function(){this.kpiListingView&&this.kpiListingView.showSearchMessage(e("Waiting for data...").t()),r.apply(this,[]),this.kpiListingView.toggleView(!0)},this),this.listenTo(this.addAndRemoveDispatcher,"add-kpi",this.addKpi),this.listenTo(this.addAndRemoveDispatcher,"remove-kpi",this.removeKpi),this.listenTo(this.addAndRemoveDispatcher,"add-all-selected-kpi",this.addSelectedKpi),this.listenTo(this.addAndRemoveDispatcher,"remove-all-selectedkpi",this.removeSelectedKpi),this.listenTo(this.addAndRemoveDispatcher,"go-all-selected-kpilisting-to-deep-dive",this.gotoDeepDiveKpiListing),this.listenTo(this.addAndRemoveDispatcher,"go-all-selectedkpilisting-to-deep-dive-btn",this.gotoDeepDiveSelectedKpi),this.listenTo(this.addAndRemoveDispatcher,"create-correlation-search",this.createCorrelationSearch),this.listenTo(this.correlationSearchModel,"change:action.itsi_event_generator.param.search_type",this.invokeKpiSearch),this.listenTo(this.selectedKpiListing,"add remove reset destroy",this.toggleCorrelationButton);var n=t("#header");n&&n.parent()&&n.parent().addClass("alarm-console-main-container"),this.InfoModal=new T,t("body").append(this.InfoModal.render().el),this.securityGroups=new a,this.securityGroupCollectionDfd=this.securityGroups.fetch(),this.isEdit=!(!s||s.isEdit!==!0),!this.isListServices&&this.isEdit&&this._getAndUpdateSearchInformation(),this.isListServices&&this.securityGroupCollectionDfd.done(e.bind(this.getServiceListCollection,this)),this.showDrilldown&&this.securityGroupCollectionDfd.done(e.bind(this.getServiceListCollection,this))},_update_selected_kpi_collection:function(e){this.selectedKpiListing.set(e.toJSON()),this.updateSelectedKpiListingPageResults(),this.selectedKpiView&&this.selectedKpiView.toggleView(!0),this.toggleCorrelationButton(),e.each(function(e){var t=this.serviceListCollection.findWhere({serviceId:e.get("gs_service_id")});t&&t.set("isSelected",!0)}.bind(this))},_showDrillDownForSelectedKpis:function(){var t=new g;e.each(this.drillDownData.selectedKpis,function(e){t.add(new u({name:e.selectedKpiTitle,context:e.selectedKpiContext,gs_kpi_id:e.selectedKpiId,gs_service_id:e.selectedKpiServiceId,urgency:e.selectedKpiUrgency,isSelected:!0}))}),this._update_selected_kpi_collection(t)},_getThresholdCount:function(t){return e.filter(t,function(e){return e&&e.percentage>0}).length||0},_getAndUpdateSearchInformation:function(){var t=!1,i=this.correlationSearchModel.get("action.itsi_event_generator.param.meta_data"),s=new g;"composite_kpi_score_type"===this.correlationSearchModel.get("action.itsi_event_generator.param.search_type")?e.each(i.get("score_based_kpis"),function(e){this.serviceListCollection.contains(e.serviceid)?s.add(new u({gs_kpi_id:e.kpiid,gs_service_id:e.serviceid,urgency:e.urgency,isSelected:!0,showFirstTime:!1})):t=!0}.bind(this)):"composite_kpi_percentage_type"===this.correlationSearchModel.get("action.itsi_event_generator.param.search_type")&&e.each(i.get("percentage_based_kpis"),function(i){if(this.serviceListCollection.contains(i.serviceid)){var r=new u({gs_kpi_id:i.kpiid,gs_service_id:i.serviceid,isSelected:!0,triggercount:i.label_thresholds&&i.label_thresholds.thresholds&&this._getThresholdCount(i.label_thresholds.thresholds),showFirstTime:!1,urgency:"5"});e.each(i.label_thresholds.thresholds,function(e){r.set(e.severity+"_triggerCheckboxState",!0),r.set(e.severity+"_triggerPercentage",e.percentage)}),s.add(r)}else t=!0}.bind(this)),this._saveButtonShouldBeDisable=t,this.toggleCorrelationButton(),this._showWarningMessage(),this._update_selected_kpi_collection(s)},updateExistedKpi:function(t,i){var s=e.omit(i,"isSelected");e.each(t.attributes,function(e){s.hasOwnProperty(e)?t.set(e,s.attr):t.set(e,null)}),t.set(e.omit(i,"isSelected"))},isExistedInSelectedKpiCollection:function(e,t){return this.selectedKpiListing.findWhere({gs_service_id:e,gs_kpi_id:t})},checkUpdateSelectedKpi:function(e,t){if(e){var i=this.isExistedInSelectedKpiCollection(e.gs_service_id,e.gs_kpi_id);return i&&(this.updateExistedKpi(i,e),t&&this.toggleIsAddAttribute(!0,null,e.gs_service_id,e.gs_kpi_id)),i}},addKpi:function(t){this.selectedKpiView.toggleView(!0);var i=this.checkUpdateSelectedKpi(t.toJSON());if(!i){var s=t.clone();s.set("isSelected",!1,{silent:!0}),this.bulkAdd||s.set("showFirstTime",!0),"composite_kpi_score_type"===this.correlationSearchModel.get("action.itsi_event_generator.param.search_type")&&s.set("showFirstTime",!1),w.fetch().then(function(){var t=e.filter(w.cachedLabelColors,function(e){return s.get(e.label)||!1}).length;s.set("triggercount",t),e.each(w.cachedLabelColors,function(e){var t=e.label+"_triggerPercentage",i=e.label+"_actualPercentage";s.set(t,s.get(i)||0);var r=e.label+"_triggerCheckboxState";s.set(r,!0)}),this.selectedKpiListing.add(s),this.updateSelectedKpiListingPageResults()}.bind(this)),this.toggleIsAddAttribute(!0,t)}},removeKpi:function(e){this.selectedKpiListing.remove(e),this.updateSelectedKpiListingPageResults(),this.toggleIsAddAttribute(!1,null,e.get("gs_service_id"),e.get("gs_kpi_id"))},removeSelectedKpi:function(){var t=this.selectedKpiListing.filter(function(e){return e.get("isSelected")});e.each(t,function(e){this.removeKpi(e)}.bind(this))},addSelectedKpi:function(){this.selectedKpiView.toggleView(!0);var t=this.kpiListingCollection.filter(function(e){return e.get("isSelected")});this.bulkAdd=!0,e.each(t,this.addKpi,this),this.bulkAdd=!1},toggleIsAddAttribute:function(e,t,i,s){var r=null!==t?t:this.kpiListingCollection.findWhere({gs_kpi_id:s,gs_service_id:i});r&&(e?r.set("isAdded",!0):r.set("isAdded",!1))},gotoDeepDiveKpiListing:function(){var t=this.kpiListingCollection.filter(function(e){return e.get("isSelected")});t.length>0&&S.openInDeepDive(!0,e.map(t,function(e){return{kpiId:e.get("gs_kpi_id"),serviceId:e.get("gs_service_id"),kpiName:e.get("name"),serviceName:e.get("context")}}),this.timeRange.val().earliest_time,this.timeRange.val().latest_time)},gotoDeepDiveSelectedKpi:function(){S.openInDeepDive(!0,this.selectedKpiListing.map(function(e){return{kpiId:e.get("gs_kpi_id"),serviceId:e.get("gs_service_id"),kpiName:e.get("name"),serviceName:e.get("context")}}),this.timeRange.val().earliest_time,this.timeRange.val().latest_time)},createCorrelationSearch:function(){this.selectedKpiListing.length>0&&new x({collection:this.selectedKpiListing,earliest_time:this.timeRange&&this.timeRange.val()&&this.timeRange.val().earliest_time,latest_time:this.timeRange&&this.timeRange.val()&&this.timeRange.val().latest_time,redirectTo:this.redirectTo,correlationSearchModel:this.correlationSearchModel,autoGenerateSearchName:!1}).render()},toggleCorrelationButton:function(){var e=0===this.selectedKpiListing.length;this._saveButtonShouldBeDisable&&(e=!0),this.selectedKpiView&&this.selectedKpiView.toggleCorrelationButton(e)},_getAlarmConsoleLookupFilter:function(t){if(!(t instanceof i.Collection))throw"_getAlarmConsoleLookupFilter expects a Backbone Collection";if(!t.models.length)return"";var s=e.map(t.models,function(e){return e.get("_key")||e.get("id")});return"| where "+s.map(function(e){return'sec_grp = "'+e+'"'}).join(" OR ")},_constructServiceFetchSearch:function(e){return"| inputlookup alarm_console_lookup "+this._getAlarmConsoleLookupFilter(e)+" | rename _key as gs_service_id title as serviceName | fields-  kpis._key kpis.title kpis.alert_period object_type | eval isExistInSummary=0 | join type=left max=0 gs_service_id [search `get_itsi_summary_index` `service_level_max_severity_and_service_health_score` | eval isExistInSummary=1 | table gs_service_id, isExistInSummary | dedup gs_service_id]"},getServiceListCollection:function(){var e=this._constructServiceFetchSearch(this.securityGroups);return this.serviceListSearchManager=new l({id:"service-list-"+this.cid,search:e,timeRange:this.timeRange}),this.listenTo(this.serviceListSearchManager,"change:status",this.checkServiceListStatus),this.serviceListResultModel=this.serviceListSearchManager.getSearchManager().data("results",{count:0,output_mode:"json"}),this.listenTo(this.serviceListResultModel,"data",this.getServiceListSearchData),this.serviceListSearchManager},checkServiceListStatus:function(){var t=this.serviceListSearchManager.get("status"),i=this.serviceListSearchManager.get("message");"started"===t?(this.kpiListingCollection.reset(),this.serviceListCollection.reset(),this.serviceListView&&this.serviceListView.showSearchMessage(e("Waiting for data...").t())):"error"===t?this.serviceListView&&this.serviceListView.showSearchMessage(i):"done"===t&&this.serviceListView.showList()},_showWarningMessage:function(){this._saveButtonShouldBeDisable&&(this.$(".alarm-console-message-container").show(),this.$(".alarm-console-message-container .alert-message").html(A))},getServiceListSearchData:function(){if(this.serviceListResultModel.hasData()){this.serviceListView.showList();var t=this.serviceListResultModel.data().results;t.sort(r.sortAlphabetical("serviceName")),this.serviceListCollection.set(e.map(t,function(t){var i=e.filter(this.selectedServices,function(e){return e.get("serviceId")===t.gs_service_id});return{serviceName:t.serviceName,serviceId:t.gs_service_id,isExistInSummary:"1"===t.isExistInSummary.toString(),isSelected:i.length>0&&i[0].get("isSelected"),isDependsOn:i.length>0&&i[0].get("isDependsOn"),isDependent:i.length>0&&i[0].get("isDependent")}}.bind(this))),this.isEdit&&this._getAndUpdateSearchInformation(),this.showDrilldown&&this._showDrillDownForSelectedKpis()}else this.serviceListView&&this.serviceListView.showSearchMessage(e("No results found.").t())},getServiceCollectionPartialFetch:e.memoize(function(){var e=new n,i=new t.Deferred,s=e.getSpecifiedFields({},"_key,services_depending_on_me,services_depends_on");return s.done(function(e){i.resolve(e)}).fail(function(){console.log("Failed to (partially) fetch service collection")}),i}),getKpiSearchFilter:function(){if(this.selectedServices=this.serviceListCollection.filter(function(e){return e.get("isSelected")}),0===this.selectedServices.length)return"";var t=e.map(this.selectedServices,function(e){return"gs_service_id="+e.get("serviceId")}).join(" OR ");return e.each(this.selectedServices,function(i){var s=e.findWhere(this._cachedServiceArray,{_key:i.get("serviceId")});if(i.get("isDependsOn")){var r=e.map(s.services_depends_on,function(e){return"gs_service_id="+e.serviceid});r&&r.length>0&&(t=t+" OR "+r.join(" OR "))}if(i.get("isDependent")){var n=e.map(s.services_depending_on_me,function(e){return"gs_service_id="+e.serviceid});n&&n.length>0&&(t=t+" OR "+n.join(" OR "))}}.bind(this)),"composite_kpi_score_type"===this.correlationSearchModel.get("action.itsi_event_generator.param.search_type")&&(t+=' AND  gs_kpi_id!="SHKPI*"'),"("+t+")"},invokeKpiSearch:function(){this.runKpiListingSearch(),this.searchTypeChangeDispatcher.trigger("changeSearchType")},runKpiListingSearch:function(){if(this._cachedServiceArray)this._runKpiListingSearch();else{var e=this.getServiceCollectionPartialFetch();e.done(function(e){this._cachedServiceArray=e,this._runKpiListingSearch()}.bind(this)).fail(function(e,t){console.log("Failed to get service collection, response:",t)}.bind(this))}},_runKpiListingSearch:function(){var t=this.getKpiSearchFilter();t?(this.defaultToken.set("filter",t),this._isShowKpiSearchError=!0):(this.defaultToken.clear(),this._isShowKpiSearchError=!1,this.kpiListingCollection.reset(),this.resetPage(this.kpiListingPerPageModel)),this.securityGroupCollectionDfd.done(e.bind(this._initializeKpiSearchManager,this))},_constructKPIFetchSearch:function(e){return"| inputlookup alarm_console_lookup "+this._getAlarmConsoleLookupFilter(e)+" | search object_type=\"service\" | eval kpi_info = mvzip('kpis._key', 'kpis.title', \"==@@==\") | eval kpi_info=mvzip('kpi_info', 'kpis.alert_period', \"==@@==\") | eval kpi_info=mvzip('kpi_info', 'kpis.urgency', \"==@@==\") | fields - kpis._key kpis.title kpis.alert_period | mvexpand kpi_info |rex field=kpi_info \"(?<gs_kpi_id>.+)==@@==(?<kpi_name>.+)==@@==(?<kpi_alert_period>.+)==@@==(?<kpi_urgency>.+)\" | rename kpi_name as name _key as gs_service_id title as context kpi_alert_period as alert_period kpi_urgency as urgency | fields - kpi_info kpis.urgency | search $filter$ | join type=left max=0 gs_service_id, gs_kpi_id [ search `get_itsi_summary_index` `service_level_max_severity_and_service_health_score` $filter$ | stats count first(alert_period) as alert_period first(kpi) as name max(_time) as _time first(alert_color) as alert_color first(color) as color by gs_service_id, gs_kpi_id alert_severity | eval alert_color=coalesce(alert_color, color) | eval alert_period=coalesce(alert_period, 1) | eventstats latest(alert_severity) as latest_status latest(alert_color) as latest_alert_color by gs_kpi_id gs_service_id | eval name=coalesce(name, \"ServiceHealthScore\") | fields - color _time | `getPercentage(alert_period, count)` | stats list(count) as count list(alert_severity) as alert_severity list(alert_color) as alert_color list(percentage) as percentage first(latest_alert_color) as latest_alert_color first(latest_status) as latest_status first(alert_period) as alert_period first(total_occurrences) as total_occurrences first(name) as name by gs_service_id gs_kpi_id | rename alert_severity as severity count as severity_value percentage as severity_percentage total_occurrences as severity_total_occurrences] | fields - kpis.anomaly_detection_sensitivity"},_initializeKpiSearchManager:function(){if(!this.kpiSearchManager){var e=this._constructKPIFetchSearch(this.securityGroups);this.kpiSearchManager=new l({id:"kpi-list-"+this.cid,search:e,timeRange:this.timeRange,isToken:!0,tokenNameSpace:"default"}),this.listenTo(this.kpiSearchManager,"change:status",this.checkKpiSearchStatus)}},checkKpiSearchStatus:function(){var t=this.kpiSearchManager.get("status"),i=this.kpiSearchManager.get("message");"started"===t?(this.kpiListingCollection.reset(),this.resetPage(this.kpiListingPerPageModel),this.kpiListingView.showSearchMessage(e("Waiting for data...").t())):"error"===t?this._isShowKpiSearchError?this.kpiListingView.showSearchMessage(i):this.kpiListingView&&this.kpiListingView.toggleView(!0):"done"===t&&(this.kpiListingView.toggleView(!0),this.updateKpiListingData(),this.updateSelectedKpiData())},resetPage:function(e){e.set("itemCount","-1"),e.set("page","0",{silent:!0})},updateKpiListingData:function(){this.kpiSearchResultModel&&this.stopListening(this.kpiSearchResultModel,"data",this.getKpiSearchResults);var e=this.kpiSearchManager.getSearchManager(),t=e.job.state().content.resultCount;this.kpiListingPerPageModel.set("itemCount",t);var i=this.kpiListingPerPageModel.get("perPage"),s=this.kpiListingPerPageModel.get("page"),r=s*i>t?0:s*i;this.kpiSearchResultModel=e.data("results",{count:i,offset:r,output_mode:"json"}),this.listenTo(this.kpiSearchResultModel,"data",this.getKpiSearchResults)},getMvList:function(t){return e.isArray(t)?t:e.isString(t)?t.indexOf(" ")!=-1?t.split(" "):[t]:t},getKpiModelData:function(t,i){var s=this.getMvList(t.severity)||[],r=this.getMvList(t.severity_value)||[],n=this.getMvList(t.severity_percentage)||[],o=this.getMvList(t.severity_total_occurrences)||[],a={name:t.name,context:t.context,gs_service_id:t.gs_service_id,gs_kpi_id:t.gs_kpi_id,latest_status:t.latest_status,latest_status_color:t.latest_alert_color,alert_period:t.alert_period||1};i&&(a.urgency=t.urgency);var l=[];return e.each(s,function(t,i){var s=e.findWhere(l,{label:t});s?(s.value=s.value+parseInt(r[i],10),s.percentage=s.percentage+parseFloat(n[i])):l.push({label:t,value:parseInt(r[i],10),percentage:parseFloat(n[i]),occurrence:parseFloat(o[i])})}),e.each(l,function(e){a[e.label]=e.value,a[e.label+"_actualPercentage"]=e.percentage,a[e.label+"_totalOccurences"]=e.occurrence}),a},getKpiSearchResults:function(){if(this.kpiSearchResultModel.hasData()){this.kpiListingView.toggleView(!0);var t=this.kpiSearchResultModel.data().results;this.kpiListingCollection.set(e.map(t,function(e){var t=this.getKpiModelData(e,!0);return this.isExistedInSelectedKpiCollection(t.gs_service_id,t.gs_kpi_id)&&(t.isAdded=!0),t}.bind(this)))}else this.kpiListingView.showSearchMessage(e("No results found.").t())},updateSelectedKpiData:function(){if(this.selectedKpiListingResults&&this.stopListening(this.selectedKpiListingResults,"data",this.updateSelectedKpiModels),this.selectedKpiListing.length>0){var t=this.kpiSearchManager.getSearchManager(),i="search ",s=this.selectedKpiListing.pluck("gs_service_id"),r=e.uniq(s),n=e.map(r,function(e){return"gs_service_id="+e});n.length>0&&(i=i+" ( "+n.join(" OR ")+" ) "),this.selectedKpiListingResults=t.data("results",{count:0,output_mode:"json",search:i}),this.listenTo(this.selectedKpiListingResults,"data",this.updateSelectedKpiModels)}},updateSelectedKpiModels:function(){if(this.selectedKpiListingResults.hasData()){var t=this.selectedKpiListingResults.data().results,i=e.map(t,function(e){return this.getKpiModelData(e,!1)}.bind(this));e.each(i,function(e){this.checkUpdateSelectedKpi(e,!0)}.bind(this))}},updateSelectedKpiListingPageResults:function(){this.selectedKpiListingPerPageCollection.reset();var e=this.selectedKpiListing.length;this.selectedKpiPerPageModel.set("itemCount",e);var t=this.selectedKpiPerPageModel.get("perPage"),i=this.selectedKpiPerPageModel.get("page"),s=i*t>e?0:i*t;this.selectedKpiListingPerPageCollection.add(this.selectedKpiListing.slice(s,s+t))},renderViews:function(){this.serviceListView||(this.serviceListView=new d({collection:this.serviceListCollection,el:t(".alarm-console-service-listing")})),this.kpiListingView||(this.kpiListingView=new c({collection:this.kpiListingCollection,perPageModel:this.kpiListingPerPageModel,perPageModelAttribute:"perPage",el:t(".alarm-console-kpi-listing"),addAndRemoveDispatcher:this.addAndRemoveDispatcher,timeRange:this.timeRange,correlationSearchModel:this.correlationSearchModel})),this.selectedKpiView||(this.selectedKpiView=new h({collection:this.selectedKpiListingPerPageCollection,fullCollection:this.selectedKpiListing,perPageModel:this.selectedKpiPerPageModel,perPageModelAttribute:"perPage",el:t(".alarm-console-selected-kpi-container"),addAndRemoveDispatcher:this.addAndRemoveDispatcher,searchTypeChangeDispatcher:this.searchTypeChangeDispatcher,timeRange:this.timeRange,correlationSearchModel:this.correlationSearchModel})),this.serviceListView.render(),this.kpiListingView.render(),this.selectedKpiView.render()},render:function(){return this.$el.html(M({_:e})),this.renderViews(),this}});return P}.apply(t,s),!(void 0!==r&&(e.exports=r))},function(e,t,i){var s,r;s=[i("require/underscore"),i("shim/jquery"),i("require/backbone"),i(126),i(127)],r=function(e,t,i,s,r){return i.Collection.extend({model:s,search:function(e){e&&e.split("=").length>=2?this.filterCollection(e,"isShow",null,!0,!0):this.filterCollection(e,"isShow",["name","context"],!1,!1)}})}.apply(t,s),!(void 0!==r&&(e.exports=r))},function(e,t,i){var s,r;s=[i("require/underscore"),i("shim/jquery"),i("require/backbone")],r=function(e,t,i){return i.Model.extend({defaults:{name:"",context:"",isShow:!0}})}.apply(t,s),!(void 0!==r&&(e.exports=r))},function(e,t,i){var s,r;s=[i("require/underscore"),i("shim/jquery"),i("require/backbone")],r=function(e,t,i){i.Collection.prototype.filterCollection=function(t,i,s,r,n,o){e.each(this.models,function(a){if(!t&&!o)return void a.set(i,!0);var l=r?e.keys(a.attributes):s,c=e.map(l,function(e){var i=a.get(e)&&a.get(e).toString().toLowerCase(),s=t&&t.toLowerCase();if(n)for(var r=s.split(" "),o=0;o<r.length;o++){var l=r[o].split("=");if(l.length>=2){var c=l[0],h=l[1];if(e.indexOf(c)!==-1&&i&&i.indexOf(h)!==-1)return{attribute:e,value:i}}}else if(i&&i.indexOf(s)!==-1)return{attribute:e,value:i}}),h=e.filter(c,function(e){return void 0!==e});h&&h.length>0?a.set(i,!0):a.set(i,!1)})}}.apply(t,s),!(void 0!==r&&(e.exports=r))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,i){var s,r;s=[i("require/underscore"),i("shim/jquery"),i("require/backbone"),i("splunkjs/mvc/searchmanager"),i("splunkjs/mvc/messages")],r=function(e,t,i,s,r){var n=i.Model.extend({initialize:function(e){this.id=e&&e.id,this.search=e&&e.search,this.timeRange=e&&e.timeRange,this.isToken=e&&e.isToken||!1,this.tokenNameSpace=e&&e.tokenNameSpace;var t={};this.isToken&&(t.tokens=!0,t.tokenNamespace=this.tokenNamespace),this.searchManager=new s({id:this.id,preview:!0,status_buckets:0,search:this.search,earliest_time:this.timeRange&&this.timeRange.val()&&this.timeRange.val().earliest_time,latest_time:this.timeRange&&this.timeRange.val()&&this.timeRange.val().latest_time},t),this.listenTo(this.timeRange,"change",function(){this.searchManager.set(this.timeRange.val())}),this.searchManager.on("search:start",this.onSearchStart,this),this.searchManager.on("search:progress",this.onSearchProgress,this),this.searchManager.on("search:done",this.onSearchDone,this),this.searchManager.on("search:cancelled",this.onSearchCancelled,this),this.searchManager.on("search:refresh",this.onSearchRefreshed,this),this.searchManager.on("search:error",this.onSearchError,this),this.searchManager.on("search:fail",this.onSearchFailed,this)},getSearchManager:function(){return this.searchManager},onSearchStart:function(){this.set({status:"started",message:e("Search is started...").t()})},onSearchProgress:function(){this.set({status:"running",message:e("Waiting for data...").t()})},onSearchDone:function(){this.set({status:"done",message:e("Search is completed...").t()})},onSearchCancelled:function(){this.set({status:"cancelled",message:e("Search is cancelled...").t()})},onSearchRefreshed:function(){this.set({status:"refreshed",message:e("Search is refreshed...").t()})},onSearchError:function(e,t){this.set({status:"error",message:r.getSearchErrorMessage(t)||e})},onSearchFailed:function(e){var t=r.getSearchFailureMessage(e);this.set({status:"error",message:t})},defaults:{status:void 0,message:""}});return n}.apply(t,s),!(void 0!==r&&(e.exports=r))},function(e,t,i){var s,r;s=[i("require/underscore"),i("shim/jquery"),i("require/backbone"),i(279),i(331),i(274),i(332),i(334),i(337),i(338)],r=function(e,t,i,s,r,n,o,a,l){var c=e.template(l),h=i.View.extend({initialize:function(t){this.collection=t.collection,this.perPageModel=t.perPageModel,this.perPageModelAttribute=t.perPageModelAttribute,this.addAndRemoveDispatcher=t.addAndRemoveDispatcher,this.timeRange=t.timeRange,this.correlationSearchModel=t.correlationSearchModel,this.children={};var i=e.debounce(this.toggleBulkActions,5);this.listenTo(this.addAndRemoveDispatcher,"performed-select-deselect",i)},addAllRowToSelected:function(){this.addAndRemoveDispatcher.trigger("add-all-selected-kpi")},gotoDeepdive:function(){this.addAndRemoveDispatcher.trigger("go-all-selected-kpilisting-to-deep-dive")},renderControls:function(){this.children.tableView=new s({collection:this.collection,isAdd:!0,isSelectable:!0,isExpandable:!0,addAndRemoveDispatcher:this.addAndRemoveDispatcher,el:t(".listing-container"),timeRange:this.timeRange,correlationSearchModel:this.correlationSearchModel}),this.children.perPageView=new r({model:this.perPageModel,modelAttribute:this.perPageModelAttribute,className:"page-control"}),this.children.bulkActionsView=new n({bulkActions:[{actionName:e("Add Selected").t(),callback:this.addAllRowToSelected,callbackContext:this,additionalClassName:"icon-plus"},{actionName:e("View Selected in Deep Dive").t(),callback:this.gotoDeepdive,callbackContext:this,additionalClassName:"icon-chart-line"}]}),this.children.filterView=new o({callback:this.filter,callbackContext:this}),this.children.paginatorView=new a({model:this.perPageModel}),this.children.tableView.render(),this.$(".kpi-listing-per-page-control").append(this.children.perPageView.render().el),this.$(".bulk-action-control").append(this.children.bulkActionsView.render().el),this.$(".filter-view-control").append(this.children.filterView.render().el),this.$(".kpi-listing-alarm-paginator").append(this.children.paginatorView.render().el)},filter:function(e){this.collection.search(e)},toggleView:function(e){var t=this.$(".action-container"),i=this.$(".listing-container"),s=this.$(".kpi-listing-search-message"),r=this.$(".kpi-no-service-selection");e?(t.show(),i.show(),s.hide(),r.hide()):(t.hide(),i.hide(),s.hide(),r.show())},toggleBulkActions:function(){var e=this.collection.filter(function(e){return e.get("isSelected")});e&&e.length>0?this.children.bulkActionsView&&this.children.bulkActionsView.enable():this.children.bulkActionsView&&this.children.bulkActionsView.disable();
},showSearchMessage:function(e){var t=this.$(".kpi-listing-search-message"),i=this.$(".kpi-no-service-selection");i.hide(),t.show(),t.text(e)},render:function(){return this.$el.html(c({_:e})),this.renderControls(),this.toggleView(!1),this.toggleBulkActions(),this}});return h}.apply(t,s),!(void 0!==r&&(e.exports=r))},function(e,t,i){var s,r;s=[i("require/underscore"),i("shim/jquery"),i("require/backbone"),i("views/shared/delegates/Popdown"),i(275),i(278)],r=function(e,t,i,s,r,n){var o=e.template(n),a=i.View.extend({initialize:function(e){this.bulkActions=e&&e.bulkActions,this.children=[]},renderControls:function(){e.each(this.bulkActions,function(e){var t=new r({actionName:e.actionName,callback:e.callback,callbackContext:e.callbackContext,additionalClassName:e.additionalClassName});this.$(".flat-bulk-actions").append(t.render().el),this.children.push(t)}.bind(this))},disable:function(){e.each(this.children,function(e){e.disable()}.bind(this))},enable:function(){e.each(this.children,function(e){e.enable()}.bind(this))},render:function(){return this.$el.html(o({_:e})),this.renderControls(),this}});return a}.apply(t,s),!(void 0!==r&&(e.exports=r))},function(e,t,i){var s,r;s=[i("require/underscore"),i("shim/jquery"),i("require/backbone"),i(276)],r=function(e,t,i){var s=e.template('<a class="bulk-action <%=additionalClassName%>"><%- actionName %></a>'),r=i.View.extend({tagName:"div",className:"bulk-action-item ",initialize:function(e){this._actionName=e&&e.actionName,this.additionalClassName=e&&e.additionalClassName||"",this._callback=e&&e.callback,this._callbackContext=e&&e.callbackContext},events:{"click a.bulk-action":function(e){e.preventDefault(),this.isDisabled()||void 0!==this._callback&&this._callback.apply(this._callbackContext,arguments)}},toggleAnchor:function(e){var t=this.$("a.bulk-action");e&&t.hasClass("disabled")?t.removeClass("disabled"):e||t.hasClass("disabled")||t.addClass("disabled")},disable:function(){this.toggleAnchor()},enable:function(){this.toggleAnchor(!0)},isDisabled:function(){var e=this.$("a.bulk-action");return e.hasClass("disabled")},render:function(){return this.$el.html(s({_:e,actionName:this._actionName,additionalClassName:this.additionalClassName})),this}});return r}.apply(t,s),!(void 0!==r&&(e.exports=r))},function(e,t,i){var s=i(277);"string"==typeof s&&(s=[[e.id,s,""]]);i(15)(s,{});s.locals&&(e.exports=s.locals)},function(e,t,i){t=e.exports=i(14)(),t.push([e.id,"a.disabled{color:#999;cursor:not-allowed;text-decoration:none}.bulk-action-item{float:left;padding-right:15px}",""])},function(e,t){e.exports='<div class="flat-bulk-actions">\n</div>\n'},function(e,t,i){var s,r;s=[i("require/underscore"),i("shim/jquery"),i("require/backbone"),i(280),i(284)],r=function(e,t,i,s,r){var n=e.template('<table class="table table-chrome table-row-expanding" id="<%=tableId%>"></table>');return i.View.extend({initialize:function(t){this.tableId=this.cid+"-table",this.collection=t.collection,this._isExpandable=t.isExpandable,this._isSelectable=t.isSelectable,this._isSelected=t.isSelected,this._isAdd=t.isAdd,this.correlationSearchModel=t.correlationSearchModel,this.isStatusOverTimeBased=null,this.setSearchOverTime(),this.addAndRemoveDispatcher=t.addAndRemoveDispatcher,this.timeRange=t.timeRange,this._isAssignSeverity=t.isAssignSeverity,this._labels=[],this.getLabels(),this.selectAllModel=new i.Model({isAllSelected:this._isSelected||!1}),this.dispatcher=e.extend({},i.Events),this.listenTo(this.correlationSearchModel,"change:action.itsi_event_generator.param.search_type",function(){this.setSearchOverTime(),this.getLabels(),this.render()},this)},setSearchOverTime:function(){this.isStatusOverTimeBased="composite_kpi_percentage_type"===this.correlationSearchModel.get("action.itsi_event_generator.param.search_type")},getLabels:function(){this._isAssignSeverity?this.isStatusOverTimeBased?this._labels=this._isAdd?[e("Add").t(),e("KPI").t(),e("Service").t(),e("Percentage Status Breakdown").t(),e("Latest Status").t()]:[e("Remove").t(),e("KPI").t(),e("Service").t(),e("Percentage Status Breakdown").t(),e("Latest Status").t(),e("Set Trigger").t()]:this._labels=this._isAdd?[e("Add").t(),e("KPI").t(),e("Service").t(),e("Percentage Status Breakdown").t(),e("Latest Status").t()]:[e("Remove").t(),e("KPI").t(),e("Service").t(),e("Latest Status").t(),e("Importance").t()]:this._labels=this._isAdd?[e("Add").t(),e("KPI").t(),e("Service").t(),e("Percentage Status Breakdown").t(),e("Latest Status").t()]:[e("Remove").t(),e("KPI").t(),e("Service").t(),e("Percentage Status Breakdown").t(),e("Latest Status").t(),e("Set Trigger").t()]},_getHead:function(){return new s({labels:this._labels,isExpandable:this._isExpandable,isSelectable:this._isSelectable,modelAttribute:"isAllSelected",selectAllModel:this.selectAllModel,isAssignedSeverity:this._isAssignSeverity,dispatcher:this.dispatcher})},_getBody:function(){return new r({collection:this.collection,isExpandable:this._isExpandable,isSelectable:this._isSelectable,selectAllModel:this.selectAllModel,isAssignedSeverity:this._isAssignSeverity,isAdd:this._isAdd,modelAllSelectAttribute:"isAllSelected",modelExpandedAttribute:"isExpanded",dispatcher:this.dispatcher,addAndRemoveDispatcher:this.addAndRemoveDispatcher,timeRange:this.timeRange,isStatusOverTimeBased:this.isStatusOverTimeBased})},render:function(){return this.$el.html(n({tableId:this.tableId})),this._getHead().render().$el.appendTo(this.$el.find("#"+this.tableId)),this._getBody().render().$el.appendTo(this.$el.find("#"+this.tableId)),this}})}.apply(t,s),!(void 0!==r&&(e.exports=r))},function(e,t,i){var s,r;s=[i("require/underscore"),i("shim/jquery"),i("require/backbone"),i("views/shared/controls/SyntheticCheckboxControl"),i("helpers/user_agent"),i(281),i(282)],r=function(e,t,i,s,r,n){var o=e.template(n),a=i.View.extend({tagName:"thead",className:"alarm-console-head",initialize:function(e){this._labels=e&&e.labels||[],this._isExpandable=e&&e.isExpandable,this._isSelectable=e&&e.isSelectable,this._isSelectAllChecked=e&&e.isSelectAllChecked||!1,this._modelAttribute=e&&e.modelAttribute||"isAllSelected",this.selectBoxModel=e&&e.selectAllModel||new i.Model({modelAttribute:this._isSelectAllChecked}),this._isAssignedSeverity=e&&e.isAssignedSeverity,this.dispatcher=e&&e.dispatcher,this.dispatcher.on("change-selectAll",function(){this.SelectBox&&(this.SelectBox.remove(),this._renderCheckbox())},this)},updateLabels:function(e){return e&&e.length>0?(this._labels=e,void this.render()):null},_renderCheckbox:function(){this.SelectBox=new s({modelAttribute:this._modelAttribute,model:this.selectBoxModel}),this.$(".checkbox",this.$el).append(this.SelectBox.render().el)},render:function(){return this.$el.html(o({_:e,labels:e.map(this._labels,function(t){var i=t===e("Percentage Status Breakdown").t()?this._isAssignedSeverity?1:2:1,s="add"===t.toLowerCase()||"remove"===t.toLowerCase()?"add-remove-coln":"";return{name:t,colspan:i,specialClass:s}}.bind(this)),isSelectable:this._isSelectable,isExpandable:this._isExpandable,is_ie7:r.isIE7()||r.isIE()&&r.isInIE7DocumentMode()?"ie7":""})),this._isSelectable&&this._renderCheckbox(),this}});return a}.apply(t,s),!(void 0!==r&&(e.exports=r))},function(e,t){e.exports='<tr class="table-alarm-console-header">\n\t<%if(isExpandable) {%>\n\t\t<th class="col-info" style="vertical-align: inherit;"><i class="icon-info"></i></th>\n\t<%}%>\n\t<%if(isSelectable) {%>\n\t\t<th class="checkbox" title="SelectAll">\n\t\t</th>\n\t<%}%>\n\t<% _.each(labels, function(label, index) { %>\n\t\t<th class="col-<%- index %> <%- is_ie7 %> <%- label.specialClass %>" colspan="<%=label.colspan%>"><%- label.name %></th>\n\t<% }) %>\n</tr>'},function(e,t,i){var s=i(283);"string"==typeof s&&(s=[[e.id,s,""]]);i(15)(s,{});s.locals&&(e.exports=s.locals)},function(e,t,i){t=e.exports=i(14)(),t.push([e.id,"tr.table-alarm-console-header th{vertical-align:middle}.add-remove-coln{width:80px}",""])},function(e,t,i){var s,r;s=[i("require/underscore"),i("shim/jquery"),i("require/backbone"),i(285),i(318)],r=function(e,t,i,s,r){return i.View.extend({tagName:"tbody",initialize:function(e){this.collection=e.collection,this._isSelectable=e.isSelectable,this._isExpandable=e.isExpandable,this._isAssignedSeverity=e.isAssignedSeverity||!1,this._isAdd=e.isAdd,this.selectAllModel=e.selectAllModel,this._modelAllSelectAttribute=e.modelAllSelectAttribute,this.dispatcher=e.dispatcher,this.addAndRemoveDispatcher=e.addAndRemoveDispatcher,this.timeRange=e.timeRange,this.isStatusOverTimeBased=e.isStatusOverTimeBased,this._modelSelectAttribute="isSelected",this.listenTo(this.collection,"add",this.addRow),this.listenTo(this.collection,"reset",this.resetAllRow),this.listenTo(this.collection,"change add remove reset",this.toggleSelectAllOnLength),this.dispatcher.on("change-select",this.toggleSelectAll,this),this.childrenRows=[]},toggleSelectAll:function(){var t=e.filter(this.collection.models,function(e){return e.get("isSelected")});t.length===this.collection.models.length?(this.selectAllModel.set(this._modelAllSelectAttribute,!0,{silent:!0}),this.dispatcher.trigger("change-selectAll")):(this.selectAllModel.set(this._modelAllSelectAttribute,!1,{silent:!0}),this.dispatcher.trigger("change-selectAll"))},toggleSelectAllOnLength:function(){0===this.collection.length&&(this.selectAllModel.set(this._modelAllSelectAttribute,!1,{silent:!0}),this.dispatcher.trigger("change-selectAll"))},addRow:function(e){var t="isExpanded",n=new i.Model({modelExpandedAttribute:!1}),o=new s({model:e,isExpandable:this._isExpandable,isSelectable:this._isSelectable,stateModel:n,selectAllModel:this.selectAllModel,isAssignedSeverity:this._isAssignedSeverity,isAdd:this._isAdd,modelExpandedAttribute:t,modelAllSelectAttribute:this._modelAllSelectAttribute,modelSelectAttribute:this._modelSelectAttribute,dispatcher:this.dispatcher,addAndRemoveDispatcher:this.addAndRemoveDispatcher,isStatusOverTimeBased:this.isStatusOverTimeBased,timeRange:this.timeRange});if(o.render().$el.appendTo(this.getFragment()),this.childrenRows.push({id:e.id+"primary-row",object:o}),this._isExpandable){var a=new r({model:e,stateModel:n,modelExpandedAttribute:t,timeRange:this.timeRange,colSpan:this.isStatusOverTimeBased||this._isAdd?7:6});a.render(),e.get(this._modelExpandedAttribute)?a.$el.show():a.$el.hide(),a.$el.appendTo(this.getFragment()),this.childrenRows.push({id:e.id+"secondary-row",object:a})}this.el.appendChild(this.getFragment())},addAllRow:function(){this.collection.each(this.addRow,this)},resetAllRow:function(){e.each(this.childrenRows,function(e){e&&e.object&&e.object.remove()}),this.childrenRows=[],this.addAllRow()},getFragment:function(){return this.fragment||(this.fragment=document.createDocumentFragment()),this.fragment},render:function(){return this.addAllRow(),this}})}.apply(t,s),!(void 0!==r&&(e.exports=r))},function(e,t,i){var s,r;s=[i("require/underscore"),i("shim/jquery"),i("require/backbone"),i(294),i(295),i(286),i(309),i(315),i("shim/splunk.util"),i(316)],r=function(e,t,i,s,r,n,o,a,l){var c=e.template(a);return i.View.extend({tagName:"tr",className:"alarm-console-row ",initialize:function(e){this.rowId=this.cid+"-primary-row",this.model=e&&e.model,this._isSelectable=e&&e.isSelectable,this._isExpandable=e&&e.isExpandable,this.timeRange=e&&e.timeRange,this._modelExpandedAttribute=e&&e.modelExpandedAttribute,this._modelSelectAttribute=e&&e.modelSelectAttribute,this._isAssignedSeverity=e&&e.isAssignedSeverity||!1,this._isAdd=e&&e.isAdd,this.stateModel=e&&e.stateModel,this.selectAllModel=e&&e.selectAllModel,this.addAndRemoveDispatcher=e&&e.addAndRemoveDispatcher,this.isStatusOverTimeBased=e&&e.isStatusOverTimeBased||!1,this._modelAllSelectedAttribute=e&&e.modelAllSelectAttribute,this.dispatcher=e&&e.dispatcher,this._graphHeight=20,this._graphWidth=160,this.listenTo(this.model,"change",function(){this.model.hasChanged("urgency")||this.render()},this),this.listenTo(this.model,"destroy",this.remove),this.listenTo(this.model,"remove",this.remove),this.listenTo(this.model,"change:isShow",this.toggleView),this.listenTo(this.selectAllModel,"change:"+this._modelAllSelectedAttribute,this.toggleAllSelect)},events:function(){var e={};return e["click td#"+this.rowId]="toggleExpand",e["click td .checkbox"]="toggleSelect",e["click a.action-add"]="addKpi",e["click a.action-remove"]="removeKpi",e["click a.set-trigger-link"]="showTriggerModal",e},toggleAddLink:function(){if(this._isAdd){var e=!0;this.model.get("isAdded")&&(e=!1);var t=this.$("a.action-add");e?t.removeClass("disabled"):t.addClass("disabled")}},addKpi:function(){this.addAndRemoveDispatcher.trigger("add-kpi",this.model)},removeKpi:function(){this.addAndRemoveDispatcher.trigger("remove-kpi",this.model)},toggleSelect:function(){this.addAndRemoveDispatcher.trigger("performed-select-deselect",this.model);var e=this.$("td .checkbox .btn .icon-check",this.$el);e&&e.length>0?(this.model.set(this._modelSelectAttribute,!1,{silent:!0}),this.toggleCheckbox(!1)):(this.model.set(this._modelSelectAttribute,!0,{silent:!0}),this.toggleCheckbox(!0)),this.dispatcher.trigger("change-select")},toggleAllSelect:function(){this._isSelectable&&(this.addAndRemoveDispatcher.trigger("performed-select-deselect",this.model),this.selectAllModel.get(this._modelAllSelectedAttribute)?(this.model.set(this._modelSelectAttribute,!0,{silent:!0}),this.toggleCheckbox(!0)):(this.model.set(this._modelSelectAttribute,!1,{silent:!0}),this.toggleCheckbox(!1)))},toggleCheckbox:function(e){var t='<i class="icon-check"></i>',i=this.$("td .checkbox .btn",this.$el),s=this.$("td .checkbox .btn .icon-check",this.$el);e?s&&s.length>=1||i.append(t):s&&s.remove()},toggleExpand:function(){this._isExpandable&&(this.stateModel.get(this._modelExpandedAttribute)?this.collapseState():this.expandState())},expandState:function(){this.stateModel.set(this._modelExpandedAttribute,!0),this.toggleArrow(!0),this.$el.addClass("expanded-class")},collapseState:function(){this.stateModel.set(this._modelExpandedAttribute,!1),this.toggleArrow(!1),this.$el.removeClass("expanded-class")},toggleArrow:function(e){var t=this.$("td#"+this.rowId+" > a > i").removeClass("icon-triangle-right-small icon-triangle-down-small");t.addClass(e?"icon-triangle-down-small":"icon-triangle-right-small")},_renderChartView:function(){var e=new s({model:this.model,height:this._graphHeight});this.$("#severity-count-chart",this.$el).append(e.render().el)},toggleView:function(){this.model.get("isShow")?this.$el.show():this.$el.hide()},renderAndShowModal:function(e){var i=new r({model:this.model,height:"420px",onHiddenRemove:!0,timeRange:this.timeRange});t("body").append(i.render().el),e&&i.show()},showTriggerModal:function(){this._isAssignedSeverity&&this.renderAndShowModal(!0)},renderLatestStatus:function(){var e=new n({model:this.model,modelStatusAttribute:"latest_status",modelColorAttribute:"latest_status_color"});this.$("#latest-status-container").append(e.render().el)},render:function(){var t="";if(this._isAssignedSeverity){var i=this.model.get("triggercount")||0;t=0===i||1===i?l.sprintf(e("%s trigger set").t(),i):l.sprintf(e("%s triggers set").t(),i)}if(this.$el.html(c({_:e,isSelectable:this._isSelectable,isExpandable:this._isExpandable,isSelected:this._isSelected,expanded:this._isExpanded,name:this.model.get("name"),isAssignedSeverity:this._isAssignedSeverity,context:this.model.get("context"),isAdd:this._isAdd,expandId:this.rowId,graphHeight:this._graphHeight,graphWidth:this._graphWidth,checked:this.model.get(this._modelSelectAttribute),colspan:this._isAssignedSeverity?1:2,triggerLabel:t,isStatusOverTimeBased:this.isStatusOverTimeBased})),this.toggleView(),!this.isStatusOverTimeBased&&this._isAssignedSeverity){var s=new o({model:this.model,modelUrgencyAttribute:"urgency"});this.$("#importance-container").append(s.render().el)}else this._renderChartView();this.renderLatestStatus(),this._isAdd&&this.toggleAddLink(),this._isAssignedSeverity&&(this.renderAndShowModal(this.model.get("showFirstTime")),this.model.set({showFirstTime:!1},{silent:!0}));var r=this.model.get("gs_kpi_id");return!this.isStatusOverTimeBased&&r&&0===r.indexOf("SHKPI")&&this.$el.hide(),this}})}.apply(t,s),!(void 0!==r&&(e.exports=r))},,,,,,,,,function(e,t,i){var s,r;s=[i("require/underscore"),i("shim/jquery"),i("require/backbone"),i(156),i(287)],r=function(e,t,i,s,r){var n=i.View.extend({initialize:function(e){this.model=e&&e.model,this.height=e&&e.height||"20",this.severityColors=null},renderGraph:function(t,i){var s=0,r=0;if(e.each(i,function(e){s+=e.percentage,e.percentage>0&&(r+=1)}),0===s)this.$el.append('<div class="result-not-found">'+e("No result found").t()+"</div>");else{if(s>100){var n=s-100,o=n/r;e.each(i,function(e){e.percentage=e.percentage-o})}e.each(i,function(e){e.widthPercentage=e.percentage>0&&Math.floor(1e3*e.percentage)/1e3||0}),e.each(i,function(e){this.$el.append('<div style="width:'+e.widthPercentage+"%;background:"+e.color+";float:left;height:"+t+'px"></div>')}.bind(this)),s<100&&this.$el.append('<div style="width:'+Math.floor(1e3*(100-s))/1e3+"%;background:#ddd;float:left;height:"+t+'px"></div>')}},updateGraph:function(t){this.severityColors||(this.severityColors=r.getLabelColors());var i=e.map(this.severityColors,function(e){return{label:e.label,percentage:this.model.get(e.label+"_actualPercentage")||0,color:e.color,widthPercentage:0}}.bind(this));this.renderGraph(t,i)},getLabels:function(){return r.fetch()},render:function(){return this.getLabels().then(function(){this.severityColors||(this.severityColors=r.cachedLabelColors),this.updateGraph(this.height,this.width)}.bind(this)),this}});return n}.apply(t,s),!(void 0!==r&&(e.exports=r))},function(e,t,i){var s,r;s=[i("shim/jquery"),i("require/underscore"),i("require/backbone"),e,i("splunkjs/mvc/utils"),i("uri/route"),i("views/shared/Modal"),i(296)],r=function(e,t,i,s,r,n,o,a){return o.extend({moduleId:String(s.id),initialize:function(e){o.prototype.initialize.apply(this,arguments),this._title=e.title||t("Triggers for Correlation Search").t(),this.timeRange=e&&e.timeRange,this._primaryButtonText=e.modalPrimaryButtonText||t("Apply").t(),this.model=e&&e.model,this.triggerSelectionView=new a({model:this.model,timeRange:this.timeRange})},events:e.extend({},o.prototype.events,{"click .modal-btn-primary":"_saveHide","click .modal-btn-cancel":"hide"}),_saveHide:function(e){e.preventDefault();var t=this.triggerSelectionView.getTriggerCount();this.triggerSelectionView.setTriggerVal(),this.trigger("modal-done"),this.hide(),this.model.set("triggercount",t)},render:function(){return this.$el.html(o.TEMPLATE),this.$el.addClass("correlation-search-trigger-modal"),this.$(o.BODY_SELECTOR).addClass("correlation-search-trigger-modal-body"),this.$(o.HEADER_TITLE_SELECTOR).html(this._title),this.$(o.BODY_SELECTOR).append(this.triggerSelectionView.render().el),this.$(o.FOOTER_SELECTOR).append(o.BUTTON_CANCEL),this.$(o.FOOTER_SELECTOR).append('<a class="btn btn-primary modal-btn-primary pull-right" data-dismiss="modal">'+this._primaryButtonText+"</a>"),this}})}.apply(t,s),!(void 0!==r&&(e.exports=r))},function(e,t,i){var s,r;s=[i("require/underscore"),i("shim/jquery"),i("require/backbone"),i(156),i(287),i("views/shared/controls/SyntheticCheckboxControl"),i(297),i(302),i("util/time"),i("collections/services/data/ui/Times"),i(306),i(307)],r=function(e,t,i,s,r,n,o,a,l,c,h,d){var p=e.template(h);return i.View.extend({initialize:function(e){this.model=e&&e.model,this.timeRange=e&&e.timeRange,this.modelControls=new i.Model({isShowExistingData:!0}),this.listenTo(this.modelControls,"change:isShowExistingData",this.toggleSelectorBar),this.selectorCollection=new i.Collection,this.height=20,this.width=200,this.severityColors=null,this.children={},this.children.selectorRows=[]},getTriggerCount:function(){return this.selectorCollection.filter(function(e){return e.get("isSelected")&&e.get("newPercentageVal")>0}).length},setTriggerVal:function(){this.selectorCollection.each(function(e){var t=e.get("label"),i=(e.get("totalVal"),e.get("newPercentageVal")),s=e.get("isSelected");s||(i=0),this.model.set(t+"_triggerPercentage",i);var r=t+"_triggerCheckboxState";this.model.set(r,s,{silent:!0})}.bind(this))},events:{"click .refresh-link a":function(e){e.preventDefault(),this.setToExistingData()}},setToExistingData:function(){e.each(this.children.selectorRows,function(e){e.view.resetLighterBar()})},toggleSelectorBar:function(){var t=this.modelControls.get("isShowExistingData");e.each(this.children.selectorRows,function(e){e.view.toggleBrighterBar(t)})},renderSelectors:function(){this.severityColors||(this.severityColors=r.getLabelColors());var t=e.map(this.severityColors,function(e){var t={label:e.label,triggerCheckbox:this.model.get(e.label+"_triggerCheckboxState"),color:e.color,colorLight:e.lightcolor,totalOccurences:this.model.get(e.label+"_totalOccurences"),actualPercentageVal:this.model.get(e.label+"_actualPercentage")>0&&Math.min(this.model.get(e.label+"_actualPercentage"),100)/100||0,newPercentageVal:this.model.get(e.label+"_triggerPercentage")>0&&Math.min(this.model.get(e.label+"_triggerPercentage"),100)/100||0,backgroundColor:"#F5F5F5",disabledColorLight:"#EBEBEB",disabledColor:"#D7D7D7"};return t}.bind(this));e.each(t,this.renderSelectorRows,this)},renderSelectorRows:function(e,t){var s=new i.Model({label:e.label,totalVal:e.totalOccurences,isSelected:!0,newPercentageVal:Math.floor(100*e.newPercentageVal*100)/100||0});0===s.get("newPercentageVal")&&s.set("isSelected",!1),e.hasOwnProperty("triggerCheckbox")&&!e.triggerCheckbox&&s.set("isSelected",!1),this.selectorCollection.add(s);var r=new o({model:s,selectorProperties:e,height:this.height,width:this.width});this.$(".trigger-selection-container").append(r.render().el),this.children.selectorRows.push({label:e.label,view:r})},renderControls:function(){this.children.showDataCheckbox=new n({model:this.modelControls,modelAttribute:"isShowExistingData",label:e("Show data from selected time range").t()}),this.$(".show-data-check-box").append(this.children.showDataCheckbox.render().el)},renderStatement:function(){var e=l.generateLabel(new c,this.timeRange&&this.timeRange.val()&&this.timeRange.val().earliest_time,null,this.timeRange&&this.timeRange.val()&&this.timeRange.val().latest_time,null),t=new a({collection:this.selectorCollection,kpiName:this.model.get("name"),statusModelAttribute:"label",percentageModelAttribute:"newPercentageVal",checkboxModelAttribute:"isSelected",isTriggerCollection:!0,timeLabel:e});this.$(".statement-container").append(t.render().el)},renderView:function(){this.$el.html(p({_:e})),this.renderSelectors(),this.renderControls(),this.renderStatement()},render:function(){return r.fetch().then(function(){this.severityColors||(this.severityColors=r.cachedLabelColors),this.renderView()}.bind(this)),this}})}.apply(t,s),!(void 0!==r&&(e.exports=r))},function(e,t,i){var s,r;s=[i("require/underscore"),i("shim/jquery"),i("require/backbone"),i("views/shared/controls/SyntheticCheckboxControl"),i("views/shared/controls/TextControl"),i(298),i(299),i(291),i(300)],r=function(e,t,i,s,r,n,o,a){var l=e.template(o),c=i.View.extend({className:"clear-both",initialize:function(e){this.model=e&&e.model,this.selectorProperties=e&&e.selectorProperties,this.height=e&&e.height,this.width=e&&e.width,this.children={},this.listenTo(this.model,"change:isSelected",this.toggleSelectorBar),this.listenTo(this.model,"toggle-brighterbar",this.toggleBrighterBar),this.listenTo(this.model,"reset-lightbar",this.resetLighterBar),this.listenTo(this.model,"change:newPercentageVal",function(){var e=this.model.get("newPercentageVal"),t=parseFloat(e,10)>100?100:parseFloat(e,10)<0?0:e;this.model.set({newPercentageVal:t}),0===t&&this.model.set("isSelected",!1);var i=t/100;this.children.selectorBar&&!this.children.selectorBar.isSameTriggerVal(i)&&this.children.selectorBar.resetLightBarValue(!0,i)})},resetLighterBar:function(){this.children.selectorBar&&this.children.selectorBar.resetLightBarValue(!0)},toggleBrighterBar:function(e){e?this.children.selectorBar&&this.children.selectorBar.toggleBrighterBar(!0):this.children.selectorBar&&this.children.selectorBar.toggleBrighterBar(!1)},toggleSelectorBar:function(){var e=this.$(".textlabel-"+this.selectorProperties.label),t=this.$(".greater-than-control-"+this.selectorProperties.label);e.removeClass("disable-label"),t.removeClass("disable-label"),this.model.get("isSelected")?(this.children.selectorBar&&this.children.selectorBar.toggleDisable(!1),this.children.text&&this.children.text.enable(),e.removeClass("disable-label"),t.removeClass("disable-label")):(this.children.selectorBar&&this.children.selectorBar.toggleDisable(!0),this.children.text&&this.children.text.disable(),e.addClass("disable-label"),t.addClass("disable-label"))},updatePercentage:function(e){var t=Math.floor(100*e*100)/100;this.model.set("newPercentageVal",t)},renderControls:function(){this.children.checkbox=new s({model:this.model,modelAttribute:"isSelected"}),this.children.text=new r({model:this.model,modelAttribute:"newPercentageVal",inputClassName:"selector-row-text-input",elementId:"textbox-"+this.selectorProperties.label});var e=this.$(".bar-selector-"+this.selectorProperties.label);this.children.selectorBar=new n({el:e,selectorProperties:this.selectorProperties,height:this.height,width:this.width}),this.children.selectorBar.render(),this.listenTo(this.children.selectorBar,"update-percentange",this.updatePercentage),this.$(".checkbox-"+this.selectorProperties.label).append(this.children.checkbox.render().el),this.$(".textbox-"+this.selectorProperties.label).append(this.children.text.render().el)},render:function(){return this.$el.html(l({_:e,label:this.selectorProperties.label,displayLabel:a.getSeverityLabel(this.selectorProperties.label)})),this.renderControls(),this.toggleSelectorBar(),this}});return c}.apply(t,s),!(void 0!==r&&(e.exports=r))},function(e,t,i){var s,r;s=[i("require/underscore"),i("shim/jquery"),i("require/backbone"),i(156),i(287)],r=function(e,t,i,s,r){return i.View.extend({initialize:function(e){this.selectorProperties=e&&e.selectorProperties,this.height=e&&e.height||20,this.width=e&&e.width||200,this.barElementSvg=null,this.polygonElement=null,this.innerPattern=null,this.lighterRect=null,this.brighterRect=null,this.polygonGroup=null},renderBar:function(){var t=this.height,i=this.width,r=5,n=20,o=2*r,a=[{x:0,y:0},{x:r,y:n/7},{x:r,y:n},{x:-r,y:n},{x:-r,y:n/7}];this.barElementSvg=s.select(this.$el.get(0)).append("svg").attr("width",i+2*o).attr("height",t+n);var l=this.barElementSvg.append("defs");this.patternId="pattern-"+this.selectorProperties.label,this.innerPattern=l.append("pattern").attr("id",this.patternId).attr("patternContentUnits","objectBoundingBox").attr("height",".25").attr("width",".25"),this.innerPattern.append("circle").attr("cx","0.125").attr("cy","0.125").attr("r","0.1").attr("fill",this.selectorProperties.color),this.grayPatternId="gray-pattern-"+this.selectorProperties.label,this.innerPattern=l.append("pattern").attr("id",this.grayPatternId).attr("patternContentUnits","objectBoundingBox").attr("height",".25").attr("width",".25"),this.innerPattern.append("circle").attr("cx","0.125").attr("cy","0.125").attr("r","0.1").attr("fill",this.selectorProperties.disabledColor);var c=this.barElementSvg.selectAll("g").data([this.selectorProperties]);this.barGroupElementEnter=c.enter().append("g"),this.barGroupElementEnter.attr("transform","translate("+o+", 0)").attr("class","main-group-container");this.barGroupElementEnter.append("rect").attr("height",t).attr("width",i).attr("fill-opacity",.7).attr("fill",function(e){return e.backgroundColor}).attr("class","background-bar");this.lighterRect=this.barGroupElementEnter.append("rect").attr("height",t).attr("width",function(e){return Math.min(e.newPercentageVal,1)*i}).attr("fill-opacity",.7).attr("fill",function(e){return e.colorLight}).attr("class","lightbar-bar"),this.brighterRect=this.barGroupElementEnter.append("rect").attr("height",t/2).attr("y",t/4).attr("width",function(e){return Math.min(e.actualPercentageVal,1)*i}).attr("fill",function(e){return e.color}).attr("class","brighter-bar");var h=e.map(a,function(e){return e.x+","+e.y}).join(", ");this.polygonGroup=this.barGroupElementEnter.append("g").attr("transform",function(e){return"translate("+Math.min(e.newPercentageVal,1)*i+","+t+")"}).attr("cursor","move"),this.polygonElement=this.polygonGroup.append("polygon").attr("points",h).attr("fill",function(e){return e.colorLight}).attr("stroke",function(e){return e.color}).attr("stroke-width",1),this.fillingPattern=this.polygonGroup.append("rect").attr("x",-.75*r).attr("y",n/3).attr("width",1.5*r).attr("height",n/2).attr("fill","url(#"+this.patternId+")");var d=s.behavior.drag().origin(function(e){return e.x=e.newPercentageVal*i,e.y=t,e.origX=e.x,e.origY=e.y,e}).on("dragstart",function(e){s.event.sourceEvent.stopPropagation(),this.polygonGroup.attr("fill-opacity","0.2")}.bind(this)).on("drag",function(e){this.polygonGroup.attr("transform",function(e){var r;return r=s.event.dx>0?Math.min(s.event.dx,i-e.x):Math.max(s.event.dx,-e.x),e.x=Math.min(e.x+r,i),"translate("+e.x+","+t+")"}),this.lighterRect.attr("width",function(e){return e.newPercentageVal=e.x/i,e.x}),this.updatePercentage(e.newPercentageVal)}.bind(this)).on("dragend",function(e){this.polygonGroup.attr("fill-opacity","1")}.bind(this));this.polygonGroup.call(d),c.exit().remove()},dragMove:function(e){this.polygonGroup.attr("transform",function(e){var t;return t=s.event.dx>0?Math.min(s.event.dx,this.width-e.x):Math.max(s.event.dx,-e.x),e.x=Math.min(e.x+t,this.width),"translate("+e.x+","+this.height+")"}),this.lighterRect.attr("width",function(e){return e.newPercentageVal=e.x/this.width,e.x}),this.updatePercentage(e.newPercentageVal)},toggleBrighterBar:function(e){var t=this.$(".brighter-bar");e?t.show():t.hide()},resetLightBarValue:function(e,t){void 0===t||null===t?this.selectorProperties.newPercentageVal=this.selectorProperties.actualPercentageVal:this.selectorProperties.newPercentageVal=Math.min(t,1);var i=this.width*this.selectorProperties.newPercentageVal,s=this.height;this.polygonGroup.attr("transform",function(){return"translate("+i+","+s+")"}),this.lighterRect.attr("width",i),e&&this.trigger("update-percentange",this.selectorProperties.newPercentageVal)},isSameTriggerVal:function(e){return e===this.selectorProperties.newPercentageVal},toggleDisable:function(e){e?(this.lighterRect.attr("fill",this.selectorProperties.disabledColorLight),this.brighterRect.attr("fill",this.selectorProperties.disabledColor),this.polygonElement.attr("fill",this.selectorProperties.disabledColorLight).attr("stroke",this.selectorProperties.disabledColor),this.fillingPattern.attr("fill","url(#"+this.grayPatternId+")")):(this.lighterRect.attr("fill",this.selectorProperties.colorLight),this.brighterRect.attr("fill",this.selectorProperties.color),this.polygonElement.attr("fill",this.selectorProperties.colorLight).attr("stroke",this.selectorProperties.color),this.fillingPattern.attr("fill","url(#"+this.patternId+")"))},updatePercentage:function(e){this.selectorProperties.newPercentageVal=e,this.trigger("update-percentange",e)},render:function(){return this.renderBar(),this}})}.apply(t,s),!(void 0!==r&&(e.exports=r))},function(e,t){e.exports='<div class="left checkbox-<%=label%>"></div>\n<div class="left bar-selector-<%=label%>"></div>\n<div class="left greater-than-control-<%=label%>"> >= </div>\n<div class="left textbox-<%=label%>"></div>\n<div class="left textlabel-<%=label%>">\n\t<div class="percentage-control left">%</div>\n\t<div class="label-container left"><%- displayLabel %></div>\n</div>\n'},function(e,t,i){var s=i(301);"string"==typeof s&&(s=[[e.id,s,""]]);i(15)(s,{});s.locals&&(e.exports=s.locals)},function(e,t,i){t=e.exports=i(14)(),t.push([e.id,"div[class*=checkbox-] div.control label.checkbox{margin-top:0}div[class*=greater-than-control]{padding-right:10px;font-size:16px;padding-top:3px}div[class*=textbox-] div.control .uneditable-input,div[class*=textbox-] div.control input.selector-row-text-input{padding-left:5px;padding-right:5px;width:30px}div[class*=textlabel-]{padding:5px;font-size:14px}div[class*=textlabel-] div.percentage-control{padding-right:5px}div[class*=textlabel-] div.label-container{max-width:50px}.disable-label{color:#c2c2c2}",""]);
},function(e,t,i){var s,r;s=[i("require/underscore"),i("shim/jquery"),i("require/backbone"),i("shim/splunk.util"),i(303),i(304)],r=function(e,t,i,s,r){var n=e.template(r,null,{variable:"vars"}),o=i.View.extend({className:"condition-statement-main-container",initialize:function(t){this.operationBetweenTrigger=t&&t.operationBetweenTrigger||e("OR").t(),this.isTriggerCollection=t&&t.isTriggerCollection||!1,this.kpiName=t&&t.kpiName,this.statusModelAttribute=t&&t.statusModelAttribute,this.percentageModelAttribute=t&&t.percentageModelAttribute,this.checkboxModelAttribute=t&&t.checkboxModelAttribute,this.combinedStatusAndPercentageAttribute=t&&t.combinedStatusAndPercentageAttribute||"_triggerPercentage",this.combinedStatusAndCheckboxAttribute=t&&t.combinedStatusAndCheckboxAttribute||"_triggerCheckboxState",this.collection=t&&t.collection,this.operationBetweenKpi=t&&t.operationBetweenKpi||e("AND").t(),this.height=t&&t.height,this.timeLabel=t&&t.timeLabel||e("designated time").t(),this.height&&this.$el.css({height:this.height+"px"}),this.statements=[],this.collection&&this.listenTo(this.collection,"change add remove reset",this.render)},getBasicStatement:function(t){return this.isTriggerCollection?s.sprintf(e("If %s is ").t(),t):e("At least one trigger condition must be met for ").t()},getTriggerStatement:function(t,i,r){return this.isTriggerCollection?s.sprintf(e(" at %s severity level >= %s% ").t(),t[0].toUpperCase()+t.slice(1),i):r},getLastStatement:function(){return this.isTriggerCollection?s.sprintf(e(" of the %s").t(),this.timeLabel):void 0},getStatement:function(e){var t=null;return this.isTriggerCollection&&e.get(this.checkboxModelAttribute)&&e.get(this.percentageModelAttribute)>0&&(t=this.getBasicStatement(this.kpiName)+this.getTriggerStatement(e.get(this.statusModelAttribute),e.get(this.percentageModelAttribute))+this.getLastStatement()),t},getStatements:function(){if(this.collection)if(this.isTriggerCollection)this.collection.each(function(e){var t=this.getStatement(e);t&&this.statements.push(t)}.bind(this));else if(this.collection.length>0){var t=this.getBasicStatement(null),i=this.collection.map(function(e){return this.getTriggerStatement(null,null,e.get("name"))}.bind(this));t+=e.filter(i,function(e){return void 0!==e}).join(" "+this.operationBetweenKpi+" "),this.statements.push(t)}},render:function(){return this.statements=[],this.getStatements(),this.$el.html(n({_:e,statements:this.statements,operationBetweenKpi:this.isTriggerCollection?this.operationBetweenTrigger:this.operationBetweenKpi},{variable:"vars"})),this}});return o}.apply(t,s),!(void 0!==r&&(e.exports=r))},function(e,t){e.exports='<div class="condition-statement">\n<%vars._.each(vars.statements, function(statement, index) {\n\tif(index==0) { %>\n\t\t<div><%-statement%></div>\n\t<%} else {%>\n\t\t<div><%-vars.operationBetweenKpi%></div>\n\t\t<div><%-statement%></div>\n\t<%}%>\n<%})%>\n</div>'},function(e,t,i){var s=i(305);"string"==typeof s&&(s=[[e.id,s,""]]);i(15)(s,{});s.locals&&(e.exports=s.locals)},function(e,t,i){t=e.exports=i(14)(),t.push([e.id,".condition-statement-main-container{padding-left:10px;font-style:italic;font-size:11px}.condition-statement{max-height:100%;overflow:auto}",""])},function(e,t){e.exports='<div class="trigger-selection-container">\n</div>\n<div class="overall-statement-container clear-both">\n\t<label><%-_("Condition Statement:").t()%></label>\n\t<div class="statement-container">\n</div>\n<div class="data-controls-container clear-both">\n\t<div class="show-data-check-box"></div>\n\t<div class="refresh-link">\n\t\t<a>\n\t\t\t<div class="left icon-rotate"></div>\n\t\t\t<label class="set-to-current-data"><%=_("Set to current data").t()%></label>\n\t\t</a>\n\t</div>\n</div>'},function(e,t,i){var s=i(308);"string"==typeof s&&(s=[[e.id,s,""]]);i(15)(s,{});s.locals&&(e.exports=s.locals)},function(e,t,i){t=e.exports=i(14)(),t.push([e.id,".left{float:left}.right{float:right}.center{text-align:center}.clear-both{clear:both}.set-to-current-data{padding-left:20px}.data-controls-container,.overall-statement-container{padding-top:10px}",""])},function(e,t,i){var s,r;s=[i("require/underscore"),i("shim/jquery"),i("require/backbone"),i(310),i(313)],r=function(e,t,i,s,r){return i.View.extend({className:"importance-input-class",initialize:function(e){this.model=e&&e.model,this.modelUrgencyAttribute=e&&e.modelUrgencyAttribute},render:function(){var e=new s({model:this.model,modelAttribute:this.modelUrgencyAttribute,min:1,max:11,step:1,showStepLabels:!0,small:!0});return this.$el.append(e.render().el),this}})}.apply(t,s),!(void 0!==r&&(e.exports=r))},,,,function(e,t,i){var s=i(314);"string"==typeof s&&(s=[[e.id,s,""]]);i(15)(s,{});s.locals&&(e.exports=s.locals)},function(e,t,i){t=e.exports=i(14)(),t.push([e.id,".importance-input-class.slider label{margin-top:10px}",""])},function(e,t){e.exports='<%if(isExpandable) {%>\n\t<td id="<%=expandId%>" class="expands">\n\t\t<a><i class="icon-triangle-<%- expanded ? "down" : "right" %>-small"></i></a>\n\t</td>\n<%}%>\n<%if(isSelectable) {%>\n\t<td class="checkbox">\n\t\t<label class="checkbox">\n\t\t\t<a class="btn show">\n\t\t\t\t<%if (checked) {%>\n\t\t\t\t\t<i class="icon-check"></i>\n\t\t\t\t<%}%>\n\t\t\t</a>\n\t\t</label>\n\t</td>\n<%}%>\n<%if(isAdd) {%>\n\t<td class="add">\n\t\t<a class="action-add">\n\t\t\t<i class="icon-plus"></i>\n\t\t\t<%=_("Add").t()%>\n\t\t</a>\n\t</td>\n<%} else {%>\n\t<td class="remove">\n\t\t<a class="action-remove">\n\t\t\t<i class="icon-minus"></i>\n\t\t\t<%=_("Remove").t()%>\n\t\t</a>\n\t</td>\n<%}%>\n<td id="name">\n\t<%-name%>\n</td>\n<td id="context">\n\t<%-context%>\n</td>\n<% if(!(!isStatusOverTimeBased && isAssignedSeverity)){%>\n\t<td id="severity-count-chart"  colspan=<%=colspan%> style="min-width:<%=graphWidth%>px; min-height: <%=graphHeight%>px;"></td>\n<%}%>\n\n<td id="latest-status-container"></td>\n\n<% if(!isStatusOverTimeBased && isAssignedSeverity){%>\n\t<td id="importance-container" colspan="<%=colspan%>"></td>\n<%} else if(isStatusOverTimeBased && isAssignedSeverity) {%>\n\t<td class="assign-serverity">\n\t\t<a class="set-trigger-link">\n\t\t\t<%- triggerLabel %>\n\t\t</a>\n\t</td>\n<%}%>\n\n\n\n'},function(e,t,i){var s=i(317);"string"==typeof s&&(s=[[e.id,s,""]]);i(15)(s,{});s.locals&&(e.exports=s.locals)},function(e,t,i){t=e.exports=i(14)(),t.push([e.id,"tr.alarm-console-row td{vertical-align:middle;overflow-x:hidden;text-overflow:ellipsis}.expanded-class{background-color:#f5f5f5;border-bottom-style:hidden}tr.alarm-console-header th.checkbox{width:15px}a.disabled{color:#999;cursor:not-allowed;text-decoration:none}",""])},function(e,t,i){var s,r;s=[i("require/underscore"),i("shim/jquery"),i("require/backbone"),i(319),i(328),i(329)],r=function(e,t,i,s,r,n){var o=e.template(r);return i.View.extend({tagName:"tr",className:"expanded-row",initialize:function(e){this.rowId=this.cid+"-second-row",this.model=e.model,this._modelExpandedAttribute=e.modelExpandedAttribute||"isExpanded",this.RowDetailsView=e.RowDetailsView||s,this._colSpan=e.colSpan||5,this._rowDetailsViewObj=null,this.stateModel=e.stateModel,this.timeRange=e.timeRange,this.listenTo(this.model,"change",this.render),this.listenTo(this.model,"destroy",this.remove),this.listenTo(this.model,"remove",this.remove),this.listenTo(this.model,"change:isShow",this.toggleViewBasedisShow),this.listenTo(this.stateModel,"change:"+this._modelExpandedAttribute,this.toggleExtandedRow),this._firstRender=!0},toggleExtandedRow:function(e){this.stateModel.get(this._modelExpandedAttribute)?this.toggleView(!0):this.toggleView(!1)},toggleView:function(e){this._rowDetailsViewObj||(this._rowDetailsViewObj=new s({model:this.model,timeRange:this.timeRange}),this.$el.find("#"+this.rowId).append(this._rowDetailsViewObj.render().el)),e?this.$el.show():this.$el.hide()},toggleViewBasedisShow:function(){this.model.get("isShow")?this.stateModel.get(this._modelExpandedAttribute)&&this.$el.show():this.$el.hide()},render:function(){return this._firstRender&&(this.$el.html(o({_:e,colSpan:this._colSpan,id:this.rowId})),this._firstRender=!1),this.toggleViewBasedisShow(),this}})}.apply(t,s),!(void 0!==r&&(e.exports=r))},function(e,t,i){var s,r;s=[i("require/underscore"),i("shim/jquery"),i("require/backbone"),i(320),i(322),i(324),i(325),i(326)],r=function(e,t,i,s,r,n,o,a){var l=e.template(o);return i.View.extend({tagName:"div",className:"row-details-view",initialize:function(e){this.model=e.model,this.children={},this.timeRange=e.timeRange,this.isShowEditOption=!0,this.model&&this.model.get("gs_kpi_id")&&0===this.model.get("gs_kpi_id").indexOf("SHKPI-")&&(this.isShowEditOption=!1),this.listenTo(this.model,"change",this.render),this.listenTo(this.model,"destroy",this.remove),this.listenTo(this.model,"remove",this.remove)},openSearch:function(e){e.preventDefault(),n.openInSearch(this.model.get("gs_kpi_id"),this.model.get("gs_service_id"),this.model.get("context"),this.timeRange.val().earliest_time,this.timeRange.val().latest_time)},openDeepdive:function(e){e.preventDefault(),n.openInDeepDive(!0,[{kpiId:this.model.get("gs_kpi_id"),serviceId:this.model.get("gs_service_id"),kpiName:this.model.get("name"),serviceName:this.model.get("context")}],this.timeRange.val().earliest_time,this.timeRange.val().latest_time)},editKpi:function(e){e.preventDefault(),n.editKpi(this.model.get("gs_kpi_id"),this.model.get("gs_service_id"))},_renderControls:function(){this.children.Search=new s({callbackContext:this,callback:this.openSearch,buttonLabel:e("Run Search").t(),buttonId:"search-button",className:"internal-button-padding",rightIcon:"icon-external"}),this.children.Deepdive=new s({callbackContext:this,callback:this.openDeepdive,buttonLabel:e("View in Deep Dive").t(),buttonId:"deepdive-button",className:"internal-button-padding",leftIcon:"icon-chart-line"}),this.isShowEditOption&&(this.children.Kpi=new s({callbackContext:this,callback:this.editKpi,buttonLabel:e("Edit KPI").t(),buttonId:"kpi-button",className:"internal-button-padding"})),this.children.SeverityList=new r({model:this.model}),this.$(".severity-list-view",this.$el).append(this.children.SeverityList.render().el),this.$(".button-view1",this.$el).append(this.children.Search.render().el),this.$(".button-view1",this.$el).append(this.children.Deepdive.render().el),this.isShowEditOption&&this.$(".button-view2",this.$el).append(this.children.Kpi.render().el)},render:function(){return this.$el.html(l({_:e})),this._renderControls(),this}})}.apply(t,s),!(void 0!==r&&(e.exports=r))},,,function(e,t,i){var s,r;s=[i("require/underscore"),i("shim/jquery"),i("require/backbone"),i(287),i(291),i(323)],r=function(e,t,i,s,r,n){var o=e.template(n),a=i.View.extend({initialize:function(e){this.model=e.model,this.severityColors=null},renderView:function(){this.severityColors||(this.severityColors=this.severityLabels.getLabelColors());var t=e.map(this.severityColors,function(e){return{label:r.getSeverityLabel(e.label),value:this.model.get(e.label)||0,color:e.color}}.bind(this));this.$el.html(o({_:e,severityLabels:t}))},getLabels:function(){return s.fetch()},render:function(){return this.getLabels().done(function(){this.severityColors=s.cachedLabelColors,this.renderView()}.bind(this)),this}});return a}.apply(t,s),!(void 0!==r&&(e.exports=r))},function(e,t){e.exports='<table>\n\t<thead>\n\t\t<tr>\n\t\t\t<th style="font-weight: bold"><%- _(\'Severity\').t() %></th>\n\t\t</tr>\n\t</thead>\n\t<tbody>\n\t\t<tr class="datamodel-name-cell">\n\t\t\t<td>\n\t\t\t<dl class="list-dotted">\n\t\t\t<%_.each(severityLabels, function(severityLabel)  {%>\n\t\t\t\t<%var style = "color:"+severityLabel.color%>\n\t\t\t\t<dt style="<%=style%>">\n\t\t\t\t\t<%- severityLabel.label %>\n\t\t\t\t</dt>\n\t\t\t\t<dd>\n\t\t\t\t\t<%=severityLabel.value%>\n\t\t\t\t</dd>\n\t\t\t<%});%>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>\n'},,function(e,t){e.exports='<table>\n\t<tbody>\n\t\t<tr>\n\t\t\t<td class="inner-contents">\n\t\t\t\t<table>\n\t\t\t\t\t<tbody>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class="severity-list-view internal-td-padding" style="padding: 20px;min-width: 160px;"></td>\n\t\t\t\t\t\t\t<td class="button-view1 internal-td-padding"  style="padding: 20px;min-width: 160px;"></td>\n\t\t\t\t\t\t\t<td class="button-view2 internal-td-padding"  style="padding: 20px;min-width: 160px;"></td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</tbody>\n\t\t\t\t</table>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>\n\n'},function(e,t,i){var s=i(327);"string"==typeof s&&(s=[[e.id,s,""]]);i(15)(s,{});s.locals&&(e.exports=s.locals)},function(e,t,i){t=e.exports=i(14)(),t.push([e.id,".internal-td-padding{padding:20px}.internal-button-padding{padding:5px}.row-details-view td{border-top:0;border-bottom:0;padding-left:0;padding-bottom:4px;padding-top:0}",""])},function(e,t){e.exports='<td class="expands">\n</td>\n<td class="row-details-view" colspan="<%=colSpan%>" id="<%=id%>">\n</td>\n'},function(e,t,i){var s=i(330);"string"==typeof s&&(s=[[e.id,s,""]]);i(15)(s,{});s.locals&&(e.exports=s.locals)},function(e,t,i){t=e.exports=i(14)(),t.push([e.id,".expanded-row{background-color:#f5f5f5}.expanded-row td th{border-bottom-style:hidden}",""])},function(e,t,i){var s,r;s=[i("require/underscore"),i("shim/jquery"),i("require/backbone"),i("views/shared/controls/ControlGroup")],r=function(e,t,i,s){var r=i.View.extend({initialize:function(e){this.model=e&&e.model,this.modelAttribute=e&&e.modelAttribute},render:function(){var t=new s({controlType:"SyntheticSelect",controlOptions:{model:this.model,modelAttribute:this.modelAttribute,items:[{value:10,label:e("10 Per Page").t()},{value:20,label:e("20 Per Page").t()},{value:50,label:e("50 Per Page").t()},{value:100,label:e("100 Per Page").t()}],popdownOptions:{attachDialogTo:"body"}}});return this.$el.append(t.render().el),this}});return r}.apply(t,s),!(void 0!==r&&(e.exports=r))},function(e,t,i){var s,r;s=[i("require/underscore"),i("shim/jquery"),i("require/backbone"),i(333),i("shim/bootstrap.tooltip")],r=function(e,t,i,s){var r=e.template(s);return i.View.extend({tagName:"form",className:"search-query-control",initialize:function(t){this.placeholder=t&&t.placeholder||e("filter").t(),this._callback=t&&t.callback,this._callbackContext=t&&t.callbackContext},invokeFunction:function(e){void 0!==this._callback&&this._callback.apply(this._callbackContext,[e])},events:{"keyup input":function(e){e.preventDefault(),27===e.keyCode?this.clear():this.invokeFunction(this.$input.val()),this.updateClear(),this.updatePlaceholder()},"click .placeholder":function(e){this.$input.focus()},"mouseup input":function(e){this.updatePlaceholder()},submit:function(e){return!1},"click a.search-query-clear":function(e){e.preventDefault(),this.clear(),this.updateClear(),this.updatePlaceholder()}},isEmpty:function(){return this.$input&&""===this.$input.val()},clear:function(){this.$input.val(""),this.invokeFunction("")},updateClear:function(){this.$clear[this.$input.val()?"show":"hide"]()},updatePlaceholder:function(){this.placeholder||this.$placeholder[""===this.$input.val()?"show":"hide"]()},render:function(){return this.$el.html(r({_:e,placeholder:this.placeholder})),this.$clear=this.$(".search-query-clear"),this.$input=this.$("input"),this.placeholder||(this.$placeholder=this.$(".placeholder")),this}})}.apply(t,s),!(void 0!==r&&(e.exports=r))},function(e,t){e.exports='<input type="text" class="input-medium search-query" <% if(placeholder){ %>placeholder="<%- placeholder %>"<%}%> >\n<a href="#" class="search-query-clear" style="display:none"> <i class="icon-x-circle"></i> </a>\n<% if(!placeholder){ %> <span class="placeholder"><%- placeholder %></span><% } %>'},function(e,t,i){var s,r;s=[i("require/underscore"),i("shim/jquery"),i("require/backbone"),i(335)],r=function(e,t,i,s){var r=0,n=10,o=i.View.extend({className:"gs-paginator",events:{"click a":"onPageClick"},defaults:{itemCount:-1,page:r,perPage:n},initialize:function(e){this.model=e&&e.model,void 0!==this.model.get("page")&&null!==this.model.get("page")||this.model.set("page",this.defaults.page),void 0!==this.model.get("itemCount")&&null!==this.model.get("itemCount")||this.model.set("itemCount",this.defaults.itemCount),void 0!==this.model.get("perPage")&&null!==this.model.get("perPage")||this.model.set("perPage",this.defaults.perPage),this.listenTo(this.model,"change",this.render)},hide:function(){this.$el.css("display","none")},show:function(){this.$el.css("display","")},render:function(i){this.$el.empty();var s=this.model.get("perPage"),r=this.model.get("itemCount");if(r<=s)return this;var n=this.model.get("page"),o=Math.ceil(r/s),a=Math.min(10,o);n>o&&(n=o-1,this.model.set({page:n}));var l,c;l=Math.max(0,n-a/2),c=Math.min(o,l+a)-1,l=Math.max(0,c-a+1);var h=function(e){return"<a href='#' data-page='"+e+"'/>"},d='<a href="#" class="disabled"/>',p='<a href="#" class="selected"/>',u=this.$el,g=t(0===n?d:h("prev"),u);g.html("&laquo; "+e("prev").t()).appendTo(u);var m;for(m=l;m<=c;++m)g=t(m===n?p:h(m)),g.text(m+1).appendTo(u);return g=t(n===c?d:h("next"),u),g.html(e("next").t()+" &raquo;").appendTo(u),this},onPageClick:function(e){if(e.stopPropagation(),e.preventDefault(),!t(e.currentTarget).is(".selected,.disabled")){var i=t(e.currentTarget).attr("data-page"),s=this.model.get("page");switch(i){case"prev":e.shiftKey?s=0:s-=1;break;case"next":if(e.shiftKey){var r=this.model.get("itemCount"),n=this.model.get("perPage");s=parseInt(r/n,10)-(r%n===0?1:0)}else s+=1;break;default:s=parseInt(i,10)}this.model.set({page:s})}}});return o}.apply(t,s),!(void 0!==r&&(e.exports=r))},function(e,t,i){var s=i(336);"string"==typeof s&&(s=[[e.id,s,""]]);i(15)(s,{});s.locals&&(e.exports=s.locals)},function(e,t,i){t=e.exports=i(14)(),t.push([e.id,".gs-paginator{user-select:none;-moz-user-select:none;-webkit-user-select:none;margin-bottom:5px;padding-left:15px;padding-top:5px}.gs-paginator .disabled,.gs-paginator .selected{color:#999;cursor:default}.gs-paginator a{border:1px solid transparent;border-radius:3px;padding-left:5px;padding-right:5px;text-decoration:none;min-width:20px;line-height:20px;display:inline-block;text-align:center}.gs-paginator a.selected,.gs-paginator a:hover{background:#eee}.gs-paginator span{padding-left:5px;padding-right:5px}.gs-paginator a.disabled:hover{background:none}",""])},function(e,t){e.exports='<div class="kpi-listing-upper-container">\n\t<div class="alarm-console-header kpi-listing-header">\n\t\t2. <%=_("KPIs in Selected Services").t()%>\n\t</div>\n\t<div class="action-container hide">\n\t\t<div class="bulk-action-control"></div>\n\t\t<div class="filter-view-control"></div>\n\t\t<div class="kpi-listing-per-page-control"></div>\n\t\t<div class="kpi-listing-alarm-paginator pull-right"></div>\n\t</div>\n</div>\n\n<div class="listing-main-container">\n\t<div class="listing-container hide"> </div>\n\t<div class="kpi-listing-search-message hide"></div>\n\t<div class="icon-arrow-left kpi-listing-message kpi-no-service-selection"> <%=_("Select Services").t()%></div>\n</div>\n\n\n'},function(e,t,i){var s=i(339);"string"==typeof s&&(s=[[e.id,s,""]]);i(15)(s,{});s.locals&&(e.exports=s.locals)},function(e,t,i){t=e.exports=i(14)(),t.push([e.id,".kpi-listing-upper-container{padding-left:10px;padding-top:10px}.bulk-action-control,.page-control{float:left;padding-right:20px}.bulk-action-control{padding-top:5px}.kpi-listing-message{text-align:center;padding-top:100px;color:#999;font-size:16px}.kpi-listing-search-message{text-align:center;padding-top:10px;color:#999;font-size:16px;clear:both}.listing-main-container{height:316px;overflow-y:auto;clear:both}.filter-view-control{float:left;padding-right:20px}",""])},function(e,t,i){var s,r;s=[i("require/underscore"),i("shim/jquery"),i("require/backbone"),i(279),i(331),i(320),i(332),i(334),i(274),i(341),i(302),i(343),i(344)],r=function(e,t,i,s,r,n,o,a,l,c,h,d){var p=e.template(d),u=i.View.extend({initialize:function(t){this.collection=t.collection,this.fullCollection=t.fullCollection,this.perPageModel=t.perPageModel,this.perPageModelAttribute=t.perPageModelAttribute,this.addAndRemoveDispatcher=t.addAndRemoveDispatcher,this.searchTypeChangeDispatcher=t.searchTypeChangeDispatcher,this.timeRange=t.timeRange,this.correlationSearchModel=t.correlationSearchModel,this.children={};var i=e.debounce(this.toggleBulkActions,5);this.listenTo(this.addAndRemoveDispatcher,"performed-select-deselect",i),this.listenTo(this.correlationSearchModel,"change:action.itsi_event_generator.param.search_type",this.toggleStatement)},openDeepdive:function(){this.addAndRemoveDispatcher.trigger("go-all-selectedkpilisting-to-deep-dive-btn")},createCorrelationSearch:function(){this.children.createSearch.$("a").hasClass("disabled")||this.addAndRemoveDispatcher.trigger("create-correlation-search")},removeAllRowFromSelected:function(){this.addAndRemoveDispatcher.trigger("remove-all-selectedkpi")},toggleBulkActions:function(){var e=this.collection.filter(function(e){return e.get("isSelected")});e&&e.length>0?this.children.bulkActionsView&&this.children.bulkActionsView.enable():this.children.bulkActionsView&&this.children.bulkActionsView.disable()},toggleCorrelationButton:function(e){this.children.createSearch&&(e?this.children.createSearch.$("a").addClass("disabled"):this.children.createSearch.$("a").removeClass("disabled"))},toggleStatement:function(){"composite_kpi_percentage_type"===this.correlationSearchModel.get("action.itsi_event_generator.param.search_type")?this.children.showCondition&&this.children.showCondition.$el.show():this.children.showCondition&&this.children.showCondition.$el.hide()},_renderControls:function(){this.children.tableView=new s({collection:this.collection,isAdd:!1,isSelectable:!0,isExpandable:!0,isAssignSeverity:!0,addAndRemoveDispatcher:this.addAndRemoveDispatcher,el:t(".selected-kpi-listing-container"),timeRange:this.timeRange,correlationSearchModel:this.correlationSearchModel}),this.children.createSearch=new n({callbackContext:this,callback:this.createCorrelationSearch,buttonLabel:e("Save").t(),buttonId:"create-search-button",className:"",inputClassName:"btn-primary disabled"}),this.children.perPageView=new r({model:this.perPageModel,modelAttribute:this.perPageModelAttribute,el:t(".selected-kpi-page-control")}),this.children.bulkActionsView=new l({bulkActions:[{actionName:e("Remove Selected").t(),callback:this.removeAllRowFromSelected,callbackContext:this,additionalClassName:"icon-minus"},{actionName:e("View Selected in Deep Dive").t(),callback:this.openDeepdive,callbackContext:this,additionalClassName:"icon-chart-line"}]}),this.children.filterView=new o({callback:this.filter,callbackContext:this}),this.children.paginatorView=new a({model:this.perPageModel}),this.children.selectedKpiOverView=new c({collection:this.fullCollection,className:"overview-label",searchTypeChangeDispatcher:this.searchTypeChangeDispatcher,correlationSearchModel:this.correlationSearchModel}),this.children.showCondition=new h({collection:this.fullCollection,height:40}),this.children.tableView.render(),this.children.perPageView.render(),this.$(".overview-label-grp").append(this.children.selectedKpiOverView.render().el),this.$(".create-correlation-search-control").append(this.children.createSearch.render().el),this.$(".selected-kpi-bulk-actions").append(this.children.bulkActionsView.render().el),this.$(".selected-kpi-filter-control").append(this.children.filterView.render().el),this.$(".selectedkpi-alarm-paginator").append(this.children.paginatorView.render().el),this.$(".condition-statement-control").append(this.children.showCondition.render().el),this.toggleCorrelationButton(!0),this.toggleStatement()},filter:function(e){this.collection.search(e)},toggleView:function(e){var t=this.$(".actions-container"),i=this.$(".selected-kpi-listing-container"),s=this.$(".create-correlation-search-control");e?(t.show(),i.show(),s.show()):(t.hide(),i.hide(),s.hide())},render:function(){return this.$el.html(p({_:e})),this._renderControls(),this.toggleBulkActions(),this}});return u}.apply(t,s),!(void 0!==r&&(e.exports=r))},function(e,t,i){function s(e){return e&&e.__esModule?e:{default:e}}var r,n,o=i(130),a=s(o);r=[i("require/underscore"),i("shim/jquery"),i("require/backbone"),i("shim/splunk.util"),i(286),i(342)],n=function(e,t,i,s,r,n){var o=e.template(n),l=i.View.extend({initialize:function(e){this.collection=e&&e.collection,this.correlationSearchModel=e&&e.correlationSearchModel,this.totalKpis=0,this.totalTriggers=0,this.healthModel=new i.Model,this.searchTypeChangeDispatcher=e.searchTypeChangeDispatcher,this.listenTo(this.collection,"add remove reset change",this.getDataAndShow),this.listenTo(this.searchTypeChangeDispatcher,"changeSearchType",this.getDataAndShow)},getDataAndShow:function(){this.render()},getData:function(i){var r;if(i)r=t.Deferred(),this.totalKpis=this.collection.length,this.totalTriggers=0,this.collection.each(function(t){this.totalTriggers=this.totalTriggers+e.filter(t.keys(),function(e){if(e&&e.toString().indexOf("_triggerCheckboxState")>=0){if(s.normalizeBoolean(t.get(e))===!0){var i=e.substr(0,e.indexOf("_triggerCheckboxState"));return t.get(i+"_triggerPercentage")>0}return!1}return!1}.bind(this)).length}.bind(this)),r.resolve();else{var n=[],o=!1;if(this.collection.each(function(e){0!==e.get("gs_kpi_id").indexOf("SHKPI")&&(e.get("latest_status")&&"unknown"!==e.get("latest_status")?n.push({urgency:e.get("urgency"),severity_name:e.get("latest_status")}):o=!0)}.bind(this)),0===n.length)return r=t.Deferred(),o&&this.healthModel.set({health_score:"N/A",health_severity_name:"unknown",health_severity_color:"#CCCCCC"}),r.resolve(),r;var l={severity_urgency_list:(0,a.default)(n)},c=s.make_url("/custom/SA-ITOA/health_services/get_health_score");r=t.ajax({url:c,type:"POST",data:l,success:function(e){e.success?this.healthModel.set(e.data):console.log("Health score could not be obtained: "+e.message)}.bind(this),error:function(e,t,i){console.log("Health score could not be obtained: "+i)}.bind(this)})}return r},render:function(){var t="composite_kpi_percentage_type"===this.correlationSearchModel.get("action.itsi_event_generator.param.search_type"),i=this.getData(t);return i.done(function(){var i=s.sprintf(e("%s KPIs with %s triggers").t(),this.totalKpis||0,this.totalTriggers||0);if(this.$el.html(o({_:e,triggers:i,is_percentage_based:t,healthScore:this.healthModel.get("health_score")})),!t){var n=new r({model:this.healthModel,modelStatusAttribute:"health_severity_name",modelColorAttribute:"health_severity_color"});this.$(".overview-latest-status").append(n.render().el)}}.bind(this)),this}});return l}.apply(t,r),!(void 0!==n&&(e.exports=n))},function(e,t){e.exports='<%if(is_percentage_based) {%>\n\t<div class="overall-trigger-count-container">\n\t\t<%- triggers %>\n\t</div>\n<%} else if(healthScore !== undefined && healthScore !== null && healthScore !== ""){%>\n\t<div class="overall-trigger-health-container">\n\t<div class="overview-health-score pull-left inline-group">\n\t\t<div class="overview-health-score-text"><%-_("Composite Score:").t()%></div>\n\t\t<div class="overview-health-score-value"><%= healthScore %></div>\n\t</div>\n\t<div class="overview-latest-status"></div>\n\t</div>\n<%}%>\n<%if(!is_percentage_based && (healthScore !== undefined && healthScore !== null && healthScore !== "")) {%>\n\t<span class="help-block">\n\t\t<%- _("Range: Critical 0-20, High 20-40, Medium 40-60, Low 60-80, Normal 80-100").t() %>\n\t</span>\n<%}%>\n'},function(e,t){e.exports='<div class="selected-kpi-upper-container">\n\t<div class="alarm-console-header selected-kpi-header">\n\t\t3. <%=_("Selected KPIs").t()%>\n\t</div>\n\t<table style="width: 100%">\n\t\t<tbody>\n\t\t\t<tr class="selected-kpi-button-container">\n\t\t\t\t<td class="description-grp">\n\t\t\t\t\t<div class="alarm-console-description selected-kpi-description">\n\t\t\t\t\t\t<%=_("The associated correlation search runs when severity-level thresholds exceed trigger conditions").t()%>\n\t\t\t\t\t</div>\n\t\t\t\t</td>\n\t\t\t\t<td class="overview-label-grp"></td>\n\t\t\t</tr>\n\t\t</tbody>\n\n\t</table>\n\t<div class="actions-container hide">\n\t\t<div class="selected-kpi-bulk-actions"></div>\n\t\t<div class="selected-kpi-filter-control"></div>\n\t\t<div class="selected-kpi-page-control"></div>\n\t\t<div class="selectedkpi-alarm-paginator pull-right"></div>\n\t</div>\n</div>\n<div class="selected-kpi-listing-container hide"></div>\n<div class="selected-kpi-bottom-container">\n\t<div class="condition-statement-control pull-left"></div>\n\t<div class="create-correlation-search-control pull-right hide"></div>\n</div>'},function(e,t,i){var s=i(345);"string"==typeof s&&(s=[[e.id,s,""]]);i(15)(s,{});s.locals&&(e.exports=s.locals)},function(e,t,i){t=e.exports=i(14)(),t.push([e.id,".selected-kpi-upper-container{padding-left:10px}.selected-kpi-description{padding-right:10px;float:left}.selected-kpi-button-container td.overview-label-grp{min-width:400px;width:30%;padding-top:0}.selected-kpi-button-container td.ccs-button-grp{min-width:167px;width:5%;padding-top:0}.selected-kpi-button-container td.ccs-button-grp div.create-correlation-search-control label.control-label{padding-top:0}.selected-kpi-button-container td.description-grp{min-width:500px;width:50%}.selected-kpi-bulk-actions{padding-top:5px}.selected-kpi-bulk-actions,.selected-kpi-filter-control,.selected-kpi-page-control{float:left;padding-right:20px}.selected-kpi-listing-container{height:242px;overflow-y:auto;clear:both;min-width:936px}.overview-health-score-value{padding-right:15px;display:inline}.overview-health-score-text{padding-right:5px;display:inline}.overall-trigger-health-container{height:16px;font-size:large}.overall-trigger-count-container{height:40px;font-size:large}.create-correlation-search-control{padding:5px}.condition-statement-control{max-width:94%}",""])},function(e,t,i){var s,r;s=[i("require/underscore"),i("shim/jquery"),i("require/backbone"),i(347),i(332),i(355),i(357),i(358)],r=function(e,t,i,s,r,n,o){var a=e.template(o),l=i.View.extend({initialize:function(t){this.collection=t&&t.collection,this.serviceList=new s({collection:this.collection}),this.searchFilter=new r({placeholder:e("search").t(),callback:this.filterCollection,callbackContext:this}),this.textLabel=new n({label:e("Select services that contain KPIs for your alert. Include service dependencies").t()})},events:{"click a.deselect-all":function(e){e.preventDefault(),this.collection.deselectAll()}},filterCollection:function(e){this.collection.search(e)},showList:function(){this.$(".service-list-search-message").hide(),this.$(".service-list-container").show()},showSearchMessage:function(e){var t=this.$(".service-list-search-message");this.$(".service-list-container").hide(),t.show(),t.text(e)},render:function(){return this.$el.html(a({_:e})),this.$(".service-list-container").append(this.serviceList.render().el),this.$(".search-filter").append(this.searchFilter.render().el),this.$(".service-list-description").append(this.textLabel.render().el),this}});return l}.apply(t,s),!(void 0!==r&&(e.exports=r))},function(e,t,i){var s,r;s=[i("require/underscore"),i("shim/jquery"),i("require/backbone"),i(348),i(352),i(354)],r=function(e,t,i,s,r,n){var o=e.template(n);return i.View.extend({className:"service-list-view",initialize:function(e){this.collection=e&&e.collection,this.children=[],this.listenTo(this.collection,"add",this.addRow),this.listenTo(this.collection,"reset",this.resetAllRow)},addRow:function(e){var t=new s({model:e});this.getFragment().appendChild(t.render().el),this.children.push(t);var i=new r({model:e});this.getFragment().appendChild(i.render().el),this.children.push(i),this.$el.find(".service-list-body").append(this.getFragment())},addAllRow:function(){this.collection.each(this.addRow,this)},resetAllRow:function(){e.each(this.children,function(e){e.remove()}),this.children=[],this.addAllRow()},getFragment:function(){return this.fragment||(this.fragment=document.createDocumentFragment()),this.fragment},render:function(){return this.$el.html(o({_:e})),this.addAllRow(),this}})}.apply(t,s),!(void 0!==r&&(e.exports=r));
},function(e,t,i){var s,r;s=[i("require/underscore"),i("shim/jquery"),i("require/backbone"),i("views/shared/controls/SyntheticCheckboxControl"),i(349),i(350)],r=function(e,t,i,s,r,n){var o=e.template(r,null,{variable:"vars"});return i.View.extend({tagName:"tr",className:"service-list-row",initialize:function(e){this.model=e&&e.model,this.controls={},this.listenTo(this.model,"destroy",this.remove),this.listenTo(this.model,"change",this.render),this.listenTo(this.model,"change:isShow",this.toggleView)},toggleView:function(){this.model.get("isShow")?this.$el.show():this.$el.hide()},renderControls:function(){this.controls.serviceSelect=new s({model:this.model,modelAttribute:"isSelected"}),this.$el.find(".service-select-checkbox").append(this.controls.serviceSelect.render().el)},render:function(){return this.$el.html(o({_:e,label:this.model.get("serviceName")||""},{variable:"vars"})),this.renderControls(),this.toggleView(),this}})}.apply(t,s),!(void 0!==r&&(e.exports=r))},function(e,t){e.exports='<td class="service-select-checkbox">\n</td>\n<td class="service-name" title="<%- vars.label %>">\n\t<%- vars.label %>\n</td>\n'},function(e,t,i){var s=i(351);"string"==typeof s&&(s=[[e.id,s,""]]);i(15)(s,{});s.locals&&(e.exports=s.locals)},function(e,t,i){t=e.exports=i(14)(),t.push([e.id,"td.service-name{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;max-width:100px}",""])},function(e,t,i){var s,r;s=[i("require/underscore"),i("shim/jquery"),i("require/backbone"),i("views/shared/controls/SyntheticCheckboxControl"),i(353)],r=function(e,t,i,s,r){var n=e.template(r);return i.View.extend({tagName:"tr",className:"service-dependent-checkbox-row",initialize:function(e){this.model=e&&e.model,this.controls={},this.listenTo(this.model,"destroy",this.remove),this.listenTo(this.model,"change",this.render),this.listenTo(this.model,"change:isSelected",this.toggleSelect),this.listenTo(this.model,"change:isShow",this.toggleShow)},toggleShow:function(){this.model.get("isSelected")&&this.toggleView("isShow")},toggleView:function(e){this.model.get(e)?this.$el.show():this.$el.hide()},toggleSelect:function(){this.toggleView("isSelected")},renderControls:function(){this.controls.dependsOn=new s({model:this.model,modelAttribute:"isDependsOn",label:e("Depends on").t()}),this.controls.dependent=new s({model:this.model,modelAttribute:"isDependent",label:e("Impacts").t()}),this.$el.find(".depends-on-checkbox").append(this.controls.dependsOn.render().el),this.$el.find(".dependents-checkbox").append(this.controls.dependent.render().el)},render:function(){return this.$el.html(n({_:e})),this.renderControls(),this.toggleView("isSelected"),this.toggleShow(),this}})}.apply(t,s),!(void 0!==r&&(e.exports=r))},function(e,t){e.exports='<td>\n</td>\n<td>\n\t<div class="checkboxes-main-container">\n\t\t<div class="dep-options">\n\t\t\t<div class="depends-on-checkbox"></div>\n\t\t</div>\n\t\t<div class="dep-options">\n\t\t\t<div class="dependents-checkbox"></div>\n\t\t</div>\n\t</div>\n</td>'},function(e,t){e.exports='<table class="table">\n\t<tbody class="service-list-body">\n\t</tbody>\n</table>'},,,function(e,t){e.exports='<div class="service-list-header-container" >\n\t<div class="alarm-console-header service-list-header">\n\t\t1. <%=_("Services").t()%>\n\t</div>\n\t<div class="alarm-console-description service-list-description">\n\t</div>\n\t<div class="search-filter"></div>\n\t<div class="deselect-all-container">\n\t\t<a class="deselect-all"><%=_("Deselect All").t()%></a>\n\t</div>\n</div>\n<div class="service-list-container"></div>\n<div class="service-list-search-message hide"></div>\n\n'},function(e,t,i){var s=i(359);"string"==typeof s&&(s=[[e.id,s,""]]);i(15)(s,{});s.locals&&(e.exports=s.locals)},function(e,t,i){t=e.exports=i(14)(),t.push([e.id,".service-list-header-container{border-bottom-color:#ccc;border-bottom-style:dotted;border-bottom-width:1px;padding-left:10px;padding-top:10px}.deselect-all-container{padding-bottom:5px}.service-list-search-message{color:#999;text-align:center;padding-top:20px}.service-list-container{overflow:auto;height:650px}",""])},function(e,t,i){var s,r;s=[i("require/underscore"),i("shim/jquery"),i("require/backbone"),i(126),i(127)],r=function(e,t,i,s,r){return i.Collection.extend({model:s,search:function(e){e&&e.split("=").length>=2?this.filterCollection(e,"isShow",null,!0,!0):this.filterCollection(e,"isShow",["name","context"],!1,!1)}})}.apply(t,s),!(void 0!==r&&(e.exports=r))},function(e,t,i){var s,r;s=[i("require/underscore"),i("shim/jquery"),i("require/backbone"),i(362)],r=function(e,t,i,s){var r=i.Collection.extend({model:s,comparator:function(e){return e.get("isExistInSummary")},deselectAll:function(){this.each(function(e){e.set("isSelected",!1)})},search:function(e){this.filterCollection(e,"isShow",["serviceName"])},contains:function(e){if(!e)throw"ServiceListCollection contains expects a valid serviceId";return this.where({serviceId:e}).length>0}});return r}.apply(t,s),!(void 0!==r&&(e.exports=r))},function(e,t,i){var s,r;s=[i("require/underscore"),i("shim/jquery"),i("require/backbone")],r=function(e,t,i){return i.Model.extend({idAttribute:"serviceId",defaults:{serviceName:"",serviceId:"",isSelected:!1,isExistInSummary:!1,isDependsOn:!1,isDependent:!1,isShow:!0}})}.apply(t,s),!(void 0!==r&&(e.exports=r))},function(e,t,i){var s,r;s=[i("require/underscore"),i("shim/jquery"),i("require/backbone")],r=function(e,t,i){return i.Model.extend({defaults:{perPage:10,page:0}})}.apply(t,s),!(void 0!==r&&(e.exports=r))},function(e,t,i){var s,r;s=[i("require/underscore"),i("shim/jquery"),i("require/backbone"),i("views/shared/Modal"),i("util/time"),i("collections/services/data/ui/Times"),i("shim/splunk.util"),i(129),i(365),i(366),i(370),i(369)],r=function(e,t,i,s,r,n,o,a,l,c,h,d){var p=s.extend({setText:function(e,t){var i="alert-info";t&&(i="alert-error");var r='<div class="alert '+i+'"><i class="icon-alert"></i><span>'+e+"</span></div>";this.$(s.BODY_SELECTOR).html(r)},events:t.extend({},s.prototype.events,{"click .modal-btn-primary":"_hide"}),_hide:function(e){e.preventDefault(),this.hide()},render:function(){var i=t(s.BUTTON_SAVE);i.text(e("OK").t()),this.$el.html(s.TEMPLATE),this.$(s.HEADER_TITLE_SELECTOR).text(e("Correlation Search").t()),this.$(s.FOOTER_SELECTOR).append(i)}}),u=i.View.extend({initialize:function(i){this.collection=i&&i.collection,this.earliest=i&&i.earliest_time,this.latest=i&&i.latest_time,this.redirectTo=i&&i.redirectTo,this.correlationSearchModel=i&&i.correlationSearchModel,this.autoGenerateSearchName=i&&i.autoGenerateSearchName,this._percentage_based="composite_kpi_percentage_type",this._health_score_based="composite_kpi_score_type",this.infoModal=new p({onHiddenRemove:!0}),t("body").append(this.infoModal.render().el),this.searchInfo={},this.multiKpiProps={},this.compositeKpiProps={},this.searchName=this.correlationSearchModel&&this.correlationSearchModel.get("name")||null,this.getSearchProps(this.searchName);var s=this.correlationSearchModel.get("action.itsi_event_generator.param.meta_data");this.correlationSearchModel.get("action.itsi_event_generator.param.search_type")===this._percentage_based?this.multiKpiProps=e.extend(s&&s.toJSON()||{},this.multiKpiProps):this.correlationSearchModel.get("action.itsi_event_generator.param.search_type")===this._health_score_based&&(this.compositeKpiProps=e.extend(s&&s.toJSON()||{},this.compositeKpiProps)),this.multiKpiModel=new h,this.multiKpiModel.set(this.multiKpiProps),this.compositeKpiModel=new d(this.compositeKpiProps),this.compositeKpiModel.set(this.compositeKpiProps),this.correlationSearchModel.get("action.itsi_event_generator.param.search_type")===this._percentage_based?this.meta_data_type=this.multiKpiModel:this.correlationSearchModel.get("action.itsi_event_generator.param.search_type")===this._health_score_based&&(this.meta_data_type=this.compositeKpiModel),this.correlationSearchModel.set("action.itsi_event_generator.param.meta_data",this.meta_data_type),this.correlationSearchModel.set(this.searchInfo)},getSearchProps:function(){this.searchName?(this.searchInfo.name=this.searchName,this.searchInfo.sid=this.searchName):this.autoGenerateSearchName&&(this.searchInfo.name="Multi-KPI Alert - "+this.generateUUID()),this.searchInfo["dispatch.latest_time"]=this.latest,this.searchInfo["dispatch.earliest_time"]=this.earliest,this.multiKpiProps.time_label=r.generateLabel(new n,this.earliest,null,this.latest,null),this.multiKpiProps.percentage_based_kpis=[],this.searchInfo.search="",this.compositeKpiProps.min_alert_period=null,this.compositeKpiProps.score_based_kpis=[],this.collection.each(function(t){var i=e.filter(e.keys(t.attributes),function(e){return e.indexOf("_triggerPercentage")!==-1}),s=e.map(i,function(e){var i=e.substr(0,e.indexOf("_triggerPercentage"));if(o.normalizeBoolean(t.get(i+"_triggerCheckboxState"))===!0){var s=Math.floor(1e3*t.get(e)/1e3);if(0===s)return;return{severity:i,percentage:s,percentage_operation:">="}}}),r=e.filter(s,function(e){return void 0!==e}),n={};n.operation="OR",n.thresholds=r,this.multiKpiProps.percentage_based_kpis.push({serviceid:t.get("gs_service_id"),kpiid:t.get("gs_kpi_id"),label_thresholds:n}),this.compositeKpiProps.time_label=this.multiKpiProps.time_label,0!==t.get("gs_kpi_id").indexOf("SHKPI")&&this.compositeKpiProps.score_based_kpis.push({kpiid:t.get("gs_kpi_id"),serviceid:t.get("gs_service_id"),urgency:t.get("urgency")});var a=parseInt(t.get("alert_period"),10);this.compositeKpiProps.min_alert_period?this.compositeKpiProps.min_alert_period=this.compositeKpiProps.min_alert_period>a?a:this.compositeKpiProps.min_alert_period:this.compositeKpiProps.min_alert_period=a}.bind(this)),this.searchInfo["action.itsi_event_generator.param.service_ids"]=e.uniq(this.collection.map(function(e){return e.get("gs_service_id")})).join(","),this.searchInfo["action.itsi_event_generator.param.description"]="%event_description%",this.searchInfo["action.itsi_event_generator.param.editor"]=[l.ADVANCE_EDITOR_NAME,l.MULTI_KPI_EDITOR_NAME].join(",")},generateUUID:function(){var e=(new Date).getTime(),t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var i=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"===t?i:7&i|8).toString(16)});return t},handleSaveDone:function(i){t('<div class="modal-backdrop correlation-search-saving"></div>').appendTo(document.body),this.status={};var s=this;t.when.apply(t,[i]).done(function(t){s.status.message=o.sprintf(e("Successfully saved %s search.").t(),e.escape(t)),s.status.status="success"}.bind(this)).fail(function(t){s.status.message=o.sprintf(e("Failed to create or update search. Return status code: %s reason: %s").t(),t.status,a.extractErrorMsgFromResponse(t)),s.status.status="fail",s.correlationSearchModel.unset("name")}).always(function(){"fail"===s.status.status?s.infoModal.setText(s.status.message,!0):(s.infoModal.setText(s.status.message),s.redirectTo&&setTimeout(function(){o.redirect_to(s.redirectTo)}.bind(s),3e3)),t(".correlation-search-saving").remove(),this.infoModal.show()}.bind(this))},destroyModal:function(){this.stopListening(),this.correlationSearchModalView.stopListening(),this.correlationSearchModalView.shown&&this.correlationSearchModalView.hide(),this.correlationSearchModalView.remove()},render:function(){this.correlationSearchModalView=new c({height:"420px",width:"600px",onHiddenRemove:!0,isDisableSearchName:!!this.searchName,correlationSearchModel:this.correlationSearchModel,earliest:this.earliest,latest:this.latest}),t("body").append(this.correlationSearchModalView.render().el),this.listenTo(this.correlationSearchModalView.correlationSearchCreationView,"save-started",this.handleSaveDone);var i=e.debounce(this.destroyModal,20);return this.listenTo(this.correlationSearchModalView,"hide",i),this.correlationSearchModalView.show(),this}});return u}.apply(t,s),!(void 0!==r&&(e.exports=r))},,function(e,t,i){var s,r;s=[i("shim/jquery"),i("require/underscore"),i("require/backbone"),e,i("splunkjs/mvc/utils"),i("uri/route"),i("views/shared/Modal"),i(367),i(374)],r=function(e,t,i,s,r,n,o,a,l){return o.extend({moduleId:String(s.id),initialize:function(e){o.prototype.initialize.apply(this,arguments),this._title=e.title||t("Create Correlation Search").t(),this._primaryButtonText=e.modalPrimaryButtonText||t("Save").t(),this.correlationSearchModel=e&&e.correlationSearchModel,this.earliest=e&&e.earliest,this.latest=e&&e.latest,this.correlationSearchCreationView=new a({isDisableSearchName:e&&e.isDisableSearchName||!1,correlationSearchModel:this.correlationSearchModel}),this.correlationSearchScoreBasedView=new l({correlationSearchModel:this.correlationSearchModel,earliest:this.earliest,latest:this.latest})},events:e.extend({},o.prototype.events,{"click .modal-btn-primary-save":"_saveHide","click .modal-btn-cancel":"hide","click .modal-btn-primary-next":"next","click .modal-btn-back":"back"}),next:function(e){e.preventDefault(),this.handleSteps(2)},back:function(e){e.preventDefault(),this.handleSteps(1)},_saveHide:function(e){e.preventDefault(),this.correlationSearchCreationView.save()&&(this.trigger("modal-done"),this.hide())},handleSteps:function(e){1==e?"composite_kpi_score_type"===this.correlationSearchModel.get("action.itsi_event_generator.param.search_type")?(this.$(".modal-header > h3").html(this._title+" - Step 1"),this.$(".correlation-step1").show(),this.$(".correlation-step2").hide(),this.$(".modal-btn-primary-save").hide(),this.$(".modal-btn-back").hide(),this.$(".modal-btn-primary-next").show()):"composite_kpi_percentage_type"===this.correlationSearchModel.get("action.itsi_event_generator.param.search_type")&&(this.$(".modal-header > h3").html(this._title),this.$(".correlation-step1").hide(),this.$(".correlation-step2").show(),this.$(".modal-btn-primary-next").hide(),this.$(".modal-btn-back").hide()):2==e&&"composite_kpi_score_type"===this.correlationSearchModel.get("action.itsi_event_generator.param.search_type")&&this.correlationSearchScoreBasedView.validate(!1)&&(this.$(".modal-header > h3").html(this._title+" - Step 2"),this.$(".correlation-step1").hide(),this.$(".correlation-step2").show(),this.$(".modal-btn-primary-save").show(),this.$(".modal-btn-back").show(),this.$(".modal-btn-primary-next").hide())},render:function(){return this.$el.html(o.TEMPLATE),this.$el.addClass("correlation-search-trigger-modal"),this.$(o.BODY_SELECTOR).addClass("correlation-search-trigger-modal-body"),this.$(o.HEADER_TITLE_SELECTOR).html(this._title),this.$(o.BODY_SELECTOR).append('<div class="correlation-step1"></div><div class="correlation-step2"></div>'),this.$(".correlation-step1").append(this.correlationSearchScoreBasedView.render().el),this.$(".correlation-step2").append(this.correlationSearchCreationView.render().el),this.$(o.FOOTER_SELECTOR).append(o.BUTTON_CANCEL),this.$(o.FOOTER_SELECTOR).append('<a href="#" class="btn back modal-btn-back pull-left">'+t("Back").t()+"</a>"),this.$(o.FOOTER_SELECTOR).append('<a class="btn btn-primary modal-btn-primary-next pull-right">'+t("Next").t()+"</a>"),this.$(o.FOOTER_SELECTOR).append('<a class="btn btn-primary modal-btn-primary-save pull-right">'+this._primaryButtonText+"</a>"),this.handleSteps(1),this}})}.apply(t,s),!(void 0!==r&&(e.exports=r))},function(e,t,i){var s,r;s=[i("require/underscore"),i("shim/jquery"),i("require/backbone"),i("uri/route"),i("splunkjs/mvc/utils"),i("shim/splunk.util"),i("util/splunkd_utils"),i("views/shared/controls/ControlGroup"),i("views/shared/controls/SyntheticSelectControl"),i(368),i(370),i(369),i(365),i(291),i(371),i(372)],r=function(e,t,i,s,r,n,o,a,l,c,h,d,p,u,g){var m=e.template(g),v={1:"box-filled threshold-color-blue",2:"box-filled threshold-color-green",3:"box-filled threshold-color-yellow",4:"box-filled threshold-color-orange",5:"box-filled threshold-color-redorange",6:"box-filled threshold-color-red"},b=i.View.extend({initialize:function(e){this.correlationSearchModel=e&&e.correlationSearchModel,this.scheduleTypeModel=new i.Model({scheduletype:"basic"}),this.children={},this.status={},this.notableInfo=null,this.isDisableSearchName=e&&e.isDisableSearchName||!1,this.isPercentageBased="composite_kpi_percentage_type"===this.correlationSearchModel.get("action.itsi_event_generator.param.search_type"),this.timeLabel=null,this.isPercentageBased&&(this.timeLabel=this.correlationSearchModel.get("action.itsi_event_generator.param.meta_data")&&this.correlationSearchModel.get("action.itsi_event_generator.param.meta_data").get("time_label")),this.listenTo(this.scheduleTypeModel,"change:scheduletype",this.toggleScheduleType),this.listenTo(this.correlationSearchModel,"change",this.clearErrorMessage)},clearErrorMessage:function(){this.$(".error-message").hide(),this.$(".error-message .alert").remove()},getStatus:function(){return this.status()},getProps:function(){return this.correlationSearchModel.toJSON()},toggleScheduleType:function(){"cron"===this.scheduleTypeModel.get("scheduletype")?(this.children.runEvery&&this.children.runEvery.hide(),this.children.cron&&this.children.cron.show()):(this.children.runEvery&&this.children.runEvery.show(),this.children.cron&&this.children.cron.hide())},getSeverities:function(){var e;return this.notableInfo?(e=t.Deferred(),this.renderView(this.notableInfo.severities),e.resolve()):e=this.getNotableInfo().done(function(e){for(var t=e.severities.length-1;t>=0;t--)e.severities[t].label=u.getSeverityLabel(e.severities[t].label);this.renderView(e.severities)}.bind(this)).fail(function(){}),e},getNotableInfo:e.memoize(function(){var e=n.make_url("/custom/SA-ITOA/event_management_interface/notable_event_configuration/all_info");return t.ajax({url:e,type:"GET",cache:!1,success:function(e){e||console.log("Failed to notable event information."),this.notableInfo=e}.bind(this)})}),save:function(){if(!this._validate(!1))return!1;var e=this.correlationSearchModel.save();return this.trigger("save-started",e),!0},_validate:function(i){var s=[];if(this.correlationSearchModel.isValid()||s.extend(this.correlationSearchModel.validationError),s.length>0&&!i){var r=e.map(s,function(e){return e.message});this.$(".error-message").show(),e.each(r,function(e){this.$(".error-message").append('<div class="alert alert-error"><i class="icon-alert"></i><span class="text-message">'+e+"</span></div>")}.bind(this)),t("html, body").animate({scrollTop:0},0)}return 0===s.length},renderSeverityDropDown:function(t){if(t&&t.length>0){t=e.sortBy(t,"value");for(var i=t.length-1;i>=0;i--)t[i].icon=v[t[i].value];var s=Math.floor(t.length/2);this.correlationSearchModel.get("action.itsi_event_generator.param.severity")||this.correlationSearchModel.set("action.itsi_event_generator.param.severity",t[s].value)}this.children.severity=new a({controlType:"SyntheticSelect",controlClass:"severity-control",controlOptions:{className:"severity",toggleClassName:"btn",model:this.correlationSearchModel,modelAttribute:"action.itsi_event_generator.param.severity",items:t,popdownOptions:{attachDialogTo:"body"}},label:e("Severity").t()}),this.$(".cs-remaining-controls").append(this.children.severity.render().el)},renderControls:function(t){this.children.searchName=new a({controlType:"Text",controlClass:"search-name-control",controlOptions:{modelAttribute:"name",model:this.correlationSearchModel},required:!0,_errorMsg:e("Cannot be empty").t(),label:e("Search Name").t(),enabled:!this.isDisableSearchName}),this.children.notableTitle=new a({controlType:"Text",controlClass:"notable-title-control",controlOptions:{className:"notable-title",modelAttribute:"action.itsi_event_generator.param.title",model:this.correlationSearchModel},required:!0,label:e("Notable Event Title").t(),help:e("Supports field substitution in the format of %fieldname%").t()}),this.children.notableDescription=new a({controlType:"Text",controlClass:"notable-description-control",controlOptions:{className:"notable-description",modelAttribute:"action.itsi_event_generator.param.description",model:this.correlationSearchModel},label:e("Notable Event Description").t(),help:e("Supports field substitution in the format of %fieldname%").t()}),this.isPercentageBased&&(this.children.scheduleType=new a({controlType:"SyntheticRadio",controlClass:"scheduletype-control",controlOptions:{model:this.scheduleTypeModel,modelAttribute:"scheduletype",items:[{label:e("Basic").t(),value:"basic"},{label:e("Cron").t(),value:"cron"}]},required:!0,_errorMsg:e("Select a schedule type").t(),label:e("Schedule Type").t()}),this.children.runEvery=new a({controlType:"SyntheticSelect",controlClass:"scheduletype-basic-control",controlOptions:{className:"scheduletype-basic",toggleClassName:"btn",model:this.correlationSearchModel,modelAttribute:"cron_schedule",items:p.getBasicCronScheduleArray(),popdownOptions:{attachDialogTo:"body"}},required:!0,_errorMsg:e("Select a run type").t(),label:e("Run Every").t()}),this.children.cron=new a({controlType:"Text",controlClass:"scheduletype-cron-control",controlOptions:{className:"scheduletype-cron",modelAttribute:"cron_schedule",model:this.correlationSearchModel},required:!0,label:e("Cron Schedule").t(),help:e("Enter a cron-style schedule.").t()+"\n<br />\n"+e("For example '*/5 * * * *' (every 5 minutes) or '0 21 * * *' (every day at 9 PM).").t()+"\n<br />\n"+e("Realtime searches use a default schedule of '*/5 * * * *'.").t()})),this.renderSeverityDropDown(t),this.$(".cs-controls-container").append(this.children.searchName.render().el),this.$(".cs-controls-container").append(this.children.notableTitle.render().el),this.$(".cs-controls-container").append(this.children.notableDescription.render().el),this.isPercentageBased&&(this.$(".cs-controls-container").append(this.children.scheduleType.render().el),this.$(".cs-controls-container").append(this.children.runEvery.render().el),this.$(".cs-controls-container").append(this.children.cron.render().el))},renderView:function(t){return this.$el.html(m({_:e,timeValue:this.timeLabel&&this.timeLabel,isPercentageBased:this.isPercentageBased})),this.renderControls(t),this.toggleScheduleType(),this},render:function(){return this.$el.html("<div>"+e("Loading...").t()+"</div>"),this.getSeverities(),this}});return b}.apply(t,s),!(void 0!==r&&(e.exports=r))},,,,function(e,t){e.exports='<form class="form-horizontal">\n\t<div class="error-message hide">\n\t</div>\n\t<div class="cs-controls-container">\n\t</div>\n\t<%if(isPercentageBased && timeValue) { %>\n\t\t<div class="control-group">\n\t\t\t<label class="control-label"><%- _(\'Time range\').t() %></label>\n\t\t\t<div class="controls">\n\t\t\t\t<label class="control-label" style="text-align: left;"> <%- timeValue %></label>\n\t\t\t</div>\n\t\t</div>\n\t<%}%>\n\t<div class="cs-remaining-controls">\n\t</div>\n</form>'},,,function(e,t,i){var s,r;s=[i("require/underscore"),i("shim/jquery"),i("require/backbone"),i("shim/splunk.util"),i(368),i("views/shared/controls/ControlGroup"),i("views/shared/controls/SyntheticSelectControl"),i("views/shared/controls/SyntheticCheckboxControl"),i("views/shared/controls/TextControl"),i(365),i("models/services/search/TimeParser"),i(375),i(376)],r=function(e,t,i,s,r,n,o,a,l,c,h,d){var p=e.template(d),u=i.View.extend({initialize:function(e){this.correlationSearchModel=e&&e.correlationSearchModel,this.earliest=e&&e.earliest,this.latest=e&&e.latest,this.compositeKpiModel=this.correlationSearchModel.get("action.itsi_event_generator.param.meta_data"),this.children={},this.updateRunEvery(),this.updateScoreValue(),this.roundOffSuppressionPeriod(),this.timeLabel=this.correlationSearchModel.get("action.itsi_event_generator.param.meta_data")&&this.correlationSearchModel.get("action.itsi_event_generator.param.meta_data").get("time_label"),this.listenTo(this.compositeKpiModel,"change:is_suppression",this.toggleSuppressOptions),this.listenTo(this.compositeKpiModel,"change:is_consecutive",this.toggleConsecutiveOptions),this.listenTo(this.compositeKpiModel,"change:threshold_status",this.updateScoreValue),this.listenTo(this.compositeKpiModel,"change:alert_type",this.toggleAlertOptions),this.listenTo(this.compositeKpiModel,"change:suppression_period",this.roundOffSuppressionPeriod),this.listenTo(this.correlationSearchModel,"change:cron_schedule",this.updateRunEvery),this.listenTo(this.compositeKpiModel,"change",this.clearErrorMessage),this.listenTo(this.compositeKpiModel,"change:is_suppression change:count change:cron_schedule change:is_consecutive",this.updateTimeRage)},roundOffSuppressionPeriod:function(){var e=this.compositeKpiModel.get("suppression_period");e&&e!==Math.round(e)&&this.compositeKpiModel.set("suppression_period",Math.round(e))},updateScoreValue:function(){if("status"===this.compositeKpiModel.get("alert_type")){t(".modal-btn-primary-next").attr("disabled",!0);var e=this.compositeKpiModel.get("threshold_status"),i={health_status:e},r=s.make_url("/custom/SA-ITOA/health_services/get_health_range");t.ajax({url:r,type:"POST",data:i,async:!1,success:function(e){e.success?(console.log("Successfully obtained health score max value"),this.compositeKpiModel.set("threshold_health_score",e.data.health_max)):console.log("Health score could not be obtained: "+e.message),t(".modal-btn-primary-next").attr("disabled",!1)}.bind(this),error:function(e,i,s){console.log("Health score could not be obtained: "+s),t(".modal-btn-primary-next").attr("disabled",!1)}.bind(this)})}},updateRunEvery:function(){this.compositeKpiModel.set("run_every",c.getCronToMin(this.correlationSearchModel.get("cron_schedule")))},getTimeDifference:function(e,i){var s=new h,r=s.fetch({data:{time:e}}).done(function(t){this.startTimeObject=new Date(t[e])}.bind(this)).fail(function(e,t){console.log("Failed to get earliest from time parser time model: %s, response: %s",e,t)}),n=s.fetch({data:{time:i}}).done(function(e){this.endTimeObject=new Date(e[i])}.bind(this)).fail(function(e,t){console.log("Failed to get latest from time parser time model: %s, response: %s",e,t)});return t.when(r,n).done(function(){var e=this.endTimeObject.getTime()-this.startTimeObject.getTime();if(!this.compositeKpiModel.get("suppression_period")){var t=Math.round(e/6e4);this.compositeKpiModel.set("suppression_period",t)}}.bind(this))},getTimeRange:function(){var e;if(this.compositeKpiModel.get("is_suppression")){var t=this.compositeKpiModel.get("is_consecutive"),i=this.compositeKpiModel.get("run_every"),s=this.compositeKpiModel.get("count"),r=this.compositeKpiModel.get("suppression_period");i&&s&&(i=parseInt(i,10),s=parseInt(s,10),t?e=Math.max(i,s)+Math.min(i,s)-1:r&&(e=parseInt(r,10)))}return e},updateTimeRage:function(){var e=this.getTimeRange();e&&this.compositeKpiModel.set("suppression_period",Math.round(e))},toggleSuppressOptions:function(){this.compositeKpiModel.get("is_suppression")?(this.children.isConsecutive.enable(),this.children.count.enable(),this.compositeKpiModel.get("is_consecutive")?this.children.suppressPeriod.disable():this.children.suppressPeriod.enable(),this.$(".time-label-control-group").hide()):(this.children.isConsecutive.disable(),this.children.count.disable(),this.children.suppressPeriod.disable(),this.$(".time-label-control-group").show())},toggleConsecutiveOptions:function(){this.compositeKpiModel.get("is_consecutive")?this.children.suppressPeriod.disable():this.children.suppressPeriod.enable()},toggleAlertOptions:function(){"score"===this.compositeKpiModel.get("alert_type")?(this.children.alertStatusType.$el.hide(),this.children.alertScoreType.$el.show(),this.children.alertScoreType.$el.css({display:"inline"})):"status"===this.compositeKpiModel.get("alert_type")&&(this.children.alertStatusType.$el.show(),this.children.alertStatusType.$el.css({display:"inline"}),this.children.alertScoreType.$el.hide(),this.updateScoreValue())},renderControls:function(){this.children.alertType=new o({className:"alert-type",model:this.compositeKpiModel,modelAttribute:"alert_type",toggleClassName:"btn",items:[{label:e("Status").t(),value:"status"},{label:e("Score").t(),value:"score"}],popdownOptions:{attachDialogTo:"body"}}),this.children.alertScoreType=new l({className:"threshold-score",modelAttribute:"threshold_health_score",model:this.compositeKpiModel,prepend:'<span class="add-on"> <= </span>',inputClassName:"threshold-score-input"}),this.children.alertStatusType=new o({className:"alert-status",toggleClassName:"btn",model:this.compositeKpiModel,modelAttribute:"threshold_status",items:this.getStatusArray(),popdownOptions:{attachDialogTo:"body"}}),this.compositeKpiModel.get("threshold_status")||this.compositeKpiModel.set("threshold_status",this.getStatusArray()[0].value),this.children.alertOptions=new n({label:e("Alert me if").t(),controls:[this.children.alertType,this.children.alertScoreType,this.children.alertStatusType],help:e("Composite Score is calculated once every minute").t()}),this.children.runEvery=new n({controlType:"SyntheticSelect",controlClass:"scheduletype-run-control",controlOptions:{className:"scheduletype-run",toggleClassName:"btn",model:this.correlationSearchModel,modelAttribute:"cron_schedule",items:this.getBasicCronScheduleArray(),popdownOptions:{attachDialogTo:"body"}},required:!0,_errorMsg:e("Select a run type").t(),label:e("Run Every").t()}),this.children.suppressionCheckbox=new a({modelAttribute:"is_suppression",model:this.compositeKpiModel}),this.children.isSuppression=new n({label:e("Suppression").t(),controls:[this.children.suppressionCheckbox]}),this.children.isConsecutive=new n({controlType:"SyntheticRadio",controlClass:"is-consecutive-control",controlOptions:{model:this.compositeKpiModel,modelAttribute:"is_consecutive",items:[{label:e("Count").t(),value:!1},{label:e("Consecutive Count").t(),value:!0}]},label:e("Trigger if").t(),help:e("Number of times alert criteria was met").t()}),this.children.count=new n({controlType:"Text",controlClass:"count-control",controlOptions:{inputClassName:"count-input",modelAttribute:"count",model:this.compositeKpiModel,append:'<span class="add-on">'+e("occurrences").t()+"</span>"},required:!0,_errorMsg:e("Cannot be empty").t(),label:e("is more than or equal to").t()}),this.children.suppressPeriod=new n({controlType:"Text",controlClass:"suppression-period-control",controlOptions:{inputClassName:"suppress-period-input",modelAttribute:"suppression_period",model:this.compositeKpiModel,append:'<span class="add-on">'+e("minute(s)").t()+"</span>"},required:!0,_errorMsg:e("Cannot be empty").t(),label:e("in the last").t()}),this.$(".alert-container").append(this.children.alertOptions.render().el),this.$(".run-every-container").append(this.children.runEvery.render().el),this.$(".is-suppression-container").append(this.children.isSuppression.render().el),this.$(".is_consecutive-container").append(this.children.isConsecutive.render().el),this.$(".count-container").append(this.children.count.render().el),this.$(".suppression-period-container").append(this.children.suppressPeriod.render().el)},toggleView:function(){this.toggleAlertOptions(),this.toggleSuppressOptions()},getBasicCronScheduleArray:function(){var t=c.getBasicCronScheduleArray(),i=e.filter(t,function(e){return parseInt(e.mins,10)>=parseInt(this.compositeKpiModel.get("min_alert_period"),10)}.bind(this));return i},getStatusArray:function(){return[{label:e("Info or higher").t(),value:"info"},{label:e("Normal or higher").t(),value:"normal"},{label:e("Low or higher").t(),value:"low"},{label:e("Medium or higher").t(),value:"medium"},{label:e("High or higher").t(),value:"high"},{label:e("Critical").t(),value:"critical"}]},clearErrorMessage:function(){this.$(".error-message").hide(),this.$(".error-message .alert").remove()},validate:function(i){var s=[];if(this.compositeKpiModel.isValid()||s.extend(this.compositeKpiModel.validationError),s.length>0&&!i){this.clearErrorMessage();var r=e.map(s,function(e){return e.message});this.$(".error-message").show(),e.each(r,function(e){this.$(".error-message").append('<div class="alert alert-error"><i class="icon-alert"></i><span class="text-message">'+e+"</span></div>")}.bind(this)),t("html, body").animate({scrollTop:0},0)}return 0===s.length},renderView:function(){
this.$el.html(p({_:e,timeLabel:this.timeLabel})),this.renderControls(),this.toggleView()},render:function(){if(this.compositeKpiModel.get("suppression_period"))this.renderView();else{this.$el.html(e("Loading...").t());var t=this.getTimeDifference(this.earliest,this.latest);t.always(function(){this.renderView()}.bind(this))}return this}});return u}.apply(t,s),!(void 0!==r&&(e.exports=r))},function(e,t){e.exports='<form class="form-horizontal composite-alert-container">\n\t<div class="error-message hide">\n\t</div>\n\t<div class="alert-container"></div>\n\t<div class="run-every-container"></div>\n\t<div class="control-group time-label-control-group">\n\t\t<label class="control-label"><%- _(\'Time range\').t() %></label>\n\t\t<div class="controls">\n\t\t\t<label class="control-label control-time-label" style="text-align: left;"> <%- timeLabel %></label>\n\t\t</div>\n\t</div>\n\t<div class="is-suppression-container"></div>\n\t<fieldset class="suppression-field-set">\n\t\t<div class="is_consecutive-container"></div>\n\t\t<div class="count-container"></div>\n\t\t<div class="suppression-period-container"></div>\n\t</fieldset>\n</form>'},function(e,t,i){var s=i(377);"string"==typeof s&&(s=[[e.id,s,""]]);i(15)(s,{});s.locals&&(e.exports=s.locals)},function(e,t,i){t=e.exports=i(14)(),t.push([e.id,".suppression-field-set{border:1px solid #d5d5d5;padding:15px}.alert-status,.alert-type,.threshold-score,div.alert-status.shared-controls-syntheticselectcontrol{display:inline}input.count-input,input.suppress-period-input,input.threshold-score-input,span.uneditable-input.count-input,span.uneditable-input.suppress-period-input,span.uneditable-input.threshold-score-input{width:30px}",""])},function(e,t){e.exports='<div class="alarm-console-message-container hide">\n\t<div class="alert alert-warning">\n\t\t<i class="icon-alert"></i>\n\t\t<span class="alert-message"></span>\n\t</div>\n</div>\n<div class="alarm-console-service-listing">\n</div>\n<div class="alarm-console-kpis-container">\n\t<div class="alarm-console-kpi-listing"></div>\n\t<div class="alarm-console-selected-kpi-container"> </div>\n</div>\n'},function(e,t,i){var s=i(380);"string"==typeof s&&(s=[[e.id,s,""]]);i(15)(s,{});s.locals&&(e.exports=s.locals)},function(e,t,i){t=e.exports=i(14)(),t.push([e.id,".alarm-console-main-container{min-width:1122px}.alarm-console-service-listing{width:220px;top:0;bottom:20px;left:0;height:800px;overflow:auto;border:1px;border-color:#ccc;border-style:solid;position:absolute;background:#fff}.alarm-console-kpis-container{margin-left:232px;height:800px;top:0;bottom:20px;right:20px}.alarm-console-kpi-listing{min-height:394px;border:1px;border-color:#ccc;border-style:solid;border-bottom-style:dotted;overflow:auto;background:#fff}.alarm-console-selected-kpi-container{min-height:394px;border:1px;border-color:#ccc;border-style:solid;border-top-style:none;overflow:auto;background:#fff;padding-top:10px}.alarm-console-header{font-size:16px;padding-bottom:5px}.alarm-console-description,.alarm-console-description label.control-label{font-size:11px;padding-bottom:5px}.service-list-view tr.service-dependent-checkbox-row td,.service-list-view tr.service-list-row td,tr.selected-kpi-button-container td{border-top-style:none}tr.selected-kpi-button-container td.description-grp{padding:0}.alarm-console-row td.checkbox label.checkbox,.service-list-row td.service-select-checkbox label.checkbox,.table-alarm-console-header th.checkbox label.checkbox{margin-bottom:0;margin-top:0;padding-top:0;padding-bottom:0}.service-list-row td.service-select-checkbox,.table-alarm-console-header th.checkbox{width:20px}.page-control label.control-label,.selected-kpi-page-control label.control-label{padding-top:0}.result-not-found{color:#999;text-align:center}.cs-controls-container div.search-name-control input[type=text]{width:186px}.alarm-console-message-container{position:absolute;z-index:120;top:-40px;background-color:#fcf3d7;border:1px solid #f2c33c;left:15%;right:15%;border-radius:4px;padding-left:15px;padding-top:10px}.alarm-console-message-container .alert-warning{padding-bottom:15px;margin-bottom:0}.alarm-console-message-container .alert-message{padding-left:10px}",""])},,,,,,,,,,,,,,,,,,,function(e,t,i){var s=i(400);"string"==typeof s&&(s=[[e.id,s,""]]);i(15)(s,{});s.locals&&(e.exports=s.locals)},function(e,t,i){t=e.exports=i(14)(),t.push([e.id,".multi-kpi-search-type-container{padding-right:20px;padding-top:5px}.multi-kpi-search-type-button{height:28px}",""])}]);