webpackJsonp([3],{"js_charting/js_charting":function(t,i,e){var s,r;s=[e("shim/jquery"),e("require/underscore"),e("shim/highcharts"),e("helpers/user_agent"),e("js_charting/helpers/DataSet"),e("js_charting/visualizations/charts/Chart"),e("js_charting/visualizations/charts/SplitSeriesChart"),e("js_charting/visualizations/charts/PieChart"),e("js_charting/visualizations/charts/ScatterChart"),e("js_charting/visualizations/charts/BubbleChart"),e("js_charting/visualizations/gauges/RadialGauge"),e("js_charting/visualizations/gauges/HorizontalFillerGauge"),e("js_charting/visualizations/gauges/VerticalFillerGauge"),e("js_charting/visualizations/gauges/HorizontalMarkerGauge"),e("js_charting/visualizations/gauges/VerticalMarkerGauge"),e("js_charting/util/parsing_utils"),e("util/jscharting_utils")],r=function(t,i,e,s,r,n,a,h,o,l,d,c,u,g,p,f,m){if(s.isFirefox()){var x=window.history;i(["pushState","replaceState"]).each(function(i){var s=x[i];x[i]=function(){s.apply(x,arguments),t(e).trigger("baseUriChange")}})}var k=function(e,s){if(e instanceof t&&(e=e[0]),!i(e).isElement())throw new Error("Invalid first argument to createChart, container must be a valid DOM element or a jQuery object");s=s||{};var r=s.chart;return"pie"===r?new h(e,s):"scatter"===r?new o(e,s):"bubble"===r?new l(e,s):"radialGauge"===r?new d(e,s):"fillerGauge"===r?"x"===s["chart.orientation"]?new c(e,s):new u(e,s):"markerGauge"===r?"x"===s["chart.orientation"]?new g(e,s):new p(e,s):f.normalizeBoolean(s["layout.splitSeries"])?new a(e,s):new n(e,s)};return{extractChartReadyData:m.extractChartReadyData,createChart:k}}.apply(i,s),!(void 0!==r&&(t.exports=r))},"js_charting/visualizations/gauges/VerticalMarkerGauge":function(t,i,e){var s,r;s=[e("shim/jquery"),e("js_charting/visualizations/gauges/MarkerGauge"),e("js_charting/util/lang_utils"),e("js_charting/util/math_utils")],r=function(t,i,e,s){var r=function(t,e){i.call(this,t,e),this.verticalPadding=10};return e.inherit(r,i),t.extend(r.prototype,{renderGauge:function(){this.markerWindowHeight=s.roundWithMin(this.height/7,20),this.markerSideWidth=this.markerWindowHeight/2,this.markerSideCornerRad=this.markerSideWidth/3,this.bandOffsetBottom=5+this.markerWindowHeight/2,this.bandOffsetTop=5+this.markerWindowHeight/2,this.tickOffset=s.roundWithMin(this.height/100,3),this.tickLength=s.roundWithMin(this.height/20,4),this.tickLabelOffset=s.roundWithMin(this.height/60,3),this.tickFontSize=s.roundWithMin(this.height/20,10),this.minorTickLength=this.tickLength/2,this.backgroundCornerRad=s.roundWithMin(this.height/60,3),this.valueFontSize=s.roundWithMin(this.height/15,15),this.bandOffsetX=this.isShiny?s.roundWithMin(this.height/60,3):0,i.prototype.renderGauge.call(this)},drawBackground:function(){this.backgroundWidth=s.roundWithMin(this.height/4,50);var t=this.calculateTickValues(this.ranges[0],this.ranges[this.ranges.length-1],this.MAX_TICKS_PER_RANGE);this.backgroundHeight=this.height-2*this.verticalPadding,this.bandHeight=this.backgroundHeight-(this.bandOffsetBottom+this.bandOffsetTop),this.bandWidth=this.isShiny?10:30;var i,e,r=t[t.length-1];i=this.predictTextWidth(this.formatValue(r),this.tickFontSize),e=this.bandOffsetX+this.bandWidth+this.tickOffset+this.tickLength+this.tickLabelOffset+i+this.tickLabelPaddingRight,this.backgroundWidth=Math.max(this.backgroundWidth,e),this.isShiny&&(this.elements.background=this.renderer.rect((this.width-this.backgroundWidth)/2,this.verticalPadding,this.backgroundWidth,this.backgroundHeight,this.backgroundCornerRad).attr({fill:"#edede7",stroke:"silver","stroke-width":1}).add()),this.tickStartX=(this.width-this.backgroundWidth)/2+(this.bandOffsetX+this.bandWidth)+this.tickOffset,this.tickEndX=this.tickStartX+this.tickLength,this.tickLabelStartX=this.tickEndX+this.tickLabelOffset},drawBand:function(){var t,i,e,s=(this.width-this.backgroundWidth)/2+this.bandOffsetX,r=this.height-this.verticalPadding-this.bandOffsetBottom;for(t=0;t<this.ranges.length-1;t++)i=this.translateValue(this.ranges[t]),e=this.translateValue(this.ranges[t+1]),this.elements["colorBand"+t]=this.renderer.rect(s,r-e,this.bandWidth,e-i,this.bandCornerRad).attr({fill:this.getColorByIndex(t)}).add()},drawMajorTick:function(t){var i=this.verticalPadding+this.backgroundHeight-(this.bandOffsetBottom+t);return this.renderer.path(["M",this.tickStartX,i,"L",this.tickEndX,i]).attr({stroke:this.tickColor,"stroke-width":this.tickWidth}).add()},drawMajorTickLabel:function(t,i){var e=this.verticalPadding+this.backgroundHeight-(this.bandOffsetBottom+t);return this.renderer.text(i,this.tickLabelStartX,e+this.tickFontSize/4).attr({align:"left"}).css({color:this.tickFontColor,fontSize:this.tickFontSize+"px",lineHeight:this.tickFontSize+"px"}).add()},drawMinorTick:function(t){var i=this.verticalPadding+this.backgroundHeight-(this.bandOffsetBottom+t);return this.renderer.path(["M",this.tickStartX,i,"L",this.tickStartX+this.minorTickLength,i]).attr({stroke:this.tickColor,"stroke-width":this.minorTickWidth}).add()},drawIndicator:function(t){var i,e,s,r,n=this.normalizedTranslateValue(t),a=this.verticalPadding+this.backgroundHeight-(this.bandOffsetBottom+n),h=this.isShiny?(this.width-this.backgroundWidth)/2:(this.width-this.backgroundWidth)/2-10,o=this.isShiny?h+this.backgroundWidth:h+this.bandWidth+20,l=this.foregroundColor,d=3,c=["M",h,a,"L",o,a];this.isShiny&&(i=["M",h,a-this.markerWindowHeight/2,"L",h-(this.markerSideWidth-this.markerSideCornerRad),a-this.markerWindowHeight/2,"C",h-(this.markerSideWidth-this.markerSideCornerRad),a-this.markerWindowHeight/2,h-this.markerSideWidth,a-this.markerWindowHeight/2,h-this.markerSideWidth,a-this.markerWindowHeight/2+this.markerSideCornerRad,"L",h-this.markerSideWidth,a+this.markerWindowHeight/2-this.markerSideCornerRad,"C",h-this.markerSideWidth,a+this.markerWindowHeight/2-this.markerSideCornerRad,h-this.markerSideWidth,a+this.markerWindowHeight/2,h-(this.markerSideWidth-this.markerSideCornerRad),a+this.markerWindowHeight/2,"L",h,a+this.markerWindowHeight/2,h,a-this.markerWindowHeight/2],e=["M",o,a-this.markerWindowHeight/2,"L",o+(this.markerSideWidth-this.markerSideCornerRad),a-this.markerWindowHeight/2,"C",o+(this.markerSideWidth-this.markerSideCornerRad),a-this.markerWindowHeight/2,o+this.markerSideWidth,a-this.markerWindowHeight/2,o+this.markerSideWidth,a-this.markerWindowHeight/2+this.markerSideCornerRad,"L",o+this.markerSideWidth,a+this.markerWindowHeight/2-this.markerSideCornerRad,"C",o+this.markerSideWidth,a+this.markerWindowHeight/2-this.markerSideCornerRad,o+this.markerSideWidth,a+this.markerWindowHeight/2,o+(this.markerSideWidth-this.markerSideCornerRad),a+this.markerWindowHeight/2,"L",o,a+this.markerWindowHeight/2,o,a-this.markerWindowHeight/2],s=["M",h,a-this.markerWindowHeight/2,"L",o,a-this.markerWindowHeight/2,o,a+this.markerWindowHeight/2,h,a+this.markerWindowHeight/2,h,a-this.markerWindowHeight/2],r=["M",h,a+1,"L",o,a+1],l="red",d=1),this.isShiny&&(this.elements.markerLHS&&this.elements.markerLHS.destroy(),this.elements.markerLHS=this.renderer.path(i).attr({fill:"#cccccc"}).add(),this.elements.markerRHS&&this.elements.markerRHS.destroy(),this.elements.markerRHS=this.renderer.path(e).attr({fill:"#cccccc"}).add(),this.elements.markerWindow&&this.elements.markerWindow.destroy(),this.elements.markerWindow=this.renderer.rect(h,a-this.markerWindowHeight/2,this.backgroundWidth,this.markerWindowHeight,0).attr({fill:"rgba(255, 255, 255, 0.3)"}).add(),this.elements.markerBorder&&this.elements.markerBorder.destroy(),this.elements.markerBorder=this.renderer.path(s).attr({stroke:"white","stroke-width":2}).add(),this.elements.markerUnderline&&this.elements.markerUnderline.destroy(),this.elements.markerUnderline=this.renderer.path(r).attr({stroke:"white","stroke-width":2}).add()),this.elements.markerLine&&this.elements.markerLine.destroy(),this.elements.markerLine=this.renderer.path(c).attr({stroke:l,"stroke-width":d}).add(),this.showValue&&this.drawValueDisplay(t)},drawValueDisplay:function(t){var i=this.formatValue(t),e=this.normalizedTranslateValue(t),s=this.verticalPadding+this.backgroundHeight-this.bandOffsetBottom-e;this.elements.valueDisplay?this.elements.valueDisplay.attr({text:i,y:s+this.valueFontSize/4}):this.elements.valueDisplay=this.renderer.text(i,(this.width-this.backgroundWidth)/2-this.valueOffset,s+this.valueFontSize/4).css({color:"black",fontSize:this.valueFontSize+"px",lineHeight:this.valueFontSize+"px",fontWeight:"bold"}).attr({align:"right"}).add()},normalizedTranslateValue:function(t){return t<this.ranges[0]?0:t>this.ranges[this.ranges.length-1]?this.translateValue(this.ranges[this.ranges.length-1]):this.translateValue(t)},translateValue:function(t){var i=this.ranges[this.ranges.length-1]-this.ranges[0],e=t-this.ranges[0];return Math.round(e/i*this.bandHeight)}}),r}.apply(i,s),!(void 0!==r&&(t.exports=r))},"js_charting/visualizations/charts/ScatterChart":function(t,i,e){var s,r;s=[e("shim/jquery"),e("require/underscore"),e("js_charting/visualizations/charts/Chart"),e("js_charting/series/series_factory"),e("js_charting/components/axes/NumericAxis"),e("js_charting/util/lang_utils"),e("js_charting/util/parsing_utils")],r=function(t,i,e,s,r,n,a){var h=function(t,i){e.call(this,t,i),this.properties["chart.nullValueMode"]="zero"};return n.inherit(h,e),t.extend(h.prototype,{NUM_DIMENSION_FIELDS:2,TYPE:"scatter",initializeFields:function(){e.prototype.initializeFields.call(this);var t=this.dataSet.allDataFields();this.dataSet.fieldIsGroupby(t[0])&&(this.markField=t[0],t=t.slice(1)),this.initializeNonMarkFields(t)},initializeNonMarkFields:function(t){t.length>this.NUM_DIMENSION_FIELDS?(this.isMultiSeries=!0,this.labelField=t[0],this.xField=t[1],this.yField=t[2],this.hasLegend="none"!==this.properties["legend.placement"]):(this.isMultiSeries=!1,this.xField=t[0],this.yField=t[1],this.hasLegend=!1)},initializeDataLabels:function(){},isEmpty:function(){return i(this.xField).isUndefined()||i(this.yField).isUndefined()},hasTimeXAxis:function(){return!1},initializeSeriesPropertiesList:function(){var t;if(this.isMultiSeries)t=i(this.dataSet.getSeries(this.labelField)).chain().uniq().compact().map(function(t){return{name:t,type:this.TYPE,clickEnabled:this.chartClickEnabled}},this).value();else{var e={name:i.uniqueId(this.TYPE+"_field_"),type:this.TYPE,clickEnabled:this.chartClickEnabled};t=[e]}return t},initializeXAxisList:function(){var i=t.extend(a.getXAxisProperties(this.properties),this.axisColorScheme,{"axis.orientation":"horizontal",isEmpty:this.isEmpty()});i["axisTitle.text"]=this._getComputedXAxisTitle(i,this.xField),i["gridLines.showMajorLines"]=!1,this.xAxisList=[new r(i)]},initializeYAxisList:function(){var i=t.extend(a.getYAxisProperties(this.properties),this.axisColorScheme,{"axis.orientation":"vertical",isEmpty:this.isEmpty()});i["axisTitle.text"]=this._getComputedYAxisTitle(i,null),this.yAxisList=[new r(i)]},setAllSeriesData:function(){var t=this.formatAxisData(this.xAxisList[0],this.xField),e=this.formatAxisData(this.yAxisList[0],this.yField);this.isMultiSeries?i(this.seriesList).each(function(i){var s=i.getName();i.setData({x:this.filterDataByNameMatch(t,s),y:this.filterDataByNameMatch(e,s)})},this):this.seriesList[0].setData({x:t,y:e})},_getDefaultYAxisTitle:function(){return this.yField},_getDefaultXAxisTitleFromField:function(t){return this.xField},getPlotOptionsConfig:function(){var t=parseInt(this.properties["chart.markerSize"],10);return{scatter:{stickyTracking:!1,fillOpacity:1,trackByArea:!0,marker:{radius:t?Math.ceil(6*t/4):6,symbol:"square"},tooltip:{followPointer:!1},cursor:this.chartClickEnabled?"pointer":"default"}}},handlePointClick:function(t,i,e){var s=i.index,r=e.getName(),n=this.dataSet.getSeries(this.xField),a=this.dataSet.getSeries(this.yField),h=this.isMultiSeries?this.filterDataByNameMatch(n,r)[s]:n[s],o=this.isMultiSeries?this.filterDataByNameMatch(a,r)[s]:a[s],l={};if(this.markField){var d=this.dataSet.getSeries(this.markField),c=this.isMultiSeries?this.filterDataByNameMatch(d,r)[s]:d[s];l["row."+this.markField]=c}var u={type:"pointClick",modifierKey:t.modifierKey,name:this.markField?this.markField:this.isMultiSeries?this.labelField:this.xField,value:this.markField?c:this.isMultiSeries?r:h,name2:this.markField&&this.isMultiSeries?this.labelField:this.yField,value2:this.markField&&this.isMultiSeries?r:o,rowContext:l};l["row."+this.xField]=h,l["row."+this.yField]=o,this.isMultiSeries&&(l["row."+this.labelField]=r),this.trigger(u)},handleLegendClick:function(t,i){var e={},s={type:"legendClick",modifierKey:t.modifierKey,name:this.labelField,value:i,rowContext:e};e["row."+this.labelField]=i,this.trigger(s)},getSeriesPointInfo:function(i,e){var s=e.index,r=this.xAxisList[0],n=this.yAxisList[0],a=i.getName(),h=this.dataSet.getSeries(this.xField),o=this.dataSet.getSeries(this.yField),l=this.isMultiSeries?this.filterDataByNameMatch(h,a)[s]:h[s],d=this.isMultiSeries?this.filterDataByNameMatch(o,a)[s]:o[s],c={isMultiSeries:this.isMultiSeries,xAxisName:this.xField,xValue:r.formatValue(l),yAxisName:this.yField,yValue:n.formatValue(d),markName:null,markValue:null};if(this.markField){var u=this.dataSet.getSeries(this.markField),g=this.isMultiSeries?this.filterMarkByNameMatch(a)[s]:u[s];t.extend(c,{markName:this.markField,markValue:g})}return this.isMultiSeries&&t.extend(c,{labelSeriesName:this.labelField}),c},filterDataByNameMatch:function(t,e){var s=this.dataSet.getSeries(this.labelField);return i(t).filter(function(t,i){return s[i]===e})},filterMarkByNameMatch:function(t){var e=this.dataSet.getSeries(this.labelField),s=this.dataSet.getSeries(this.markField);return i(s).filter(function(i,s){return e[s]===t})}}),h}.apply(i,s),!(void 0!==r&&(t.exports=r))},"js_charting/visualizations/charts/Chart":function(t,i,e){var s,r;s=[e("shim/jquery"),e("require/underscore"),e("shim/highcharts"),e("js_charting/visualizations/Visualization"),e("js_charting/components/ColorPalette"),e("js_charting/components/axes/TimeAxis"),e("js_charting/components/axes/CategoryAxis"),e("js_charting/components/axes/NumericAxis"),e("js_charting/components/Legend"),e("js_charting/components/Tooltip"),e("js_charting/components/SelectionWindow"),e("js_charting/components/PanButtons"),e("js_charting/components/ZoomOutButton"),e("js_charting/helpers/HoverEventThrottler"),e("js_charting/components/CartesianDataLabels"),e("js_charting/series/series_factory"),e("shim/splunk.util"),e("js_charting/util/lang_utils"),e("js_charting/util/testing_utils"),e("js_charting/util/parsing_utils"),e("js_charting/util/color_utils"),e("js_charting/util/time_utils"),e("js_charting/util/dom_utils"),e("js_charting/util/async_utils"),e("js_charting/util/field_utils"),e("util/string_utils"),e("helpers/user_agent"),e("util/console")],r=function(t,i,e,s,r,n,a,h,o,l,d,c,u,g,p,f,m,x,k,v,b,S,y,L,C,_,T,w){var P=function(t,i){s.call(this,t,i)};return x.inherit(P,s),t.extend(P.prototype,{HOVER_DELAY:160,EXPORT_WIDTH:600,EXPORT_HEIGHT:400,FALLBACK_HEIGHT:250,FALLBACK_WIDTH:600,PROGRESSIVE_DRAW_THRESHOLD:T.isIELessThan(9)?100:1e3,hasLegend:!0,hasTooltip:!0,hasXAxis:!0,hasYAxis:!0,requiresExternalColors:!0,externalPaletteMapping:{},externalPaletteSize:0,prepare:function(t,i){this.benchmark("Prepare Started");var e=this.isEmpty(),r=this.hasTimeXAxis();s.prototype.prepare.call(this,t,i),"all"!==this.showLabels&&"minmax"!==this.showLabels||this.initializeDataLabels(),this.initializeFields(),this.isiOS=T.isiOS();var n=this.isEmpty(),a=this.hasTimeXAxis();n===e&&r===a||(this._isDirty=!0),this.shouldUpdateInPlace()?(this.updateSeriesProperties(),this.updateAxisProperties(),n||this.setAllSeriesData()):(n||this.initializeColorPalette(),this.initializeSeriesList(),this.axesAreInverted="bar"===this.type,this.hasXAxis&&this.initializeXAxisList(),this.hasYAxis&&this.initializeYAxisList(),n?(this.legend&&(this.legend.destroy(),this.legend=null),this.tooltip&&(this.tooltip.destroy(),this.tooltip=null)):(this.hasLegend&&this.initializeLegend(),this.hasTooltip&&this.initializeTooltip(),this.setAllSeriesData(),this.bindSeriesEvents()))},initializeDataLabels:function(){this.dataLabels=new p({showLabels:this.showLabels,splitSeries:this.splitSeries})},getFieldList:function(){return i(this.seriesList).chain().invoke("getFieldList").flatten(!0).compact().value()},setExternalColorPalette:function(i,e){this.externalPaletteMapping=t.extend({},i),this.externalPaletteSize=e},handleDraw:function(s){if(w.debug("drawing a chart with dimensions:",{width:this.width,height:this.height}),w.debug("drawing a chart with properties:",this.properties),w.debug("drawing a chart with data:",this.dataSet.toJSON()),this.benchmark("Draw Started"),this.applyColorPalette(),this.cancelPendingDraw(),this.shouldUpdateInPlace())return void this.redrawInPlace(s);this.hcConfig=this.getConfig(),w.debug("config object to be sent to highcharts:",this.hcConfig),this.hcChart&&(this.destroy(),this.bindSeriesEvents(),this.legend&&this.bindLegendEvents()),this.shouldProgressiveDraw()&&(this.hcConfig.firstRenderOverride=i(this.firstRenderOverride).bind(this),this.hcConfig.renderOverride=i(this.renderOverride).bind(this));var r=this;new e.Chart(this.hcConfig,function(i){r.hcChart=i,r.testMode&&(k.initializeTestingMetaData(r,r.xFields,r.getClassName()),k.createGlobalReference(r,i)),t(e).on("baseUriChange."+r.id,function(){r.$container.find("[clip-path]").each(function(){var i=t(this),e=i.attr("clip-path");i.removeAttr("clip-path"),i.attr("clip-path",e)})}),r.addEventHandlers(i),r.onChartLoad(i),r.onChartLoadOrRedraw(i),r.hasTooltip&&!r.isEmpty()&&r.enableTooltip(i),r.cacheDrawnDimensions(),r.benchmark("Draw Finished"),s(r,r.benchmarks)})},redrawInPlace:function(t){if(w.log("in place redraw!"),!this.hcChart)throw new Error("Cannot call redrawInPlace if chart does not already exist");i(this.seriesList).invoke("redraw",!1);var e=this.hcChart.series,s=this.getSeriesConfigList();e.length>s.length?i(e.slice(s.length)).invoke("remove",!1):e.length<s.length&&i(s.slice(e.length)).each(function(t){this.hcChart.addSeries(t,!1,!1)},this);var r,n,a=this.xAxisList[0],h=a.isZoomed;h?(r=this.hcChart.xAxis[0].getExtremes(),r.max-=a.hasTickmarksBetween()?0:1):this.selectionWindow&&(r=this.selectionWindow.getExtremes(),r.min+=a.hasTickmarksBetween()?1:0),r&&(n=this.calculatePostUpdateExtremes(r)),i(this.xAxisList).invoke("redraw",!1),i(this.yAxisList).invoke("redraw",!1),h?null===n.min||null===n.max?this.hcChart.xAxis[0].zoom():(n.max+=a.hasTickmarksBetween()?0:1,this.hcChart.xAxis[0].zoom(n.min,n.max)):this.selectionWindow&&(null===n.max?(this.selectionWindow.destroy(),this.selectionWindow=null):(n.min=(n.min||0)-(a.hasTickmarksBetween()?1:0),this.selectionWindow.setExtremes(n))),this.hcChart.redraw(),this.benchmark("Series Redraw Finished"),t(this,this.benchmarks)},cancelPendingDraw:function(){this.pendingDraw&&"pending"===this.pendingDraw.state()&&this.pendingDraw.cancel()},setSize:function(t,i){if(this.hcChart){var e=this.hcChart.xAxis[0];e&&this.xAxisList[0].isZoomed&&(e.userMin=e.userMin||e.oldUserMin,e.userMax=e.userMax||e.oldUserMax),this.hcChart.setSize(t,i,!1),this.cacheDrawnDimensions()}},destroy:function(){this.cancelPendingDraw(),this.hcChart&&(this.onChartDestroy(),this.hcChart.pointer&&this.hcChart.pointer.reset(),this.hcChart.destroy(),this.hcChart=null)},getSVG:function(){var i=this.hcChart;this.hcConfig.legend.enabled&&(this.exportMode&&"scatter"!==i.type&&t(i.series).each(function(t,i){return!!i.legendSymbol&&void i.legendSymbol.attr({height:8,translateY:4})}),i.legend.nav&&i.legend.nav.destroy()),t(i.series).each(function(t,i){i.area&&0===b.getComputedOpacity(i.area)&&(i.area.destroy(),delete i.area)});var e=t(".highcharts-container").find("svg");return e.siblings().remove(),e.find(".highcharts-tracker").remove(),e.find(".highcharts-legend g[clip-path]").each(function(){t(this).removeAttr("clip-path")}),e.parent().html()},processProperties:function(){s.prototype.processProperties.call(this),this.properties.hasOwnProperty("drilldown")?this.chartClickEnabled=this.legendClickEnabled="all"===this.properties.drilldown:(this.properties.hasOwnProperty("chart.clickEnabled")?this.chartClickEnabled=v.normalizeBoolean(this.properties["chart.clickEnabled"]):this.chartClickEnabled=v.normalizeBoolean(this.properties.enableChartClick),this.properties.hasOwnProperty("chart.legend.clickEnabled")?this.legendClickEnabled=v.normalizeBoolean(this.properties["chart.legend.clickEnabled"]):this.legendClickEnabled=v.normalizeBoolean(this.properties.enableLegendClick)),"none"===this.properties["legend.placement"]&&(this.hasLegend=!1),(this.hasXAxis||this.hasYAxis)&&(this.axisColorScheme={"axis.foregroundColorSoft":this.axisColorSoft,"axis.foregroundColorSofter":this.axisColorSofter,"axis.fontColor":this.fontColor}),!this.properties.hasOwnProperty("legend.masterLegend")||this.properties["legend.masterLegend"]&&"null"!==t.trim(this.properties["legend.masterLegend"])||(this.requiresExternalColors=!1),this.stackMode=this.properties["chart.stackMode"]||"default",this.legendLabels=v.stringToArray(this.properties["legend.labels"]||"[]"),this.showHideMode="show_hide"===this.properties["data.fieldListMode"],this.fieldHideList=i.union(this.properties.fieldHideList||[],v.stringToArray(this.properties["data.fieldHideList"])||[]),this.fieldShowList=v.stringToArray(this.properties["data.fieldShowList"])||[];var e=this.properties["chart.seriesColors"]||this.properties.seriesColors;this.seriesColors=v.stringToHexArray(e)||null;var r=this.properties["chart.fieldColors"]||this.properties.fieldColors;this.internalFieldColors=v.stringToHexObject(r||"{}"),this.overlayFields=m.stringToFieldList(this.properties["chart.overlayFields"]),this.seriesTypeMapping={},i(this.overlayFields).each(function(t){this.seriesTypeMapping[t]="line"},this),this.yAxisMapping={};var n=v.normalizeBoolean(this.properties["axisY2.enabled"]);if(n){var a=this.properties["axisY2.fields"]?m.stringToFieldList(this.properties["axisY2.fields"]):this.overlayFields;i(a).each(function(t){this.yAxisMapping[t]=1},this)}this.enableAnimation=v.normalizeBoolean(this.properties.enableAnimation,!1);var h=["x","y","xy","off"];i(h).indexOf(this.properties.zoomType)!==-1&&(this.zoomType=this.properties.zoomType),this.showLabels=this.properties["chart.showDataLabels"],"undefined"==typeof this.showLabels&&(this.showLabels="none"),this.splitSeries=v.normalizeBoolean(this.properties["layout.splitSeries"],!1)},firstRenderOverride:function(t){this.hcChart=t;var i=window.HighchartsAdapter,s=t.options,r=t.callback;t.isReadyToRender()&&(t.getContainer(),i.fireEvent(t,"init"),t.resetMargins(),t.setChartSize(),t.propFromSeries(),t.getAxes(),i.each(s.series||[],function(i){t.initSeries(i)}),t.linkSeries(),i.fireEvent(t,"beforeRender"),t.pointer=new e.Pointer(t,s),t.render(function(){t.renderer.draw(),r&&r.apply(t,[t]),i.each(t.callbacks,function(i){i.apply(t,[t])}),t.cloneRenderTo(!0),i.fireEvent(t,"load")}))},renderOverride:function(t,i){var s,r=window.HighchartsAdapter,n=t.axes,a=t.renderer,h=t.options,o=h.labels,l=h.credits;t.setTitle(),t.legend=new e.Legend(t,h.legend),t.getStacks(),r.each(n,function(t){t.setScale()}),t.getMargins(),t.maxTicks=null,r.each(n,function(t){t.setTickPositions(!0),t.setMaxTicks()}),t.adjustTickAmounts(),t.getMargins(),t.drawChartBox(),t.hasCartesianSeries&&r.each(n,function(t){t.render()}),t.seriesGroup||(t.seriesGroup=a.g("series-group").attr({zIndex:3}).add()),this.pendingDraw=L.asyncEach(t.series,function(t){t.translate(),t.setTooltipPoints(),t.render()}),this.pendingDraw.done(function(){o.items&&r.each(o.items,function(i){var e=r.extend(o.style,i.style),s=r.pInt(e.left)+t.plotLeft,n=r.pInt(e.top)+t.plotTop+12;delete e.left,delete e.top,a.text(i.html,s,n).attr({zIndex:2}).css(e).add()}),l.enabled&&!t.credits&&(s=l.href,t.credits=a.text(l.text,0,0).on("click",function(){s&&(window.location.href=s)}).attr({align:l.position.align,zIndex:8}).css(l.style).add().align(l.position)),t.hasRendered=!0,i()})},initializeFields:function(){var e=C.getChartFieldData(this.dataSet);this.xFields=e.xFields,this.yFields=e.yFields;var s=t.extend([],this.fieldShowList),r=t.extend([],this.fieldHideList),n=i.intersection(s,r);this.showHideMode?r=i.difference(r,n):s=i.difference(s,n),this.yFields=i.difference(this.yFields,r),s.length>0&&(this.yFields=i.intersection(this.yFields,s)),this.yFields.length>0&&this.legendLabels.length>0&&(this.yFields=i.union(this.legendLabels,this.yFields))},isEmpty:function(){return!this.yFields||0===this.yFields.length},hasTimeXAxis:function(){return i(this.xFields||[]).any(this.seriesIsTimeBased,this)},shouldProgressiveDraw:function(){if(this.isEmpty())return!1;var t=this.yFields.length*this.dataSet.getSeries(this.yFields[0]).length;return t>this.PROGRESSIVE_DRAW_THRESHOLD},shouldUpdateInPlace:function(){return this.hcChart&&!this.isDirty()},initializeColorPalette:function(){this.colorPalette=new r(this.seriesColors)},initializeSeriesList:function(){this.seriesList=i(this.initializeSeriesPropertiesList()).map(function(t){return f.create(t)})},updateSeriesProperties:function(){var t=this.initializeSeriesPropertiesList(),e=!1;i.each(this.seriesList,function(i,s){t[s]&&i.getType()!=t[s].type&&(e=!0)}),e?(this.seriesList=null,this._isDirty=!0,this.initializeSeriesList()):this.seriesList.length>t.length?this.seriesList=i(this.seriesList).filter(function(i,e){return e>=t.length?(i.destroy(),!1):(i.update(t[e]),!0)},this):this.seriesList.length<=t.length&&(this.seriesList=i(t).map(function(t,i){if(i<this.seriesList.length)return this.seriesList[i].update(t),this.seriesList[i];var e=f.create(t);return this.bindIndividualSeries(e),e},this))},initializeSeriesPropertiesList:function(){if(this.isEmpty())return[{type:this.type}];var e,s=C.isRangeSeriesDataSet(this.dataSet),r=s?C.getRangeSeriesConfig(this.dataSet):[],n=this.getDashStyle();return s&&(e=i(r).pluck("predicted")),i(this.yFields).map(function(a){var h;e&&i(e).contains(a)?h="range":this.seriesTypeMapping.hasOwnProperty(a)&&(h=this.seriesTypeMapping[a]);var o=null;this.hasTimeXAxis()&&"column"!==this.type&&"bar"!==this.type&&(o="on");var l=t.extend(!0,{},this.properties,{type:h||this.type,name:a,pointPlacement:o,stacking:s?"default":this.stackMode,clickEnabled:this.chartClickEnabled,dashStyle:n});return"range"===h&&(l.names=i(r).findWhere({predicted:a})),this.yAxisMapping.hasOwnProperty(a)&&(l.yAxis=this.yAxisMapping[a]),l},this)},initializeXAxisList:function(){var e=this.isEmpty();this.xAxisList=i(this.xFields).map(function(s,r){var h=i(this.seriesList).any(function(t){return t.getXAxisIndex()===r&&{column:!0,bar:!0}.hasOwnProperty(t.getType())}),o=t.extend(v.getXAxisProperties(this.properties),this.axisColorScheme,{"axis.orientation":this.axesAreInverted?"vertical":"horizontal",isEmpty:e});return o["axisTitle.text"]=this._getComputedXAxisTitle(o,s),this.seriesIsTimeBased(s)?(o["axis.spanData"]=this.dataSet.getSeriesAsFloats("_span"),o["axis.categories"]=this.dataSet.getSeriesAsTimestamps(s),o["axisLabels.tickmarkPlacement"]=h?"between":"on",new n(o)):(o["axis.categories"]=this.dataSet.getSeries(s),o["axisLabels.tickmarkPlacement"]="between",new a(o))},this)},initializeYAxisList:function(){var t=this,e=this.isEmpty();this.yAxisList=[];var s=i(this.seriesList).chain().invoke("getYAxisIndex").max().value();i(s+1).times(function(i){t._initializeYAxis(i,e)})},_initializeYAxis:function(t,i){var e=this.initializeYAxisProperties(t,i);e["axisTitle.text"]=this._getComputedYAxisTitle(e,t),"default"!==this.stackMode&&(e["axis.scale"]="linear"),"stacked100"===this.stackMode&&this.isStackable()&&(e.sharedMin=0,e.sharedMax=100),this.yAxisList.push(new h(e))},initializeYAxisProperties:function(i,e){var s=i%2!==0,r=t.extend(v.getYAxisProperties(this.properties,i),this.axisColorScheme,{"axis.orientation":this.axesAreInverted?"horizontal":"vertical",isEmpty:e,opposite:s,sharedMax:s?this.properties.overlayAxisMax:this.properties.yAxisMax,sharedMin:s?this.properties.overlayAxisMin:this.properties.yAxisMin});return r},updateAxisProperties:function(){if(this.hasXAxis){var t=this.xAxisList[0],e=this.xFields[0];t.constructor===a?t.setCategories(this.dataSet.getSeries(e)):t.constructor===n&&t.setCategories(this.dataSet.getSeriesAsTimestamps(e),this.dataSet.getSeriesAsFloats("_span"));var s=v.getXAxisProperties(this.properties);t.setTitle(this._getComputedXAxisTitle(s,e))}if(this.hasYAxis){var r=i(this.seriesList).chain().invoke("getYAxisIndex").max().value();this.yAxisList.length<r+1&&(this.initializeYAxisList(),this._isDirty=!0)}i.each(this.yAxisList,function(t,i){var e=v.getYAxisProperties(this.properties,i);t.setTitle(this._getComputedYAxisTitle(e,i))},this)},_getComputedXAxisTitle:function(t,e){return i.isUndefined(t["axisTitle.text"])||""===t["axisTitle.text"]?this._getDefaultXAxisTitleFromField(e):t["axisTitle.text"]},_getComputedYAxisTitle:function(t,e){return i.isUndefined(t["axisTitle.text"])||""===t["axisTitle.text"]?this._getDefaultYAxisTitle(e):t["axisTitle.text"]},_getDefaultXAxisTitleFromField:function(t){return t},_getDefaultYAxisTitle:function(t){var e=i(this.seriesList).filter(function(i){return i.getYAxisIndex()===t});return 1===e.length?e[0].getName():void 0},initializeLegend:function(){var e=v.getLegendProperties(this.properties);i(e.clickEnabled).isUndefined()&&(e.clickEnabled=this.legendClickEnabled),t.extend(e,{fontColor:this.fontColor}),this.legend=new o(e),this.bindLegendEvents()},bindLegendEvents:function(){var t=this,i={highlightDelay:125,unhighlightDelay:50,onMouseOver:function(i){t.handleLegendMouseOver(i)},onMouseOut:function(i){t.handleLegendMouseOut(i)}},e=new g(i);this.legend.on("mouseover",function(t,i){e.mouseOverHappened(i)}),this.legend.on("mouseout",function(t,i){e.mouseOutHappened(i)}),this.legend.on("click",function(i,e){t.handleLegendClick(i,e)})},initializeTooltip:function(){var t={borderColor:this.foregroundColorSoft};this.tooltip=new l(t)},setAllSeriesData:function(){i(this.seriesList).each(function(t){"range"===t.getType()?this.setRangeSeriesData(t):this.setBasicSeriesData(t)},this)},setBasicSeriesData:function(t){var i=this.getSeriesXInfo(t),e=this.getSeriesYInfo(t);if(i.axis instanceof h)t.setData({x:this.formatAxisData(i.axis,i.fieldName),y:this.formatAxisData(e.axis,e.fieldName)});else if(i.axis instanceof n){var s=i.axis.getCategories(),r=this.formatAxisData(e.axis,e.fieldName);t.setData({y:r.slice(0,s.length)})}else t.setData({y:this.formatAxisData(e.axis,e.fieldName)})},setRangeSeriesData:function(t){var e=this.getSeriesXInfo(t),s=this.getSeriesYInfo(t),r=i(C.getRangeSeriesConfig(this.dataSet)).findWhere({predicted:t.getName()}),n={predicted:this.formatAxisData(s.axis,r.predicted),lower:this.formatAxisData(s.axis,r.lower),upper:this.formatAxisData(s.axis,r.upper)};e.axis instanceof h&&(n.x=this.formatAxisData(e.axis,e.fieldName)),t.setData(n)},bindSeriesEvents:function(){var t=this;this.throttle=new g({highlightDelay:125,unhighlightDelay:50,onMouseOver:function(i,e){t.handlePointMouseOver(i,e)},onMouseOut:function(i,e){t.handlePointMouseOut(i,e)}}),i(this.seriesList).each(this.bindIndividualSeries,this)},bindIndividualSeries:function(t){var i=this;t.on("mouseover",function(t,e,s){i.throttle.mouseOverHappened(e,s)}),t.on("mouseout",function(t,e,s){i.throttle.mouseOutHappened(e,s)}),t.on("click",function(t,e,s){i.handlePointClick(t,e,s)})},handlePointClick:function(t,e,s){var r={},n=e.index,a=this.getSeriesPointInfo(s,e),h={type:"pointClick",modifierKey:t.modifierKey,name:a.xAxisName,name2:a.yAxisName,value2:a.yValue};if(a.xAxisIsTime){var o=this.dataSet.getSeries(a.xAxisName)[n];h.value=m.getEpochTimeFromISO(o),h._span=this.dataSet.getSeriesAsFloats("_span")[n],r["row."+a.xAxisName]=h.value}else h.value=a.xValue,r["row."+a.xAxisName]=a.xValue;i(this.yFields).each(function(t){r["row."+t]=this.dataSet.getSeries(t)[n]},this),h.rowContext=r,this.trigger(h)},handlePointMouseOver:function(t,e){i(this.seriesList).each(function(i){i.matchesName(e.getName())?i.handlePointMouseOver(t):i.unHighlight()}),this.legend&&this.legend.selectField(e.getLegendKey())},handlePointMouseOut:function(t,e){
i(this.seriesList).each(function(i){i.matchesName(e.getName())?i.handlePointMouseOut(t):i.highlight()}),this.legend&&this.legend.unSelectField(e.getLegendKey())},handleLegendClick:function(t,i){var e={type:"legendClick",modifierKey:t.modifierKey,name2:i};this.trigger(e)},handleLegendMouseOver:function(t){i(this.seriesList).each(function(i){i.matchesName(t)?i.handleLegendMouseOver(t):i.unHighlight()})},handleLegendMouseOut:function(t){i(this.seriesList).each(function(i){i.matchesName(t)?i.handleLegendMouseOut(t):i.highlight()})},applyColorPalette:function(){if(!this.isEmpty()){var t={};i(this.getFieldList()).each(function(i,e,s){t[i]=this.computeFieldColor(i,e,s)},this),i(this.seriesList).invoke("applyColorMapping",t)}},getConfig:function(){var e=this,s=t.extend(!0,{chart:{animation:this.enableAnimation},plotOptions:{series:{animation:this.enableAnimation}},tooltip:{animation:this.enableAnimation}},this.BASE_CONFIG,{chart:this.getChartConfig(),series:this.getSeriesConfigList(),xAxis:this.getXAxisConfig(),yAxis:this.getYAxisConfig(),legend:this.getLegendConfig(),tooltip:this.getTooltipConfig(),plotOptions:this.getPlotOptionsConfig(),pointerDragStartPreHook:i(this.pointerDragStartPreHook).bind(this),pointerDragOverride:i(this.pointerDragOverride).bind(this),pointerDropPreHook:i(this.pointerDropPreHook).bind(this),pointerDropPostHook:i(this.pointerDropPostHook).bind(this),pointerPinchOverride:i(this.pointerPinchOverride).bind(this)});return this.exportMode&&(this.seriesIsTimeBased(this.xFields)&&i(s.xAxis).each(function(t){var i;if(e.axesAreInverted)i=-50;else{var s=e.dataSet.getSeriesAsFloats("_span"),r=s&&s.length>0?parseInt(s[0],10):1,n=86400,a=365*n;i=r>=a?15:r>=n?25:35}t.title.margin=i}),t.extend(!0,s,{plotOptions:{series:{enableMouseTracking:!1,shadow:!1}}})),s},getSeriesConfigList:function(){return i(this.seriesList).chain().invoke("getConfig").flatten(!0).value()},getXAxisConfig:function(){return this.hasXAxis?i(this.xAxisList).map(function(t,i){var e=t.getConfig();return i>0&&(e.offset=40),e},this):[]},getYAxisConfig:function(){return this.hasYAxis?i(this.yAxisList).map(function(t,i){return t.getConfig()}):[]},getLegendConfig:function(){return this.hasLegend&&this.legend?this.legend.getConfig():{}},getTooltipConfig:function(){return this.tooltip?t.extend(this.tooltip.getConfig(),{formatter:function(){return!1}}):{}},formatTooltip:function(t,i){var e=this.getSeriesPointInfo(t,i);return t.getTooltipHtml(e,this.hcChart)},getChartConfig:function(){var t={type:this.type,renderTo:this.container,backgroundColor:this.backgroundColor,borderColor:this.backgroundColor};if(this.exportMode?(t.width=this.width||this.EXPORT_WIDTH,t.height=this.height||this.EXPORT_HEIGHT):this.$container.is(":visible")||(t.width=this.FALLBACK_WIDTH,t.height=this.FALLBACK_HEIGHT),this.isZoomable()&&"off"!==this.zoomType&&(t.zoomType=this.zoomType||"x"),this.yAxisList&&this.yAxisList.length>1){var e=i.find(this.yAxisList,function(t){return t.hasExplicitMin||t.hasExplicitMax});e&&(t.alignTicks=!1)}return t},getDataLabelConfig:function(){if("none"===this.showLabels||"undefined"==typeof this.dataLabels)return{enabled:!1};var i=this,e=t.extend(!0,{},this.dataLabels.getConfig(),{formatter:function(){for(var t=0;t<i.seriesList.length;t++){var e=this.series.options.id,s=i.seriesList[t].id;if(e===s){var r=i.getSeriesPointInfo(i.seriesList[t],this.point);if(r)return r.yValueDisplay}}}});return e},getPlotOptionsConfig:function(){var i="default"!==this.stackMode&&!C.isRangeSeriesDataSet(this.dataSet);return t.extend(!0,{},this.BASE_PLOT_OPTIONS_CONFIG,{series:{cursor:this.chartClickEnabled?"pointer":"default",dataLabels:this.getDataLabelConfig()},area:{trackByArea:i}})},isZoomable:function(){return"area"===this.type||"line"===this.type||"column"===this.type},isStackable:function(){return"line"!==this.type},addEventHandlers:function(e){var s=this,r=t(e);y.jQueryOn.call(r,"redraw",function(){s.onChartRedraw(e),s.onChartLoadOrRedraw(e)}),this.hasXAxis&&y.jQueryOn.call(r,"selection",i(this.onChartSelection).bind(this)),y.jQueryOn.call(r,"tooltipRefresh",function(){if(s.hcChart.hoverPoint){var t=s.hcChart.hoverPoint.series.index;"column"===s.hcChart.series[t].splSeries.type?(s.hcChart.series[t].splSeries.unHighlight(),s.hcChart.series[t].splSeries.highlight()):"line"!==s.hcChart.series[t].splSeries.type&&"area"!==s.hcChart.series[t].splSeries.type||(s.hcChart.hoverPoint.setState(),s.hcChart.hoverPoint.setState("hover"))}}),y.jQueryOn.call(r,"endResize",function(){s.onChartResize(e)})},enableTooltip:function(t){var i=this;t.tooltip.options.formatter=function(){var t=this.series.splSeries;return i.formatTooltip(t,this.point)}},onChartLoad:function(t){this.legend&&this.legend.onChartLoad(t),this.dataLabels&&this.dataLabels.onChartLoad(t),i(this.xAxisList).invoke("onChartLoad",t),i(this.yAxisList).invoke("onChartLoad",t),i(this.seriesList).invoke("onChartLoad",t),this.isZoomable()&&this.triggerRangeSelectionEvent()},onChartRedraw:function(t){var i=this;if(this.selectionWindow)this.selectionWindow.onChartRedraw(t);else if(this.isZoomable()&&!this.isiOS){var e=this.xAxisList[0];e&&e.isZoomed?(this.resetZoomButton||(this.resetZoomButton=new u(this.hcChart)),this.panButtons?this.panButtons.onChartRedraw(t):(this.panButtons=new c(this.hcChart),this.panButtons.on("pan",function(t,e,s){i.triggerRangeSelectionEvent()}))):(this.resetZoomButton&&(this.resetZoomButton.destroy(),this.resetZoomButton=null),this.panButtons&&(this.panButtons.destroy(),this.panButtons=null))}this.isZoomable()&&!this.selectionTriggeredBeforeRedraw&&this.triggerRangeSelectionEvent(),this.selectionTriggeredBeforeRedraw=!1},onChartLoadOrRedraw:function(t){this.legend&&this.legend.onChartLoadOrRedraw(t),this.dataLabels&&this.dataLabels.onChartLoadOrRedraw(t),i(this.xAxisList).invoke("onChartLoadOrRedraw",t),i(this.yAxisList).invoke("onChartLoadOrRedraw",t),i(this.seriesList).invoke("onChartLoadOrRedraw",t)},onChartDestroy:function(){t(e).off("baseUriChange."+this.id),this.legend&&this.legend.destroy(),this.dataLabels&&this.dataLabels.destroy(),i(this.xAxisList).invoke("destroy"),i(this.yAxisList).invoke("destroy"),i(this.seriesList).invoke("destroy"),this.selectionWindow&&(this.selectionWindow.destroy(),this.selectionWindow=null),this.panButtons&&(this.panButtons.destroy(),this.panButtons=void 0)},onChartSelection:function(t){var i=this.xAxisList[0];if(!t.resetSelection){var e=t.xAxis[0],s=this.getNormalizedAxisExtremes(e.min,e.max);e.min=s.min,e.max=s.max+(i.hasTickmarksBetween()?0:1);var r=this.triggerRangeSelectionEvent(s);if(r.isDefaultPrevented()){if(t.preventDefault(),this.hasPendingRangeResetEvent=!1,i.getZoomed(e.min,e.max)){this.selectionWindow=new d(this.hcChart);var n=this;this.selectionWindow.on("rangeSelect",function(t,i,e){n.triggerRangeSelectionEvent()})}}else this.selectionTriggeredBeforeRedraw=!0}},onChartResize:function(t){this.panButtons&&this.panButtons.onChartResize(t)},getNormalizedAxisExtremes:function(t,i){var e=this.xAxisList[0],s=this.hcChart.xAxis[0],r=s.dataMax,n=s.dataMin,a=function(t){return t>r&&(t=r),t<n&&(t=n),Math.round(t)},h=a(t),o=this.isiOS&&this.hcChart.pointer.selectionMarker,l=a(i),d=o&&this.hcChart.pointer.selectionMarker.width===this.hcChart.plotWidth,c=o&&this.hcChart.pointer.selectionMarker.width!==this.hcChart.plotWidth;return d&&l>h&&l!==r&&(l-=e.hasTickmarksBetween()?0:1),c&&i-t<1&&!e.hasTickmarksBetween()&&(l=h),{min:h,max:l}},calculatePostUpdateExtremes:function(t){var e=this.xAxisList[0],s=e.getCategories();if(e instanceof n){var r=e.getPreviousCategories(),a=i(s).indexOf(r[t.min]),h=parseInt(m.getEpochTimeFromISO(r[t.max]),10)+e.getPreviousSpanData()[t.max],o=e.getSpanData(),l=i(s).map(function(t,i){return parseInt(m.getEpochTimeFromISO(t),10)+o[i]}),d=i(l).indexOf(h);return{min:a>-1?a:null,max:d>-1?d:null}}return s.length>t.max?t:{min:null,max:null}},triggerRangeSelectionEvent:function(e){var s=this.xAxisList[0],r=!e&&!this.selectionWindow&&!s.isZoomed;e||(this.selectionWindow?(e=this.selectionWindow.getExtremes(),e.min+=s.hasTickmarksBetween()?1:0):(e=this.hcChart.xAxis[0].getExtremes(),e.max-=s.hasTickmarksBetween()?0:1)),e=this.getNormalizedAxisExtremes(e.min,e.max);var a=s instanceof n,h=a?this.dataSet.getSeriesAsTimestamps(this.xFields[0]):this.dataSet.getSeries(this.xFields[0]),o=h[e.min],l=h[e.max];if(a){var d=1;if(this.dataSet.hasField("_span")){var c=this.dataSet.getSeriesAsFloats("_span");d=c.length>e.max?c[e.max]:i(c).last()}o=parseInt(m.getEpochTimeFromISO(o),10),l=parseInt(m.getEpochTimeFromISO(l),10)+d}var u=t.Event("chartRangeSelect",{startXIndex:e.min,endXIndex:e.max,startXValue:o,endXValue:l,isReset:!!r});return this.trigger(u),u},pointerDragStartPreHook:function(t,i){if(this.selectionWindow){var e=this.selectionWindow.handleDragStartEvent(i);e||(this.selectionWindow.destroy(),this.selectionWindow=null,this.hasPendingRangeResetEvent=!0)}},pointerPinchOverride:function(t,e,s){this.selectionWindow?"touchstart"===e.type?(t.dragStart(e),this.selectionWindow||i.each(e.touches,function(i,e){t.pinchDown[e]={chartX:i.chartX||i.pageX,chartY:i.chartY||i.pageY}})):"touchmove"===e.type?(t.normalize(e).chartX,this.selectionWindow.handleDragEvent(e)):"touchend"===e.type&&this.selectionWindow.handleDropEvent(e):s.call(t,e)},pointerDragOverride:function(t,i,e){this.selectionWindow?this.selectionWindow.handleDragEvent(i):(e.call(t,i),this.hcChart.pointer.selectionMarker&&this.hcChart.pointer.selectionMarker.attr({"stroke-width":2,stroke:this.foregroundColorSofter}))},pointerDropPreHook:function(t,i){this.selectionWindow&&this.selectionWindow.handleDropEvent(i)},pointerDropPostHook:function(t,i){this.hasPendingRangeResetEvent&&(this.triggerRangeSelectionEvent(),this.hasPendingRangeResetEvent=!1)},getSeriesXInfo:function(t){var i=t.getXAxisIndex();return{axis:this.xAxisList[i],fieldName:this.xFields[i]}},getSeriesYInfo:function(t){return{axis:this.yAxisList[t.getYAxisIndex()],fieldName:t.getName()}},getSeriesPointInfo:function(t,i){var e=i.index,s=this.getSeriesXInfo(t),r=this.getSeriesYInfo(t),a=this.dataSet.getSeries(s.fieldName),h=this.dataSet.getSeries(r.fieldName);return{xAxisIsTime:s.axis instanceof n,xAxisName:s.fieldName,xValue:a[e],xValueDisplay:s.axis.formatValue(a[e]),yAxisName:r.fieldName,yValue:h[e],yValueDisplay:r.axis.formatValue(h[e])}},getDashStyle:function(){var t=this.properties.lineDashStyle;if(t)return _.capitalize(t)},seriesIsTimeBased:function(t){return/^_time/.test(t)&&(this.dataSet.getSeries(t).length<=1||this.dataSet.hasField("_span"))},formatAxisData:function(t,i){return this.dataSet.hasField(i)?this.dataSet.getSeriesAsFloats(i,{scale:t.isLogScale()?"log":"linear",nullValueMode:this.properties["chart.nullValueMode"]}):[]},computeFieldColor:function(t,e,s){if(this.internalFieldColors.hasOwnProperty(t))return b.colorFromHex(this.internalFieldColors[t]);var r=!i(this.externalPaletteMapping).isEmpty(),n=r?this.externalPaletteMapping[t]:e,a=r?this.externalPaletteSize:s.length;return this.colorPalette.getColorAsRgb(t,n,a)},BASE_CONFIG:{chart:{showAxes:!0,reflow:!1,selectionMarkerFill:"rgba(0,0,0,0)",spacingTop:16},credits:{enabled:!1},legend:{enabled:!1},plotOptions:{series:{states:{hover:{enabled:!1}},events:{legendItemClick:function(){return!1}},borderWidth:0,shadow:!1,turboThreshold:0}},title:{text:null},tooltip:{enabled:!1,useHTML:!0}},BASE_PLOT_OPTIONS_CONFIG:{line:{stickyTracking:!0,states:{hover:{marker:{enabled:!0,radius:6}}},marker:{enabled:!1,symbol:"square"}},area:{stickyTracking:!0,lineWidth:1,states:{hover:{marker:{enabled:!0,radius:6}}},marker:{symbol:"square",enabled:!1}},column:{markers:{enabled:!1},stickyTracking:!1,fillOpacity:1,trackByArea:!0},bar:{markers:{enabled:!1},stickyTracking:!1,fillOpacity:1,trackByArea:!0}}}),P}.apply(i,s),!(void 0!==r&&(t.exports=r))},"js_charting/components/CartesianDataLabels":function(t,i,e){var s,r;s=[e("shim/jquery"),e("require/underscore"),e("js_charting/components/DataLabels"),e("js_charting/util/lang_utils")],r=function(t,i,e,s){var r=function(t){e.call(this,t),this.showLabels=t.showLabels,this.splitSeries=t.splitSeries};return s.inherit(r,e),r.prototype=t.extend(r.prototype,{onChartLoadOrRedraw:function(t){"minmax"===this.showLabels&&this.displayMinMax(t.series),"all"===this.showLabels&&this.removeRepeatedZeroValues(t.series)},destroy:function(t){this.off()},onChartLoad:function(){},displayMinMax:function(t){var e=i.flatten(i.pluck(t,"points"));i.each(e,function(t){t.dataLabel&&t.dataLabel.element&&t.dataLabel.element.setAttribute("display","none")});var s,r,n=t.length,a=[],h=[];for(s=0;s<n;s++){var o=t[s].xAxis.getExtremes(),l=o.userMin||o.dataMin,d=o.userMax||o.dataMax;for(h=[],r=l;r<=d;r++)t[s].points[r]&&h.push(t[s].points[r]);a.push(h)}for(this.splitSeries||(a=[i.flatten(a)]),s=0;s<a.length;s++){var c=i.filter(a[s],function(t){return!i.isNull(t.y)&&t.dataLabel}),u=i.min(c,function(t){return t.y}),g=i.max(c,function(t){return t.y});g.dataLabel.element.removeAttribute("display"),u.dataLabel.element.removeAttribute("display")}},removeRepeatedZeroValues:function(t){var e=i.flatten(i.pluck(t,"points"));i.each(e,function(t){t.dataLabel&&t.dataLabel.element&&t.dataLabel.element.removeAttribute("display")});var s=i.min(i.pluck(e,"y"));s>=0&&i.each(e,function(t){0==t.y&&t.dataLabel&&t.dataLabel.element&&t.dataLabel.element.setAttribute("display","none")})}}),r}.apply(i,s),!(void 0!==r&&(t.exports=r))},"js_charting/components/DataLabels":function(t,i,e){var s,r;s=[e("shim/jquery"),e("js_charting/helpers/EventMixin")],r=function(t,i){var e=function(t){return this.properties=t||{},this};return e.prototype=t.extend({},i,{getConfig:function(){return{enabled:!0}}}),e}.apply(i,s),!(void 0!==r&&(t.exports=r))},"js_charting/helpers/EventMixin":function(t,i,e){var s,r;s=[e("shim/jquery"),e("js_charting/util/dom_utils")],r=function(t,i){return{on:function(e,s){i.jQueryOn.call(t(this),e,s)},off:function(e,s){i.jQueryOff.call(t(this),e,s)},trigger:function(i,e){t(this).trigger(i,e)}}}.apply(i,s),!(void 0!==r&&(t.exports=r))},"js_charting/util/dom_utils":function(t,i,e){var s,r;s=[e("shim/jquery"),e("require/underscore")],r=function(t,i){var e=i(t.fn.on).isFunction()?t.fn.on:t.fn.bind,s=i(t.fn.off).isFunction()?t.fn.off:t.fn.unbind,r=function(t,i){t.attr("text")!==i&&(t.added=!0,t.attr({text:i}))},n=function(i){var e=i.label,s=i.label.element.nodeName.toLowerCase();"text"===s?e.hide():t(e.element).hide()},a=function(i){var e=i.label,s=i.label.element.nodeName.toLowerCase();"text"===s?e.show():t(e.element).show()};return{jQueryOn:e,jQueryOff:s,setLegendItemText:r,hideTickLabel:n,showTickLabel:a}}.apply(i,s),!(void 0!==r&&(t.exports=r))},"js_charting/util/lang_utils":function(t,i,e){var s;s=function(){var t=function(t,i){var e=function(){};e.prototype=i.prototype,t.prototype=new e,t.prototype.constructor=t};return{inherit:t}}.call(i,e,i,t),!(void 0!==s&&(t.exports=s))},"js_charting/visualizations/Visualization":function(t,i,e){var s,r;s=[e("shim/jquery"),e("require/underscore"),e("js_charting/helpers/EventMixin"),e("js_charting/util/color_utils"),e("js_charting/util/parsing_utils")],r=function(t,i,e,s,r){var n=function(e,s){this.container=e,this.$container=t(e),this.properties=t.extend(!0,{},s),this.id=i.uniqueId("viz_"),this._isDirty=!1,this.updateDimensions(),this.lastDrawnWidth=null,this.lastDrawnHeight=null,this.benchmarks=[]};return n.prototype=t.extend({},e,{requiresExternalColors:!1,getWidth:function(){return this.$container.width()},getHeight:function(){return this.$container.height()},getCurrentDisplayProperties:function(){return this.properties},isDirty:function(){return this._isDirty},updateDimensions:function(){this.width=this.getWidth(),this.height=this.getHeight()},cacheDrawnDimensions:function(){this.lastDrawnWidth=this.width,this.lastDrawnHeight=this.height},getClassName:function(){return this.type+"-chart"},prepare:function(e,s){var r=t.extend(!0,{},this.properties);s&&(t.extend(!0,this.properties,s),i.isEqual(this.properties,r)||(this._isDirty=!0)),this.dataSet=e,this.updateDimensions(),this.processProperties()},draw:function(i){var e=this,s=t.Deferred();return this.handleDraw(function(){e._isDirty=!1,i&&i.apply(null,arguments),s.resolve.apply(s,arguments)}),s},prepareAndDraw:function(t,i,e){return this.prepare(t,i),this.draw(e)},requiresExternalColorPalette:function(){return this.requiresExternalColors},processProperties:function(){this.type=this.properties.chart||"column",this.backgroundColor=this.properties["chart.backgroundColor"]||this.properties.backgroundColor||"rgb(255, 255, 255)",this.foregroundColor=this.properties["chart.foregroundColor"]||this.properties.foregroundColor||"rgb(0, 0, 0)",this.fontColor=this.properties["chart.fontColor"]||this.properties.fontColor||"#555555",this.foregroundColorSoft=s.addAlphaToColor(this.foregroundColor,.25),this.foregroundColorSofter=s.addAlphaToColor(this.foregroundColor,.15),this.properties["chart.foregroundColor"]||this.properties.foregroundColor?(this.axisColorSoft=this.foregroundColorSoft,this.axisColorSofter=this.foregroundColorSofter):(this.axisColorSoft="#d9dce0",this.axisColorSofter="#ebedef"),this.testMode=r.normalizeBoolean(this.properties["chart.testMode"])||r.normalizeBoolean(this.properties.testMode),this.exportMode=r.normalizeBoolean(this.properties["chart.exportMode"])||r.normalizeBoolean(this.properties.exportMode)},resize:function(){this.updateDimensions(),this.width&&this.height&&(this.width!==this.lastDrawnWidth||this.height!==this.lastDrawnHeight)&&this.setSize(this.width,this.height)},handleDraw:function(t){},destroy:function(){},getSVG:function(){},benchmark:function(t){if(this.testMode)if(0===this.benchmarks.length)this.benchmarks.push([t,(new Date).getTime()]);else{var e=i(this.benchmarks).reduce(function(t,i){return t+i[1]},0);this.benchmarks.push([t,(new Date).getTime()-e])}}}),n}.apply(i,s),!(void 0!==r&&(t.exports=r))},"js_charting/components/ColorPalette":function(t,i,e){var s,r;s=[e("js_charting/util/parsing_utils"),e("js_charting/util/color_utils"),e("util/color_utils"),e("splunk/palettes/ColorCodes")],r=function(t,i,e,s){var r=function(i,e){this.setColors(i),this.useInterpolation=t.normalizeBoolean(e,!1)};return r.prototype={setColors:function(t){this.colors=t||this.BASE_COLORS},getColor:function(t,i,s){var r,n,a,h=this.colors.length;return 0===h?0:(i<0&&(i=0),this.useInterpolation?(s<1&&(s=1),i>s&&(i=s),r=1===s?0:(h-1)*(i/(s-1)),n=Math.floor(r),a=Math.min(n+1,h-1),r-=n,e.interpolateColors(this.colors[n],this.colors[a],r)):this.colors[i%h])},getColorAsRgb:function(t,e,s){var r=this.getColor(t,e,s);return i.colorFromHex(r)},BASE_COLORS:s.toNumbers(s.CATEGORICAL)},r}.apply(i,s),!(void 0!==r&&(t.exports=r))},"js_charting/components/axes/TimeAxis":function(t,i,e){var s,r;s=[e("shim/jquery"),e("require/underscore"),e("js_charting/components/axes/Axis"),e("js_charting/components/axes/CategoryAxis"),e("js_charting/helpers/Formatter"),e("js_charting/util/lang_utils"),e("util/time"),e("js_charting/util/time_utils"),e("js_charting/util/dom_utils"),e("js_charting/util/parsing_utils")],r=function(t,i,e,s,r,n,a,h,o,l){var d=function(t){s.call(this,t);var i=6,e=10,r=15;this.numLabelCutoff=0===this.labelRotation?i:this.labelRotation===-45?e:r,this.spanData=t["axis.spanData"],this.tickLabelPadding=this.isVertical?2:3};return n.inherit(d,s),t.extend(d.prototype,{getConfig:function(){var i=s.prototype.getConfig.call(this);return t.extend(!0,i,{showLastLabel:!0,labels:{maxStaggerLines:1}}),i},setCategories:function(t,i){this.previousSpanData=this.spanData,this.spanData=i,s.prototype.setCategories.call(this,t)},getSpanData:function(){return this.spanData},getPreviousSpanData:function(){return this.previousSpanData||[]},formatLabel:function(t){return t},formatValue:function(t){return h.formatIsoStringAsTooltip(t,this.pointSpan)||i("Invalid timestamp").t()},getOffsetPreHook:function(t){var i,e=t.options,s=t.chart,r=this.isVertical?s.plotHeight:s.plotWidth,n=t.getExtremes(),a=Math.round(n.max-n.min+(this.hasTickmarksBetween()?1:0)),h=parseInt(e.labels.style.fontSize.split("px")[0],10)||0,o=a>1?r/a:r+2*this.tickLabelPadding,l=0,d=0;e.adjustedTickSpacing=o,this.isVertical?(d=o/2+h/3,l=-(e.tickLength+4)):(this.labelRotation===-45?(e.labels.align="right",l=h/2,d=h/2+e.tickLength+4,1===t.tickPositions.length&&(l-=50)):45===this.labelRotation?(e.labels.align="left",i=4*this.tickLabelPadding,l=-h/2,d=h/2+e.tickLength+4):this.labelRotation===-90?(e.labels.align="right",l=h/3,d=e.tickLength+4):90===this.labelRotation?(e.labels.align="left",l=-h/2,d=e.tickLength+4):(e.labels.align="left",l=0,d=h+e.tickLength+2),"on"!==e.tickmarkPlacement&&(l=1===a?-(o/2+l):o/2+l)),e.labels.x=l,e.labels.y=d},tickPositioner:function(t,i,e){return i===e?null:[i,e]},tickRenderPostHook:function(t,i,e,r){if(t.label&&90===this.labelRotation){var n=parseInt(t.axis.options.labels.style.lineHeight||14,0);t.label.translate(t.labelBBox.width-(n-this.tickLabelPadding),0)}s.prototype.tickRenderPostHook.call(this,t,i,e,r)},setTickPositionsPostHook:function(t,e){var s=t.options,r=t.getExtremes(),n=Math.round(r.min),a=Math.round(r.max),o=Math.round(a-n+(this.hasTickmarksBetween()?1:0)),l=h.convertTimeToCategories(this.originalCategories.slice(n,n+o),this.numLabelCutoff),d=l.categories;this.granularity=l.granularity,this.pointSpan=h.getPointSpan(this.originalCategories),t.tickPositions=[],i(d).each(function(i,e){if(" "!==i){var r=n+e;"between"===s.tickmarkPlacement&&1!==o&&r--,s.categories[r]=i,t.tickPositions.push(r)}},this),s.labels.style.whiteSpace="nowrap"},tickHandleOverflowOverride:function(t,i,e,r){return!(i!==-1&&!r)||(0===i?(this.collisionDetected=!1,this.lastTickFits=!0,!0):(this.collisionDetected=this.collisionDetected||this.tickOverlapsPrevious(t,i,e),!t.isLast||(this.lastTickFits=s.prototype.tickHandleOverflowOverride.call(this,t,i,e),this.resolveCollisionDetection(t.axis,this.collisionDetected,this.lastTickFits),this.lastTickFits)))},tickOverlapsPrevious:function(t,i,e){var s,r=t.axis,n=r.ticks[r.tickPositions[i-1]];if(!n)return!1;if(s=n.getPosition(r.horiz,n.pos,r.tickmarkOffset),this.isVertical){var a=s.y+this.getTickLabelExtremesY(n)[1];return e.y-r.options.labels.y<a+this.tickLabelPadding}var h=s.x+this.getTickLabelExtremesX(n)[1];return t.label.rotation===-90?e.x-r.options.labels.x/2<h:e.x<h},tickOverlapsNext:function(t,i,e){var s,r=t.axis,n=r.ticks[r.tickPositions[i+1]];if(!n)return!1;if(s=n.getPosition(r.horiz,n.pos,r.tickmarkOffset),this.isVertical){var a=e.y+this.getTickLabelExtremesY(t)[1];return a>s.y}var h=e.x+this.getTickLabelExtremesX(t)[1];return h>s.x},resolveCollisionDetection:function(t,e,s){var r=t.tickPositions,n=r.slice(1),o=t.ticks,l=this.originalCategories,d=this.granularity,c=this.hasTickmarksBetween()?1:0;e?i(n).each(function(t,i){i++;var e=o[t];if(i%2===0){var s=a.extractBdTime(l[e.pos+c]),n=o[r[i-2]],u=a.extractBdTime(l[n.pos+c]),g=(h.formatBdTimeAsAxisLabel(s,u,d)||[""]).join("<br/>");e.label.attr({text:g})}else e.label.hide(),e.mark&&e.mark.hide()}):i(n).each(function(t,i){i++;var e=o[t];if(e.label.show(),e.mark&&e.mark.show(),i%2===0){var s=a.extractBdTime(l[t+c]),n=o[r[i-1]],u=a.extractBdTime(l[n.pos+c]),g=(h.formatBdTimeAsAxisLabel(s,u,d)||[""]).join("<br/>");e.label.attr({text:g})}}),s||e&&r.length%2===0||t.ticks[i(r).last()].label.hide()},getTickLabelExtremesX:function(t){var e=s.prototype.getTickLabelExtremesX.call(this,t),r=t.axis.options;return this.hasTickmarksBetween()&&0===t.label.rotation?i(e).map(function(t){return t-r.adjustedTickSpacing/2}):(t.isFirst&&(t.label.rotation!==-90&&t.label.rotation!==-45&&90!==t.label.rotation||(e[1]=t.labelBBox.width)),e)},getTickLabelExtremesY:function(t){return e.prototype.getTickLabelExtremesY.apply(this,arguments)}}),d}.apply(i,s),!(void 0!==r&&(t.exports=r))},"js_charting/components/axes/Axis":function(t,i,e){var s,r;s=[e("shim/jquery"),e("require/underscore"),e("js_charting/helpers/Formatter"),e("js_charting/util/parsing_utils"),e("js_charting/util/dom_utils")],r=function(t,i,e,s,r){var n=function(t){this.properties=t||{},this.id=i.uniqueId("axis_"),this.isVertical="vertical"===this.properties["axis.orientation"],this.isZoomed=!1,this._titleIsDirty=!1,this.labelRotation||(this.labelRotation=this.isVertical?0:s.getRotation(this.properties["axisLabels.majorLabelStyle.rotation"]))};return n.prototype={getZoomed:function(t,i){var e=this.hcAxis;return void 0!==t&&t>e.dataMin||void 0!==i&&i<("between"===e.options.tickmarkPlacement?e.dataMax:e.dataMax+1)},clone:function(){return new this.constructor(t.extend(!0,{},this.properties))},getConfig:function(){var e=null,r=this;return this.properties.isEmpty||"collapsed"===this.properties["axisTitle.visibility"]||!this.properties["axisTitle.text"]||/^\s+$/.test(this.properties["axisTitle.text"])||(e=s.escapeSVG(this.properties["axisTitle.text"])),t.extend(!0,this.getOrientationDependentConfig(),{id:this.id,labels:{enabled:"hide"!==this.properties["axisLabels.majorLabelVisibility"],formatter:function(){var t=this;return r.formatLabel(t)},style:{color:this.properties["axis.fontColor"]||"#000000"}},title:{style:{color:this.properties["axis.fontColor"]||"#000000",fontSize:"12px",HcTextStroke:!0},text:e},opposite:this.properties.opposite,lineColor:this.properties["axis.foregroundColorSoft"]||"#d9dce0",lineWidth:"hide"===this.properties["axisLabels.axisVisibility"]?0:1,gridLineColor:this.properties["axis.foregroundColorSofter"]||"#ebedef",tickLength:parseInt(this.properties["axisLabels.majorTickSize"],10)||6,tickColor:this.properties["axis.foregroundColorSoft"]||"#d9dce0",tickWidth:"hide"===this.properties["axisLabels.majorTickVisibility"]?0:1,tickRenderPostHook:i(this.tickRenderPostHook).bind(this),tickHandleOverflowOverride:i(this.tickHandleOverflowOverride).bind(this),getOffsetPreHook:i(this.getOffsetPreHook).bind(this),zoomOverride:i(this.zoomOverride).bind(this),getLabelSizeOverride:i(this.getLabelSizeOverride).bind(this)})},zoomOverride:function(t,i,e){return t.displayBtn=!1,t.dataMin&&i<=t.dataMin&&(i=void 0),t.dataMax&&("between"===t.options.tickmarkPlacement&&e>=t.dataMax||"on"===t.options.tickmarkPlacement&&e>t.dataMax)&&(e=void 0),this.isZoomed=this.getZoomed(i,e),t.setExtremes(i,e,!1,void 0,{trigger:"zoom"}),!0},getOrientationDependentConfig:function(){return this.isVertical?t.extend(!0,{},this.BASE_VERT_CONFIG,this.getVerticalConfig()):t.extend(!0,{},this.BASE_HORIZ_CONFIG,this.getHorizontalConfig())},onChartLoad:function(){},redraw:function(t){if(!this.hcAxis)throw new Error("cannot redraw an axis that has not been drawn yet");this.titleIsDirty()&&this.hcAxis.setTitle({text:this.properties["axisTitle.text"]},t)},titleIsDirty:function(){return this._titleIsDirty},setTitle:function(t){this.previousAxisTitle=this.properties["axisTitle.text"],this.properties["axisTitle.text"]=t,i.isEqual(this.properties["axisTitle.text"],this.previousAxisTitle)||(this._titleIsDirty=!0)},onChartLoadOrRedraw:function(t){this.hcAxis=t.get(this.id),this.initializeTicks(),this._titleIsDirty=!1},initializeTicks:function(){var t,i=this.hcAxis.ticks,e=[];for(t in i)i.hasOwnProperty(t)&&e.push(i[t]);e.sort(function(t,i){return t.pos-i.pos}),this.ticks=e},tickRenderPostHook:function(t,i,e,s){t.label&&0!==s&&(t.handleOverflow(i,t.label.xy,e)?r.showTickLabel(t):r.hideTickLabel(t))},getOffsetPreHook:function(t){if(t.userOptions.title.text){var i,s=t.chart,r=new e(s.renderer),n=t.userOptions.title.text,a=12;i=t.horiz?r.ellipsize(n,s.chartWidth-100,a,{fontWeight:"bold"}):r.ellipsize(n,s.chartHeight-100,a,{fontWeight:"bold"}),t.options.title.text=i,t.axisTitle&&t.axisTitle.attr({text:i}),r.destroy()}},tickHandleOverflowOverride:function(t,i,e){if(t.isFirst)return this.handleFirstTickOverflow(t,i,e);var s=t.axis,r=s.options,n=s.tickPositions.length-("between"===r.tickmarkPlacement?0:1),a=r.labels.step||1;return!t.isLast&&i!==n-n%a||this.handleLastTickOverflow(t,i,e)},handleFirstTickOverflow:function(t,i,e){var s=t.axis;if(s.horiz||s.reversed)return!0;var r=this.getTickLabelExtremesY(t)[1],n=s.top+s.len;return e.y+r<=n},handleLastTickOverflow:function(t,i,e){var s=t.axis;if(!s.horiz&&!s.reversed)return!0;if(s.horiz){var r=s.left+s.len,n=this.getTickLabelExtremesX(t)[1];return e.x+n<=r}var a=this.getTickLabelExtremesY(t)[1],h=s.top+s.len;return e.y+a<=h},getTickLabelExtremesX:function(t){return t.getLabelSides()},getTickLabelExtremesY:function(t){var i=-(t.axis.options.labels.y/2);return[i,i+t.labelBBox.height]},getLabelSizeOverride:function(t){if(!t.label)return 0;var i="horizontal"===this.properties["axis.orientation"];return t.labelBBox=t.label.getBBox(),i&&"on"===this.properties["axisLabels.tickmarkPlacement"]&&t.isLast&&!t.isFirst?0:t.labelBBox[i?"height":"width"]},destroy:function(){this.hcAxis=null},getVerticalConfig:function(){return{}},getHorizontalConfig:function(){return{labels:{rotation:this.labelRotation}}},BASE_HORIZ_CONFIG:{title:{margin:6},labels:{y:15}},BASE_VERT_CONFIG:{title:{margin:6}}},n}.apply(i,s),!(void 0!==r&&(t.exports=r))},"js_charting/helpers/Formatter":function(t,i,e){var s,r;s=[e("shim/jquery"),e("require/underscore"),e("js_charting/util/dom_utils"),e("js_charting/helpers/font_data/widths/helvetica")],r=function(t,i,e,s){var r=function(t){this.renderer=t,this.charWidths=s,this.DEFAULT_CHAR_WIDTH=1e3,this.ELLIPSIS_WIDTH=834,this.ELLIPSIS="...",this.PX_TO_PT_RATIO={},this.boldFontScale=1.0555,this.KERNING_FACTOR=.006};return r.prototype={_getPxScale:function(t,i){var e,s="foo";return i&&i["font-weight"]&&"bold"===i["font-weight"]?(e=this.PX_TO_PT_RATIO[t].bold,e||(e=this._calculatePxScale(s,t,i),this.PX_TO_PT_RATIO[t].bold=e),e):(e=this.PX_TO_PT_RATIO[t],e||(e=this._calculatePxScale(s,t),this.PX_TO_PT_RATIO[t]=e),e)},_calculatePxScale:function(t,i,e){var s=this.getTextBBox(t,i,e).width,r=this._widthOfString(t,e),n=r*i/1e3;return s/n},_widthOfString:function(t,i){var e=1;if(i&&i["font-weight"]&&"bold"===i["font-weight"]&&(e=this.boldFontScale),!t||""===t)return 0;for(var s=0,r=t.length,n=0;n<r;n++)s+=this.charWidths[t.charCodeAt(n)]||this.DEFAULT_CHAR_WIDTH;return s*e},ellipsize:function(e,s,r,n,a){i(e).isArray()&&(e=e.join(",")),e=t.trim(e);var h=e.length;if(!e||""===e)return"";if(h<=3||!r||isNaN(r)||r<=0)return e;if(!s||isNaN(s)||s<=0)return this.ELLIPSIS;var o,l,d,c=this.KERNING_FACTOR*r*h,u=(s+c)/this._getPxScale(r),g=this._widthOfString(e,n),p=1e3*u/r,f=g-p,m=0,x="";if(!(f>0))return e;var k=p-this.ELLIPSIS_WIDTH;switch(a){case"end":for(o=0;o<h;o++){if(m+=this.charWidths[e.charCodeAt(o)]||this.DEFAULT_CHAR_WIDTH,m>k)return x+this.ELLIPSIS;x+=e[o]}break;case"start":for(l=h-1,o=l;o>=0;o--){if(m+=this.charWidths[e.charCodeAt(o)]||this.DEFAULT_CHAR_WIDTH,m>k)return this.ELLIPSIS+x;x=e[o].concat(x)}break;default:for(d=Math.floor(e.length/2),o=0;o<=d;o++){if(m+=this.charWidths[e.charCodeAt(o)]||this.DEFAULT_CHAR_WIDTH,m>k)return e.substring(0,o)+this.ELLIPSIS+e.substring(h-o,h);if(m===k)return e.substring(0,o+1)+this.ELLIPSIS+e.substring(h-o,h);if(m+=this.charWidths[e.charCodeAt(h-o-1)]||this.DEFAULT_CHAR_WIDTH,m>k)return e.substring(0,o+1)+this.ELLIPSIS+e.substring(h-o,h);if(m===k)return e.substring(0,o+1)+this.ELLIPSIS+e.substring(h-o-1,h)}}},trimStringToWidth:function(t,i,e,s){var r=this,n=function(n,a){for(var h;a>n+1;)h=Math.floor((n+a)/2),r.predictTextWidth(t.substr(0,h),e,s)>i?a=h:n=h;return n},a=n(0,t.length);return t.substr(0,a)},reverseString:function(t){return t.split("").reverse().join("")},predictTextWidth:function(e,s,r){if(i(e).isArray()&&(e=e.join(",")),!e||""===e||!s||isNaN(s))return 0;var n=e.split(/\s*<br\s*\/?>\s*/),a=n.length;if(a>1){for(var h=0,o=0;o<a;o++)if(n[o]&&""!==n[o]){var l=this._predictLineWidth(n[o],s,r);l>h&&(h=l)}return h}var d=this._predictLineWidth(t.trim(e),s,r);return d},_predictLineWidth:function(t,i,e){var s=this._widthOfString(t,e),r=s*i/1e3,n=r*this._getPxScale(i);return n-this.KERNING_FACTOR*i*t.length},predictTextHeight:function(t,e,s){if(i(t).isArray()&&(t=t.join(",")),!e||!t)return 0;var r=this.getTextBBox(t,e,s);return r?r.height:0},getTextBBox:function(i,e,s){if(s=t.extend(s,{
fontSize:e+"px"}),!isNaN(parseFloat(e,10)))return this.textPredicter&&this.textPredicter.destroy(),this.textPredicter=this.renderer.text(i,0,0).attr({visibility:"hidden"}).css(s).add(),this.textPredicter.getBBox()},adjustLabels:function(i,e,s,r,n){var a,h,o,l=t.extend(!0,[],i),d=this.getMaxWidthForFontRange(l,s,r);if(d[r]<=e)o=!1,h=r;else for(o=!0,h=r-1;h>s;h--)if(d[h]<=e){o=!1;break}if(o&&"none"!==n)for(a=0;a<l.length;a++)l[a]=this.ellipsize(l[a],e,h,{},n);return{labels:l,fontSize:h,areEllipsized:o,longestWidth:d[h]}},getMaxWidthForFontRange:function(t,i,e){var s,r={};r[i]=0;for(var n=0;n<t.length;n++){var a=this.predictTextWidth(t[n]||"",i);a>r[i]&&(s=n,r[i]=a)}for(var h=i+1;h<=e;h++)r[h]=this.predictTextWidth(t[s]||"",h);return r},bBoxesOverlap:function(t,i,e,s){e=e||0,s=s||0;var r=t.x-e,n=i.x-e,a=t.x+t.width+2*e,h=i.x+i.width+2*e,o=t.y-s,l=i.y-s,d=t.y+t.height+2*s,c=i.y+i.height+2*s;return r<h&&a>n&&o<c&&d>l},destroy:function(){this.textPredicter&&(this.textPredicter.destroy(),this.textPredicter=!1)}},r}.apply(i,s),!(void 0!==r&&(t.exports=r))},"js_charting/helpers/font_data/widths/helvetica":function(t,i,e){var s,r;s=[],r=function(){var t={32:278,33:278,34:355,35:556,36:556,37:889,38:667,39:222,40:333,41:333,42:389,43:584,44:278,45:333,46:278,47:278,48:556,49:556,50:556,51:556,52:556,53:556,54:556,55:556,56:556,57:556,58:278,59:278,60:584,61:584,62:584,63:556,64:1015,65:667,66:667,67:722,68:722,69:667,70:611,71:778,72:722,73:278,74:500,75:667,76:556,77:833,78:722,79:778,80:667,81:778,82:722,83:667,84:611,85:722,86:667,87:944,88:667,89:667,90:611,91:278,92:278,93:278,94:469,95:556,96:222,97:556,98:556,99:500,100:556,101:556,102:278,103:556,104:556,105:222,106:222,107:500,108:222,109:833,110:556,111:556,112:556,113:556,114:333,115:500,116:278,117:556,118:500,119:722,120:500,121:500,122:500,123:334,124:260,125:334,126:584,161:333,162:556,163:556,164:167,165:556,166:556,167:556,168:556,169:191,170:333,171:556,172:333,173:333,174:500,175:500,177:556,178:556,179:556,180:278,182:537,183:350,184:222,185:333,186:333,187:556,188:1e3,189:1e3,191:611,193:333,194:333,195:333,196:333,197:333,198:333,199:333,200:333,202:333,203:333,205:333,206:333,207:333,208:1e3,225:1e3,227:370,232:556,233:778,234:1e3,235:365,241:889,245:278,248:222,249:611,250:944,251:611};return t}.apply(i,s),!(void 0!==r&&(t.exports=r))},"js_charting/components/axes/CategoryAxis":function(t,i,e){var s,r;s=[e("shim/jquery"),e("require/underscore"),e("js_charting/components/axes/Axis"),e("js_charting/helpers/Formatter"),e("js_charting/util/lang_utils"),e("js_charting/util/parsing_utils"),e("helpers/user_agent")],r=function(t,i,e,s,r,n,a){var h=function(t){e.call(this,t),t=t||{},this.skipLabelsToAvoidCollisions=n.normalizeBoolean(t["axis.skipLabelsToAvoidCollisions"]),this.ellipsize="ellipsisMiddle"===t["axisLabels.majorLabelStyle.overflowMode"],this.properties["axis.categories"]=this.processCategories(t["axis.categories"]),this._categoriesAreDirty=!1,this.isiOS=a.isiOS()};return r.inherit(h,e),t.extend(h.prototype,{DEFAULT_FONT_SIZE:12,MIN_FONT_SIZE:9,getConfig:function(){var s=this,r=e.prototype.getConfig.apply(this,arguments),a=n.normalizeBoolean(this.properties["axisLabels.hideCategories"]);return t.extend(!0,r,{categories:this.properties["axis.categories"].slice(0),labels:{formatter:function(){return s.formatLabel(this.value)},enabled:r.labels.enabled&&!a,maxStaggerLines:2,style:{HcTextStroke:!0}},startOnTick:!this.hasTickmarksBetween(),showLastLabel:this.hasTickmarksBetween(),tickWidth:a?0:r.tickWidth,tickmarkPlacement:this.properties["axisLabels.tickmarkPlacement"],tickPositioner:function(t,i){return s.tickPositioner(this,t,i)},gridLineWidth:n.normalizeBoolean(this.properties["gridLines.showMajorLines"])?1:0,setTickPositionsPreHook:i(this.setTickPositionsPreHook).bind(this),setTickPositionsPostHook:i(this.setTickPositionsPostHook).bind(this)}),r},getVerticalConfig:function(){var i=e.prototype.getVerticalConfig.call(this);return t.extend(!0,i,{labels:{align:"right",x:-7}})},getHorizontalConfig:function(){var i,s=e.prototype.getHorizontalConfig.call(this);return this.isiOS&&this.hasTickmarksBetween()&&this.originalCategories.length>1&&(i=1),t.extend(!0,s,{labels:{align:"center"},endOnTick:!this.hasTickmarksBetween(),showLastLabel:!1,startOnTick:!0,minRange:i||-1})},processCategories:function(t){return this.originalCategories=t,t.slice(0)},getCategories:function(){return this.properties["axis.categories"]},getPreviousCategories:function(){return this.previousCategories||[]},categoriesAreDirty:function(){return this._categoriesAreDirty},setCategories:function(t){this.previousCategories=this.properties["axis.categories"],this.properties["axis.categories"]=this.processCategories(t),i.isEqual(this.properties["axis.categories"],this.previousCategories)||(this._categoriesAreDirty=!0)},redraw:function(t){if(e.prototype.redraw.apply(this,arguments),this.categoriesAreDirty()&&this.hcAxis.setCategories(this.properties["axis.categories"].slice(0),t),this.isiOS&&this.hasTickmarksBetween()){var i=this.getConfig();this.hcAxis.minRange=i.minRange}},onChartLoadOrRedraw:function(){e.prototype.onChartLoadOrRedraw.apply(this,arguments),this._categoriesAreDirty=!1},getOffsetPreHook:function(t){e.prototype.getOffsetPreHook.call(this,t);var r=t.options,n=t.chart;if(r.labels.enabled){var a,h,o,l,d,c,u,g=new s(n.renderer),p=t.getExtremes(),f=Math.round(p.min),m=Math.round(p.max),x=m-f+(this.hasTickmarksBetween()?1:0),k=this.originalCategories.slice(f,f+x);if(this.isVertical){a=Math.floor(n.chartWidth/6);var v=g.adjustLabels(k,a,this.MIN_FONT_SIZE,this.DEFAULT_FONT_SIZE,"middle");for(u=0;u<v.labels.length;u++)r.categories[u]=v.labels[u];r.labels.style["font-size"]=v.fontSize+"px",c=g.predictTextHeight("Test",v.fontSize);var b=n.plotHeight;h=b/(k.length||1),o=25,l=this.skipLabelsToAvoidCollisions?Math.ceil(o/h):1,r.labels.y=c/3,r.labels.x=-r.tickLength,r.labels.step=l}else{var S,y=4,L=100,C=n.plotWidth,_=g.getMaxWidthForFontRange(k,this.MIN_FONT_SIZE,this.DEFAULT_FONT_SIZE),T=0,w=0;h=C/(x||1);var P=this.findBestFontForSpacing(_,h-2*y);if(P>0&&0===this.labelRotation)S=P,l=1,d=h,a=d;else{o=Math.min(_[this.MIN_FONT_SIZE]+2*y,L),S=this.MIN_FONT_SIZE,l=this.skipLabelsToAvoidCollisions?Math.ceil(o/h):1,d=h*l;var M,H,O=(n.yAxis[0].left,2*Math.PI/360),A=this.labelRotation*O,I=Math.abs(Math.cos(A)),E=d-2*y;switch(this.labelRotation){case 0:a=E;break;case-45:for(a=[],M=n.chartHeight/2/Math.abs(Math.sin(A)),u=0;u<x;u++)H=h*(u+1)/I,0===u&&(H=Math.min(n.xAxis[0].left,H)),this.ellipsize?a[u]=Math.min(H,M,E):a[u]=Math.min(H,M);break;case 45:for(a=[],M=n.chartHeight/2/Math.abs(Math.sin(A)),u=0;u<x;u++)H=h*(u+1)/I,this.ellipsize?a[x-u-1]=Math.min(H,M,E):a[x-u-1]=Math.min(H,M);break;default:a=this.ellipsize?Math.min(n.chartHeight/2,E):n.chartHeight/2}}this.ellipsizeLabels(k,g,a,S),i(k).each(function(t,i){r.categories[f+i]=t}),r.labels.style["font-size"]=S+"px",c=g.predictTextHeight("Test",S),this.labelRotation===-45?(r.labels.align="right",T=0,w=c/4+r.tickLength):45===this.labelRotation?(r.labels.align="left",T=0,w=c/4+r.tickLength):this.labelRotation===-90?(r.labels.align="right",T=c/4,w=r.tickLength):90===this.labelRotation?(r.labels.align="left",T=-c/4,w=r.tickLength):(r.labels.align="center",T=0,w=c/2+r.tickLength),this.hasTickmarksBetween()||(w+=6),r.labels.step=l,r.labels.x=T,r.labels.y=w}g.destroy()}},findBestFontForSpacing:function(t,e){var s=0;return i(t).each(function(t,i){t<=e&&(s=Math.max(s,parseInt(i,10)))}),s},ellipsizeLabels:function(t,e,s,r){var n,a=i(t).map(function(t,n){return e.ellipsize(t,i.isArray(s)?s[n]:s,r,{},"middle")});for(n=0;n<a.length;n++)t[n]=a[n]},setTickPositionsPreHook:function(t){this.hasTickmarksBetween()||(t.options.max=this.properties["axis.categories"].length)},tickPositioner:function(t,i,e){return this.shouldHideTicks(t)?[i,e]:null},setTickPositionsPostHook:function(t,i){this.shouldHideTicks(t)&&(t.tickPositions=[]),this.isiOS&&this.hasTickmarksBetween()&&this.originalCategories.length>1&&(t.min=Math.round(t.min),t.max=Math.round(t.max))},shouldHideTicks:function(t){var i=this.isVertical?15:20,e=t.getExtremes(),s=e.max-e.min+(this.hasTickmarksBetween()?1:0),r=t.len/s;return r<i},tickRenderPostHook:function(t,i,s,r){var n=t.axis.options;if(n.labels=n.labels||{},n.labels.enabled&&0!==n.tickWidth){e.prototype.tickRenderPostHook.call(this,t,i,s,r);var a=t.pos+(this.hasTickmarksBetween()?1:0),h=n.labels.step||1;a%h!==0?t.mark.hide():t.mark.show()}},formatValue:function(t){return t},formatLabel:function(t){return n.escapeSVG(t)},hasTickmarksBetween:function(){return"between"===this.properties["axisLabels.tickmarkPlacement"]},getTickLabelExtremesY:function(t){return[-t.labelBBox.height,0]}}),h}.apply(i,s),!(void 0!==r&&(t.exports=r))},"js_charting/util/time_utils":function(t,i,e){var s,r;s=[e("require/underscore"),e("util/time"),e("stubs/i18n")],r=function(t,i,e){var s={SECS_PER_MIN:60,SECS_PER_HOUR:3600,convertTimeToCategories:function(i,e){var s,r,n,a=[],h=[];return n=this.findLabelIndexes(i,e),t(n).each(function(t){a.push(i[t])}),s=this.getPrettyLabelInfo(a),r=s.prettyLabels,t(i).each(function(t){h.push(" ")}),t(n).each(function(t,i){h[t]=r[i]}),{categories:h,rawLabels:a,granularity:s.granularity}},findLabelIndexes:function(t,i){var e,s,r=[];if(t.length<=i){for(e=0;e<t.length;)r.push(e++);return r}var n=this.getPointSpan(t),a=this.getTotalSpan(t);if(this.couldLabelFirstOfMonth(n,a)){var h=this.findFirstOfMonthIndexes(t),o=h.length;if(o>=3){var l=Math.ceil(o/i),d=[];for(e=0;e<o;e+=l)s=h[e],d.push(s);return h=d}}var c=this.findMajorUnit(t,i,n,a),u=t.slice(0,c),g=this.getRoundestIndex(u,c,n),p=g;if(this.couldLabelMidnight(c,n)){var f=this.findMidnightIndexes(t);if(f.length>i){for(l=Math.ceil(f.length/i),d=[],e=0;e<f.length;e+=l)s=f[e],d.push(s);f=d}return f}if(c<=0)throw new Error("Error parsing timestamp information: Major unit is not a positive number.  This should not happen.");for(;p<t.length;)r.push(p),p+=c;return r},couldLabelMidnight:function(t,i){return t%24===0&&3600===i},couldLabelFirstOfMonth:function(t,i){return!(t>this.MAX_SECS_PER_DAY)&&(!(t<this.SECS_PER_HOUR)&&(!(t<this.MIN_SECS_PER_DAY&&24*this.SECS_PER_HOUR%t!==0)&&!(i<2*this.MIN_SECS_PER_MONTH)))},findMidnightIndexes:function(t){var e,s,r=[],n=[];for(e=0;e<t.length;e++)r.push(i.extractBdTime(t[e]));for(e=0;e<r.length;e++)s=r[e],0===s.hour&&0===s.minute&&n.push(e);return n},findFirstOfMonthIndexes:function(e){var s=[],r=[];return t(e).each(function(t,e){s.push(i.extractBdTime(t))}),t(s).each(function(t,i){1===t.day&&0===t.hour&&r.push(i)}),r},getPointSpan:function(t){if(t.length<2)return.001;if(t.length<4)return Math.abs(this.getSpanBetween(t[0],t[1]));var i=Math.abs(this.getSpanBetween(t[0],t[1])),e=Math.abs(this.getSpanBetween(t[1],t[2])),s=Math.abs(this.getSpanBetween(t[2],t[3]));return i===e?i:e===s?e:i===s?i:i},getTotalSpan:function(t){var e,s;for(e=t.length-1;e>=0&&(s=t[e],!i.isValidIsoTime(s));e--);return Math.abs(this.getSpanBetween(t[0],s))},getSpanBetween:function(t,e){var s=i.isoToDateObject(t),r=i.isoToDateObject(e),n=r.getTime()-s.getTime();return n/1e3},MIN_SECS_PER_DAY:82800,MAX_SECS_PER_DAY:9e4,MAJOR_UNITS_MILLISECONDS:[.001,.002,.005,.01,.02,.05,.1,.2,.25,.5,1],MAJOR_UNITS_SECONDS:[1,2,5,10,15,30,60,120,180,300,600,900,1800,3600,7200,14400,21600,43200,86400,172800,345600,604800],MAJOR_UNIT_DAYS:[1,2,4,7,14,28,56,112,224,364,476,728],MIN_SECS_PER_MONTH:2419200,MAJOR_UNIT_MONTHS:[1,2,4,6,12,24,48,96],findMajorUnit:function(t,i,e,s){var r,n,a;if(e<1){for(r=0;r<this.MAJOR_UNITS_MILLISECONDS.length;r++)if(n=this.MAJOR_UNITS_MILLISECONDS[r],a=s/n,a<=i)return n/e}else if(e<this.MIN_SECS_PER_DAY){for(r=0;r<this.MAJOR_UNITS_SECONDS.length;r++)if(n=this.MAJOR_UNITS_SECONDS[r],a=s/n,a>=3&&a<=i&&n%e===0){if(180===n&&s>=900)continue;return n/e}}else if(e<this.MIN_SECS_PER_MONTH){var h=86400,o=Math.round(e/h),l=Math.round(s/h);for(r=0;r<this.MAJOR_UNIT_DAYS.length;r++)if(n=this.MAJOR_UNIT_DAYS[r],a=l/n,a>=3&&a<=i&&n%o===0)return n/o}else{var d=2592e3,c=Math.round(e/d),u=Math.round(s/d);for(r=0;r<this.MAJOR_UNIT_MONTHS.length;r++)if(n=this.MAJOR_UNIT_MONTHS[r],a=u/n,a>=3&&a<=i&&n%c===0)return n/c}return Math.ceil(t.length/i)},getRoundestIndex:function(e,s,r){var n,a,h,o=[],l=s*r;for(t(e).each(function(t){o.push(i.extractBdTime(t))}),a=o[0],h=0,n=1;n<o.length;n++)this.isRounderThan(o[n],a,r)&&this.bdTimeMatchesUnit(o[n],l)&&(a=o[n],h=n);return h},isRounderThan:function(t,i,e){return 1===t.month&&1===t.day&&0===t.hour&&1!==i.month&&1===i.day&&0===i.hour||(0===t.hour&&0!==i.hour||(t.hour%12===0&&i.hour%12!==0||(t.hour%6===0&&i.hour%6!==0||(t.hour%4===0&&i.hour%4!==0||(t.hour%2===0&&i.hour%2!==0||(0===t.minute&&0!==i.minute||(t.minute%30===0&&i.minute%30!==0||(t.minute%15===0&&i.minute%15!==0||(t.minute%10===0&&i.minute%10!==0||(t.minute%5===0&&i.minute%5!==0||(t.minute%2===0&&i.minute%2!==0||(0===t.second&&0!==i.second||(t.second%30===0&&i.second%30!==0||(t.second%15===0&&i.second%15!==0||(t.second%10===0&&i.second%10!==0||(t.second%5===0&&i.second%5!==0||(t.second%2===0&&i.second%2!==0||(t.millisecond%500===0&&i.millisecond%500!==0||(t.millisecond%250===0&&i.millisecond%250!==0||(t.millisecond%100===0&&i.millisecond%100!==0||(t.millisecond%50===0&&i.millisecond%50!==0||(t.millisecond%50===0&&i.millisecond%50!==0||(t.millisecond%25===0&&i.millisecond%25!==0||(t.millisecond%10===0&&i.millisecond%10!==0||(t.millisecond%5===0&&i.millisecond%5!==0||t.millisecond%2===0&&i.millisecond%2!==0)))))))))))))))))))))))))},bdTimeMatchesUnit:function(t,i){if(i<1)return t.millisecond%(1e3*i)===0;if(i<60)return t.second%i===0;if(i<3600){var e=Math.floor(i/60);return t.minute%e===0}var s=Math.floor(i/3600);return t.hour%s===0},getPrettyLabelInfo:function(e){var s,r,n=[],a=[];t(e).each(function(t){n.push(i.extractBdTime(t))});var h=i.determineLabelGranularity(n);for(s=0;s<n.length;s++)r=0===s?this.formatBdTimeAsAxisLabel(n[s],null,h):this.formatBdTimeAsAxisLabel(n[s],n[s-1],h),r?a.push(r.join("<br/>")):a.push("");return{prettyLabels:a,granularity:h}},formatBdTimeAsAxisLabel:function(t,s,r){if(t.isInvalid)return null;var n=i.bdTimeToDateObject(t),a=r in{millisecond:!0,second:!0,minute:!0,hour:!0,day:!0},h=r in{millisecond:!0,second:!0,minute:!0,hour:!0},o=r in{millisecond:!0,second:!0},l="millisecond"===r,d=o?"medium":"short",c=a?"ccc MMM d":"MMMM",u=function(t,i){return l?e.format_time_microseconds(t,i):e.format_time(t,i)};if("year"===r)return[e.format_date(n,"YYYY")];if(s&&s.year===t.year&&t.month===s.month&&t.day===s.day)return[u(n,d)];var g=h?[u(n,d),e.format_date(n,c)]:[e.format_date(n,c)];return s&&t.year===s.year||g.push(e.format_date(n,"YYYY")),g},formatIsoStringAsTooltip:function(t,s){var r,n=i.extractBdTime(t);return n.isInvalid?null:(r=i.bdTimeToDateObject(n),s>=this.MIN_SECS_PER_DAY?e.format_date(r):s>=this.SECS_PER_MIN?e.format_datetime(r,"medium","short"):s>=1?e.format_datetime(r):e.format_datetime_microseconds(r,"medium"))}};return s}.apply(i,s),!(void 0!==r&&(t.exports=r))},"js_charting/components/axes/NumericAxis":function(t,i,e){var s,r;s=[e("shim/jquery"),e("require/underscore"),e("js_charting/components/axes/Axis"),e("js_charting/helpers/Formatter"),e("js_charting/util/parsing_utils"),e("js_charting/util/lang_utils"),e("js_charting/util/math_utils"),e("stubs/i18n")],r=function(t,i,e,s,r,n,a,h){var o=function(t){e.call(this,t),this.includeZero=this.determineIncludeZero(),this.hasExplicitMin=this.validateNumericProperty("axis.minimumNumber"),this.hasExplicitMax=this.validateNumericProperty("axis.maximumNumber"),this.hasExplicitMajorUnit=this.validateNumericProperty("axisLabels.majorUnit"),this.extendAxisRange=!!i.isUndefined(this.properties["axisLabels.extendsAxisRange"])||r.normalizeBoolean(this.properties["axisLabels.extendsAxisRange"],!0),this.startOnTick=!this.hasExplicitMin&&this.extendAxisRange,this.endOnTick=!this.hasExplicitMax&&this.extendAxisRange,t&&(this.sharedMin=t.sharedMin,this.sharedMax=t.sharedMax)};return n.inherit(o,e),t.extend(o.prototype,{getConfig:function(){var s=e.prototype.getConfig.call(this),n="show"===this.properties["axisLabels.minorTickVisibility"],a=r.normalizeBoolean(this.properties["gridLines.showMinorLines"]);return t.extend(!0,s,{tickInterval:this.properties.isEmpty&&"log"===this.properties["axis.scale"]?10:this.properties.isEmpty?10:parseFloat(this.properties["axisLabels.majorUnit"])||null,endOnTick:this.endOnTick,startOnTick:this.startOnTick,tickWidth:"show"===this.properties["axisLabels.majorTickVisibility"]?1:0,allowDecimals:!r.normalizeBoolean(this.properties["axisLabels.integerUnits"]),minorTickColor:this.properties["axis.foregroundColorSoft"],minorTickLength:parseInt(this.properties["axisLabels.minorTickSize"],10)||10,minorTickInterval:n||a?"auto":null,minorTickWidth:n?1:0,minorGridLineWidth:a?1:0,min:this.properties.isEmpty?0:null,max:this.properties.isEmpty&&"log"===this.properties["axis.scale"]?2:this.properties.isEmpty?100:null,gridLineWidth:r.normalizeBoolean(this.properties["gridLines.showMajorLines"],!0)?1:0,getSeriesExtremesPostHook:i(this.getSeriesExtremesPostHook).bind(this),setTickPositionsPreHook:i(this.setTickPositionsPreHook).bind(this),labels:{maxStaggerLines:1},lineWidth:"show"===this.properties["axisLabels.axisVisibility"]?1:0}),this.addMinAndMaxToConfig(s),s},validateNumericProperty:function(t){var e=this.properties[t];return 0===e||!!e&&!i.isNaN(parseFloat(e))},addMinAndMaxToConfig:function(t){var e=this.hasExplicitMin?parseFloat(this.properties["axis.minimumNumber"]):i.isUndefined(this.sharedMin)?-(1/0):this.sharedMin,s=this.hasExplicitMax?parseFloat(this.properties["axis.maximumNumber"]):i.isUndefined(this.sharedMax)?1/0:this.sharedMax;if(e>s){var r=e;e=s,s=r}e>-(1/0)&&this.addMinToConfig(t,e,this.includeZero),s<1/0&&this.addMaxToConfig(t,s,this.includeZero)},addMinToConfig:function(t,i,e){e&&i>0?i=0:this.isLogScale()&&(i=a.absLogBaseTen(i)),t.min=i,t.minPadding=0,t.startOnTick=this.startOnTick},addMaxToConfig:function(t,i,e){e&&i<0?i=0:this.isLogScale()&&(i=a.absLogBaseTen(i)),t.max=i,t.maxPadding=0,t.endOnTick=this.endOnTick},getVerticalConfig:function(){var i=e.prototype.getVerticalConfig.call(this),s=parseInt(this.properties["axisLabels.majorTickSize"],10)||0,r=s+6;return t.extend(!0,i,{labels:{x:this.properties.opposite===!0?r:-r,y:4}})},getHorizontalConfig:function(){var i,s=e.prototype.getHorizontalConfig.call(this),r=parseInt(this.properties["axisLabels.majorTickSize"],10)||0,n=null,a=null;return this.labelRotation===-45?(i="right",n=5,a=10):this.labelRotation===-90?(i="right",n=4,a=6):45===this.labelRotation?(i="left",n=0,a=10):90===this.labelRotation?(i="left",n=-4,a=6):(i="center",a=14),t.extend(!0,s,{labels:{align:i,x:n,y:this.properties.opposite===!0?-6-r:a+r}})},formatLabel:function(t){return this.isLogScale()?"stacked100"===this.properties.stackMode?o.formatNumber(t.value):o.formatNumber(a.absPowerTen(t.value)):o.formatNumber(t.value)},formatValue:function(t){var i=o.formatNumber(t);return"NaN"!==i?i:h.format_decimal("0")},isLogScale:function(){return"log"===this.properties["axis.scale"]},normalizeAxisOptions:function(t){var i=t.options,e=t.getExtremes(),r=t.chart;if(this.properties.isEmpty)this.handleNoData(i);else{var n=new s(r.renderer);e.min=i.min||e.dataMin,e.max=i.max||e.dataMax;var a,h=Math.abs(e.max-e.min);a=this.isVertical?i.tickInterval||i.tickPixelInterval/r.plotHeight*h:i.tickInterval||i.tickPixelInterval/r.plotWidth*h,this.isLogScale()?i.tickInterval=1:this.checkMajorUnitFit(a,e,i,n,r),this.includeZero?this.enforceIncludeZero(i,e):this.adjustAxisRange(i,e,a),i.allowDecimals!==!1&&this.enforceIntegerMajorUnit(i,e),n.destroy()}},getSeriesExtremesPostHook:function(t,i){this.normalizeAxisOptions(t)},setTickPositionsPreHook:function(t,i){i&&this.normalizeAxisOptions(t)},checkMajorUnitFit:function(t,i,e,s,r){var n=Math.abs(i.max-i.min),a=this.isVertical?r.plotHeight:r.plotWidth,h=t*a/n,o=Math.max(Math.abs(i.min),Math.abs(i.max)),l=this.isVertical?5:15,d=parseInt(e.labels.style.fontSize.split("px")[0],10),c=function(t){return t*n/a};if(this.isVertical){var u=s.predictTextHeight(this.formatValue(o),d);h<u+2*l&&(e.tickInterval=Math.ceil(c(u+2*l)))}else{var g=s.predictTextWidth(this.formatValue(o),d)+2*l;if(h<g||h>2*g){var p=c(g),f=Math.pow(10,Math.floor(Math.log(p)/Math.LN10));e.tickInterval=this.fitTickIntervalToWidth(p,null,f,e.allowDecimals)}}},determineIncludeZero:function(){if(r.normalizeBoolean(this.properties["axis.includeZero"]))return!0;if(this.isLogScale()){var t=parseFloat(this.properties["axis.minimumNumber"]),e=parseFloat(this.properties["axis.maximumNumber"]);if((i.isNaN(t)||t<=0)&&(i.isNaN(e)||e>=0))return!0}return!1},enforceIncludeZero:function(t,i){return i.min||i.max?void(i.min>=0?(t.min=0,t.minPadding=0):i.max<=0&&(t.max=0,t.maxPadding=0)):void this.handleNoData(t)},adjustAxisRange:function(t,e,s){return!this.hasExplicitMin&&i.isUndefined(this.sharedMin)&&delete t.min,!this.hasExplicitMax&&i.isUndefined(this.sharedMax)&&delete t.max,e.dataMin||e.dataMax||this.hasExplicitMax||this.hasExplicitMin?e.min>e.dataMax&&e.min>0&&!this.hasExplicitMax?void(t.max=this.isLogScale()?e.min+2:2*e.min):e.max<e.dataMin&&e.max<0&&!this.hasExplicitMin?void(t.min=this.isLogScale()?e.max-2:2*e.max):(e.dataMin>=0&&e.dataMin<=s&&(this.hasExplicitMin||(t.min=0),t.minPadding=0),void(e.dataMax<=0&&e.dataMax>=-1*s&&(this.hasExplicitMax||(t.max=0),t.maxPadding=0))):void this.handleNoData(t)},handleNoData:function(t){var e=this.isLogScale();t.min=i.isUndefined(this.sharedMin)?0:this.sharedMin,t.max=i.isUndefined(this.sharedMax)?e?2:100:this.sharedMax,e&&(t.tickInterval=1)},enforceIntegerMajorUnit:function(t,i){var e=i.max-i.min;e>=10&&(t.allowDecimals=!1)},fitTickIntervalToWidth:function(t,i,e,s){var r=t/e;if(i||(i=[1,2,2.5,5,10,20],s===!1&&(1===e?i=[1,2,5,10]:e<=.1&&(i=[1/e]))),1===i.length)t=i[0];else for(var n=0;n<i.length-1;n++)if(t=i[n],r<=(i[n]+(i[n+1]||i[n]))/2){t=i[n+1];break}return t*=e,this.hasExplicitMajorUnit?Math.max(a.parseFloat(this.properties["axisLabels.majorUnit"]),t):t}}),t.extend(o,{formatNumber:function(t){t=a.parseFloat(t);var e=Math.abs(t);if(e>0&&e<1e-6)return h.format_scientific(t,"#.###E0");var s=a.getDecimalPrecision(t),r="#,##0.";return i(s).times(function(){r+="#"}),t+=Math.pow(10,-1*s-1),h.format_decimal(t,r)}}),o}.apply(i,s),!(void 0!==r&&(t.exports=r))},"js_charting/components/Legend":function(t,i,e){var s,r;s=[e("shim/jquery"),e("require/underscore"),e("js_charting/helpers/EventMixin"),e("js_charting/helpers/Formatter"),e("js_charting/helpers/HoverEventThrottler"),e("js_charting/util/parsing_utils"),e("js_charting/util/color_utils"),e("js_charting/util/dom_utils")],r=function(t,i,e,s,r,n,a,h){var o=function(t){this.properties=t||{},this.id=i.uniqueId("legend_"),this.clickEnabled=n.normalizeBoolean(this.properties.clickEnabled),this.ellipsisMode=this.OVERFLOW_TO_ELLIPSIS_MAP[this.properties["labelStyle.overflowMode"]]||this.DEFAULT_ELLIPSIS_MODE,this.UNHIGHLIGHTED_COLOR=a.addAlphaToColor(this.UNHIGHLIGHTED_BASE_COLOR,this.UNHIGHLIGHTED_OPACITY)};return o.prototype=t.extend({},e,{HIGHLIGHTED_OPACITY:1,HIGHLIGHTED_SYMBOL_OPACITY:1,UNHIGHLIGHTED_OPACITY:.3,UNHIGHLIGHTED_BASE_COLOR:"rgb(150, 150, 150)",DEFAULT_PLACEMENT:"right",DEFAULT_ELLIPSIS_MODE:"middle",BASE_CONFIG:{borderWidth:0},PLACEMENT_OPTIONS:{top:!0,left:!0,bottom:!0,right:!0,none:!0},PLACEMENT_TO_MARGIN_MAP:{top:12,left:15,bottom:2,right:2},OVERFLOW_TO_ELLIPSIS_MAP:{ellipsisStart:"start",ellipsisMiddle:"middle",ellipsisEnd:"end",ellipsisNone:"none",default:"start"},getConfig:function(){var e=this.PLACEMENT_OPTIONS.hasOwnProperty(this.properties.placement)?this.properties.placement:this.DEFAULT_PLACEMENT,s={left:!0,right:!0}.hasOwnProperty(e),r=this.clickEnabled?"pointer":"default";return t.extend(!0,{},this.BASE_CONFIG,{enabled:!this.properties.isEmpty,align:s?e:"center",verticalAlign:s?"middle":e,layout:s?"vertical":"horizontal",margin:this.PLACEMENT_TO_MARGIN_MAP[e],itemStyle:{cursor:r,color:this.properties.fontColor||"#000000",fontWeight:"normal",HcTextStroke:!0},itemHoverStyle:{cursor:r,color:this.properties.fontColor||"#000000"},renderItemsPreHook:i(this.renderItemsPreHook).bind(this),renderItemsPostHook:i(this.renderItemsPostHook).bind(this),renderPreHook:i(this.renderPreHook).bind(this),renderPostHook:i(this.renderPostHook).bind(this)})},onChartLoad:function(t){this.hcSeriesList=i(t.series).filter(function(t){return t.options.showInLegend!==!1}),this.setSymbolFillOpacity(this.hcSeriesList[0])},onChartLoadOrRedraw:function(t){this.hcSeriesList=i(t.series).filter(function(t){return t.options.showInLegend!==!1}),this.removeEventHandlers(),this.addEventHandlers()},setSymbolFillOpacity:function(t){var i=t.legendSymbol||t.legendLine,e=a.getComputedOpacity(i);0===e?this.HIGHLIGHTED_SYMBOL_OPACITY=1:this.HIGHLIGHTED_SYMBOL_OPACITY=e},addEventHandlers:function(){var e=this,s={highlightDelay:125,unhighlightDelay:50,onMouseOver:function(t){e.selectField(t),e.trigger("mouseover",[t])},onMouseOut:function(t){e.unSelectField(t),e.trigger("mouseout",[t])}},n=new r(s);i(this.hcSeriesList).each(function(s){var r=s.name;i(this.getSeriesLegendObjects(s)).each(function(i){h.jQueryOn.call(t(i.element),"mouseover."+this.id,function(){n.mouseOverHappened(r)}),h.jQueryOn.call(t(i.element),"mouseout."+this.id,function(){n.mouseOutHappened(r)}),this.clickEnabled&&h.jQueryOn.call(t(i.element),"click."+this.id,function(t){var i={type:"click",modifierKey:t.ctrlKey||t.metaKey};e.trigger(i,[r])})},this)},this)},removeEventHandlers:function(){i(this.hcSeriesList).each(function(e){i(this.getSeriesLegendObjects(e)).each(function(i){h.jQueryOff.call(t(i.element),"."+this.id)},this)},this)},selectField:function(t){i(this.hcSeriesList).each(function(i){i.name!==t?this.unHighlightField(t,i):this.highlightField(t,i)},this)},unSelectField:function(t){i(this.hcSeriesList).each(function(i){i.name!==t&&this.highlightField(t,i)},this)},highlightField:function(t,i){i=i||this.getSeriesByFieldName(t);var e=this.getSeriesLegendObjects(i),s=i.color;e.item&&e.item.attr("fill-opacity",this.HIGHLIGHTED_OPACITY),e.line&&e.line.attr("stroke",s),e.symbol&&e.symbol.attr({fill:s,stroke:s,"fill-opacity":this.HIGHLIGHTED_SYMBOL_OPACITY})},unHighlightField:function(t,i){i=i||this.getSeriesByFieldName(t);var e=this.getSeriesLegendObjects(i);e.item&&e.item.attr("fill-opacity",this.UNHIGHLIGHTED_OPACITY),e.line&&e.line.attr("stroke",this.UNHIGHLIGHTED_COLOR),e.symbol&&e.symbol.attr({fill:this.UNHIGHLIGHTED_COLOR,stroke:this.UNHIGHLIGHTED_COLOR,"fill-opacity":this.UNHIGHLIGHTED_OPACITY})},getSeriesByFieldName:function(t){return i(this.hcSeriesList).find(function(i){return i.name===t})},getSeriesLegendObjects:function(t){var i={};return t.legendItem&&(i.item=t.legendItem),t.legendSymbol&&(i.symbol=t.legendSymbol),t.legendLine&&(i.line=t.legendLine),i},destroy:function(){this.off(),this.removeEventHandlers(),this.hcSeriesList=null},renderItemsPreHook:function(t){var i,e,r,a,o=t.options,l=t.itemStyle,d=t.allItems,c=t.chart,u=c.renderer,g=c.spacingBox,p="horizontal"===o.layout,f=12,m=10,x=t.symbolWidth,k=o.symbolPadding,v=t.padding||0,b=10,S=[],y=new s(u);for(a=p?d.length>5?Math.floor(g.width/6):Math.floor(g.width/d.length)-(x+k+b):Math.floor(g.width/6)-(x+k+v),o.originalFormatter||(o.originalFormatter=o.labelFormatter),i=0;i<d.length;i++)S.push(o.originalFormatter.call(d[i]));for(e=y.adjustLabels(S,a,m,f,this.ellipsisMode),e.areEllipsized&&p&&d.length>5?(r=a+x+k+b,o.itemWidth=r):o.itemWidth=void 0,i=0;i<d.length;i++)d[i].ellipsizedName=e.labels[i],d[i].legendItem&&(h.setLegendItemText(d[i].legendItem,n.escapeSVG(e.labels[i])),d[i].legendItem.css({"font-size":e.fontSize+"px"}));o.labelFormatter=function(){return n.escapeSVG(this.ellipsizedName)},l["font-size"]=e.fontSize+"px",t.itemMarginTop=f-e.fontSize,y.destroy()},renderItemsPostHook:function(i){var e=55,s=i.options,r=i.padding,n=i.lastItemY+i.lastLineHeight,a=i.chart.spacingBox.height-r;if(n>a)s.verticalAlign="top",s.y=-r,i.offsetWidth<e&&(s.width=e);else{var h=this.getConfig();t.extend(s,{verticalAlign:h.verticalAlign,y:h.y,width:h.width})}},renderPreHook:function(t){var i=t.chart.renderer;this._rendererForExport=i.forExport,i.forExport=!0},renderPostHook:function(t){t.chart.renderer.forExport=this._rendererForExport}}),o}.apply(i,s),!(void 0!==r&&(t.exports=r))},"js_charting/helpers/HoverEventThrottler":function(t,i,e){var s,r;s=[e("shim/jquery")],r=function(t){var i=function(t){t=t||{},this.highlightDelay=t.highlightDelay||200,this.unhighlightDelay=t.unhighlightDelay||100,this.timer=null,this.timer2=null,this.mouseStatus="over",this.isSelected=!1,this.onMouseOver=t.onMouseOver,this.onMouseOut=t.onMouseOut};return t.extend(i.prototype,{setMouseStatus:function(t){this.mouseStatus=t},getMouseStatus:function(){return this.mouseStatus},mouseOverHappened:function(t){var i=this,e=arguments;this.mouseOverFn=function(){i.onMouseOver.apply(null,e)},clearTimeout(this.timer),clearTimeout(this.timer2),this.setMouseStatus("over"),this.timeOutManager()},mouseOutHappened:function(t){var i=this,e=arguments;this.mouseOutFn=function(){i.onMouseOut.apply(null,e)},this.setMouseStatus("out"),this.timeOutManager()},timeOutManager:function(){var t=this;clearTimeout(this.timer),this.isSelected?"over"===this.getMouseStatus()?this.mouseEventManager():this.timer2=setTimeout(function(){t.setMouseStatus("out"),t.mouseEventManager()},t.unhighlightDelay):this.timer=setTimeout(function(){t.isSelected=!0,t.mouseEventManager()},t.highlightDelay)},mouseEventManager:function(){"over"===this.getMouseStatus()?(this.mouseOverFn(),this.isSelected=!0,this.setMouseStatus("out")):(this.mouseOutFn(),this.isSelected=!1,this.setMouseStatus("over"))}}),i}.apply(i,s),!(void 0!==r&&(t.exports=r))},"js_charting/components/Tooltip":function(t,i,e){var s,r;s=[e("shim/jquery"),e("require/underscore")],r=function(t,i){var e=function(t){this.properties=t||{}};return e.prototype={BASE_CONFIG:{enabled:!0,backgroundColor:"#000000",borderColor:"#ffffff",hideDelay:0,style:{color:"#cccccc"},positioner:function(i,e,s){var r=this.getPosition(i,e,s),n=this.chart.plotWidth,a=this.chart.plotHeight,h=t(".btn-zoom-out");if(s.plotX>n&&(r.x=this.chart.plotLeft+n-i-8),s.plotX<0&&(r.x=this.chart.plotLeft+8),s.plotY<0&&(r.y=17),s.plotY>a&&(r.y=a-e+3),h.length>0){var o=h.position();if(o){var l=o.top,d=h.height(),c=l+d,u=r.y;u<c&&(r.y=s.plotY+17)}}return r},getAnchorPostHook:function(t,e,s){return t&&!i.isArray(t)&&"column"===t.series.options.type&&(s[0]=t.barX),s}},getConfig:function(){return t.extend(!0,{},this.BASE_CONFIG,{borderColor:this.properties.borderColor})},destroy:function(){}},e}.apply(i,s),!(void 0!==r&&(t.exports=r))},"js_charting/components/SelectionWindow":function(t,i,e){var s,r;s=[e("shim/jquery"),e("require/underscore"),e("js_charting/helpers/EventMixin"),e("helpers/user_agent")],r=function(t,i,e,s){var r=function(e){this.id=i.uniqueId("selection_window"),this.hcChart=e,this.renderer=e.renderer,this.axis=e.xAxis[0],this.axisHasTickmarksBetween="between"===this.axis.options.tickmarkPlacement,this.axisValueOffset=this.axisHasTickmarksBetween?.5:0,this.isiOS=s.isiOS();var r,n,a,h;this.pointer=e.pointer,this.pointer.selectionMarker.renderer?(this.zIndex=this.pointer.selectionMarker.attr("zIndex"),a=this.pointer.selectionMarker.attr("x"),h=this.pointer.selectionMarker.attr("width")):(this.zIndex=7,a=this.pointer.selectionMarker.x,h=this.pointer.selectionMarker.width),r=a,n=this.snapXValue(r+h,this.axisHasTickmarksBetween?"ceil":"round","max"),this.x=this.snapXValue(r,this.axisHasTickmarksBetween?"floor":"round","min"),this.width=n-this.x,this.createResizeHandles(),this.ownedElements=[this.resizeHandleLeft.element,this.resizeHandleRight.element],this.updateExtremesValues();var o=t(this.hcChart.container);this.defaultContainerCursor=o.css("cursor"),o.on("mousemove."+this.id,i(this.onContainerMouseMove).bind(this)),this.initialized=!0};return r.prototype=t.extend({},e,{handleWidth:s.isiOS()?25:10,handleHeight:50,handleBorderColor:"rgb(255,255,255)",handleBgColor:"rgba(79,79,79,0.5)",
handleBorderRadius:5,shadedAreaColor:"rgba(100,100,100,0.3)",handleDragStartEvent:function(t){var e=t.target,s=e===this.hcChart.chartBackground.element&&this.hcChart.isInsidePlot(t.chartX-this.hcChart.plotLeft,t.chartY-this.hcChart.plotTop);return!(!s&&!i(this.ownedElements).contains(e))&&(this.originalTarget=e,this.mouseDownX=this.getCurrentX(),this.mouseDownWidth=this.getCurrentWidth(),this.isDragging=!0,!0)},handleDragEvent:function(t){this.originalTarget===this.hcChart.chartBackground.element&&this.dragSelectionMarker(t),this.originalTarget===this.resizeHandleLeft.element&&this.resizeSelectionLeft(t),this.originalTarget===this.resizeHandleRight.element&&this.resizeSelectionRight(t)},handleDropEvent:function(t){this.isDragging&&(this.updateExtremesValues(),this.emitSelectionEvent(),this.isDragging=!1)},getExtremes:function(){return{min:this.startValue,max:this.endValue}},setExtremes:function(t){this.startValue=t.min,this.endValue=t.max,this.x=Math.round(this.axis.toPixels(this.startValue+this.axisValueOffset)),this.width=Math.round(this.axis.toPixels(this.endValue+this.axisValueOffset))-this.x,this.positionResizeHandles("both")},onContainerMouseMove:function(i){i=this.pointer.normalize(i),i.target===this.hcChart.chartBackground.element&&this.hcChart.isInsidePlot(i.chartX-this.hcChart.plotLeft,i.chartY-this.hcChart.plotTop)?t(this.hcChart.container).css("cursor","move"):t(this.hcChart.container).css("cursor",this.defaultContainerCursor)},onChartRedraw:function(){this.x=Math.round(this.axis.toPixels(this.startValue+this.axisValueOffset)),this.width=Math.round(this.axis.toPixels(this.endValue+this.axisValueOffset))-this.x,this.resizeHandleLeft.attr({y:this.hcChart.plotTop+this.hcChart.plotHeight/2-this.handleHeight/2}),this.resizeHandleRight.attr({y:this.hcChart.plotTop+this.hcChart.plotHeight/2-this.handleHeight/2}),this.shadedRegionLeft.attr({x:this.hcChart.plotLeft,y:this.hcChart.plotTop,height:this.hcChart.plotHeight}),this.shadedRegionRight.attr({y:this.hcChart.plotTop,height:this.hcChart.plotHeight}),this.positionResizeHandles("both")},destroy:function(){this.initialized&&(this.resizeHandleLeft.destroy(),this.resizeHandleRight.destroy(),this.handleVerticalLineLeft.destroy(),this.handleVerticalLineRight.destroy(),this.shadedRegionRight.destroy(),this.shadedRegionLeft.destroy(),this.$resetButton.remove(),this.initialized=!1),t(this.hcChart.container).off("mousemove."+this.id),this.off()},dragSelectionMarker:function(t){this.x=this.snapXValue(this.mouseDownX+t.chartX-this.pointer.mouseDownX,"round"),this.x=Math.max(this.x,this.hcChart.plotLeft),this.x=Math.min(this.x,this.hcChart.plotLeft+this.hcChart.plotWidth-this.getCurrentWidth()),this.positionResizeHandles("both")},resizeSelectionLeft:function(t){var i=this.getCurrentX(),e=this.getCurrentWidth();this.x=this.snapXValue(this.mouseDownX+t.chartX-this.pointer.mouseDownX,"round"),this.x=Math.max(this.x,this.hcChart.plotLeft);var s=i+e;this.x=Math.min(this.x,this.axis.toPixels(this.axis.toValue(s)-1)),this.width=e-this.x+i,this.positionResizeHandles("left")},resizeSelectionRight:function(t){this.x=this.getCurrentX();var i=this.mouseDownWidth+t.chartX-this.pointer.mouseDownX,e=this.snapXValue(this.x+i,"round");this.width=e-this.x,this.width=Math.min(this.width,this.hcChart.plotLeft+this.hcChart.plotWidth-this.x),this.width=Math.max(this.width,this.axis.toPixels(1)-this.axis.toPixels(0)),this.positionResizeHandles("right")},emitSelectionEvent:function(){var t=this.axis,i=t.toValue(this.x)+this.axisValueOffset,e=t.toValue(this.x+this.width)-this.axisValueOffset;this.trigger("rangeSelect",[i,e])},createResizeHandles:function(){var e={zIndex:this.zIndex+1,fill:{linearGradient:{x1:0,y1:.5,x2:1,y2:.5},stops:[[0,this.handleBgColor],[1/6,this.handleBorderColor],[2/6,this.handleBgColor],[.5,this.handleBorderColor],[4/6,this.handleBgColor],[5/6,this.handleBorderColor],[1,this.handleBgColor]]},"stroke-width":2,stroke:this.handleBgColor},s={"stroke-width":2,stroke:this.handleBgColor,zIndex:this.zIndex},r={zIndex:this.zIndex,fill:this.shadedAreaColor},n=this.hcChart.plotTop+this.hcChart.plotHeight/2-this.handleHeight/2;this.shadedRegionRight=this.renderer.rect(0,this.hcChart.plotTop,0,this.hcChart.plotHeight).attr(r).add(),this.handleVerticalLineRight=this.renderer.path().attr(s).add(),this.resizeHandleRight=this.renderer.rect(0,n,this.handleWidth,this.handleHeight,this.handleBorderRadius).attr(e).css({cursor:"ew-resize"}).add(),this.shadedRegionLeft=this.renderer.rect(this.hcChart.plotLeft,this.hcChart.plotTop,0,this.hcChart.plotHeight).attr(r).add(),this.handleVerticalLineLeft=this.renderer.path().attr(s).add(),this.resizeHandleLeft=this.renderer.rect(0,n,this.handleWidth,this.handleHeight,this.handleBorderRadius).attr(e).css({cursor:"ew-resize"}).add(),this.positionResizeHandles("both"),this.$resetButton=t(i(this.resetButtonTemplate).template({})),this.$resetButton.on("click",function(t){t.preventDefault()}),this.$resetButton.css({top:this.hcChart.yAxis[0].top+"px",right:this.hcChart.xAxis[0].right+"px",position:"absolute"}),this.$resetButton.appendTo(this.hcChart.container)},positionResizeHandles:function(t){var i=this.x,e=i+this.width,s=this.hcChart.plotTop,r=s+this.hcChart.plotHeight,n=this.hcChart.plotLeft,a=n+this.hcChart.plotWidth;"both"!==t&&"left"!==t||(this.shadedRegionLeft.attr({width:i-n}),this.handleVerticalLineLeft.attr({d:["M",i,s,"L",i,r]}),this.resizeHandleLeft.attr({x:i-this.handleWidth/2})),"both"!==t&&"right"!==t||(this.shadedRegionRight.attr({x:e,width:a-e}),this.handleVerticalLineRight.attr({d:["M",e,s,"L",e,r]}),this.resizeHandleRight.attr({x:e-this.handleWidth/2}))},getCurrentX:function(){return this.resizeHandleLeft.attr("x")+this.handleWidth/2},getCurrentWidth:function(){return this.resizeHandleRight.attr("x")+this.handleWidth/2-this.getCurrentX()},snapXValue:function(t,i){var e=this.axis,s=e.toValue(t);return e.toPixels(Math[i](s-this.axisValueOffset)+this.axisValueOffset)},updateExtremesValues:function(){this.startValue=Math.round(this.axis.toValue(this.x)-this.axisValueOffset),this.endValue=Math.round(this.axis.toValue(this.x+this.width)-this.axisValueOffset)},resetButtonTemplate:'<a class="btn-link btn-reset-selection" href="#"><i class="icon-minus-circle"></i><%= _("Reset").t() %></a>'}),r}.apply(i,s),!(void 0!==r&&(t.exports=r))},"js_charting/components/PanButtons":function(t,i,e){var s,r;s=[e("shim/jquery"),e("require/underscore"),e("js_charting/helpers/EventMixin"),e("js_charting/util/color_utils")],r=function(t,i,e,s){var r=function(t){this.hcChart=t,this.initialize()};return r.prototype=t.extend({},e,{initialize:function(){var e=this.hcChart.xAxis[0],s=e.getExtremes(),r='<a class="btn-pill btn-pan-left" href="#"><i class="icon-chevron-left"></i></a>',n='<a class="btn-pill btn-pan-right" href="#"><i class="icon-chevron-right"></i></a>';this.panRightButton||(this.panRightButton=t(n),("between"===this.hcChart.xAxis[0].options.tickmarkPlacement&&s.max>=s.dataMax||"on"===this.hcChart.xAxis[0].options.tickmarkPlacement&&s.max>s.dataMax)&&this.panRightButton.addClass("disabled"),t(this.hcChart.container).append(this.panRightButton)),this.panLeftButton||(this.panLeftButton=t(r),0===s.min&&this.panLeftButton.addClass("disabled"),t(this.hcChart.container).append(this.panLeftButton));var a=this;this.debouncedPanLeft=i.debounce(function(){a.handlePan("left"),a.positionButtons()}),this.debouncedPanRight=i.debounce(function(){a.handlePan("right"),a.positionButtons()}),this.positionButtons(),this.bindPanListeners()},positionButtons:function(){var t=this.hcChart.legend.options,i=this.hcChart.plotHeight+this.hcChart.plotTop+4,e=this.hcChart.xAxis[0].left-20,s=this.hcChart.xAxis[0].right-("right"===t.align?20:0);this.panRightButton.css({position:"absolute",top:i+"px",right:s+"px"}),this.panLeftButton.css({position:"absolute",top:i+"px",left:e+"px"})},handlePan:function(t){var i,e,s,r,n,a=this.hcChart.xAxis[0],h=a.getExtremes(),o=Math.round(h.min),l=Math.round(h.max);"left"===t?(r=h.dataMin,o>r&&(o===r+1&&this.panLeftButton.addClass("disabled"),this.panRightButton.hasClass("disabled")&&this.panRightButton.removeClass("disabled"),e=o-1,s=l-1,i=!0)):"right"===t&&(n=h.dataMax+("between"===this.hcChart.xAxis[0].options.tickmarkPlacement?0:1),l<n&&(l===n-1&&this.panRightButton.addClass("disabled"),this.panLeftButton.hasClass("disabled")&&this.panLeftButton.removeClass("disabled"),e=o+1,s=l+1,i=!0)),a.setExtremes(e,s,!1,!1,{trigger:"pan"}),i&&this.hcChart.redraw(!1)},bindPanListeners:function(){var t,i,e=this,s=function(){t&&clearInterval(t)},r=this.hcChart.xAxis[0];this.panLeftButton&&(this.panLeftButton.on("click",function(t){t.preventDefault(),e.debouncedPanLeft()}),this.panLeftButton.on("mousedown",function(i){s(),t=window.setInterval(function(){e.handlePan("left")},200)}),this.panLeftButton.on("mouseup",function(t){s(),i=r.getExtremes(),e.trigger("pan",[i.min,i.max])})),this.panRightButton&&(this.panRightButton.on("click",function(t){t.preventDefault(),e.debouncedPanRight()}),this.panRightButton.on("mousedown",function(i){s(),t=window.setInterval(function(){e.handlePan("right")},200)}),this.panRightButton.on("mouseup",function(t){s(),i=r.getExtremes(),e.trigger("pan",[i.min,i.max])}))},onChartResize:function(t){this.panLeftButton&&this.panRightButton&&this.positionButtons()},onChartRedraw:function(t){this.panLeftButton&&this.panRightButton&&this.positionButtons()},destroy:function(){this.panLeftButton&&(this.panLeftButton.remove(),this.panLeftButton=void 0),this.panRightButton&&(this.panRightButton.remove(),this.panRightButton=void 0),this.off()}}),r}.apply(i,s),!(void 0!==r&&(t.exports=r))},"js_charting/components/ZoomOutButton":function(t,i,e){var s,r;s=[e("shim/jquery"),e("require/underscore"),e("js_charting/helpers/EventMixin"),e("js_charting/util/color_utils")],r=function(t,i,e,s){var r=function(t){this.hcChart=t,this.initialize(),this.debouncedZoomOut=i.debounce(function(){t.zoomOut()})};return r.prototype=t.extend({},e,{initialize:function(){var e=this.hcChart.xAxis[0],s=(e.getExtremes(),'<a class="btn-pill btn-zoom-out" href="#"><i class="icon-minus-circle"></i>'+i("Reset Zoom").t()+"</a>");this.zoomOutBtn||(this.zoomOutBtn=t(s),t(this.hcChart.container).append(this.zoomOutBtn));var r=this.hcChart.yAxis[0].top,n=this.hcChart.xAxis[0].right;this.zoomOutBtn.css({position:"absolute",top:r+"px",right:n+"px"}),this.addEventHandlers()},addEventHandlers:function(){var t=this;this.zoomOutBtn&&this.zoomOutBtn.on("click",function(i){i.preventDefault(),t.debouncedZoomOut()})},destroy:function(){this.zoomOutBtn&&(this.zoomOutBtn.remove(),this.zoomOutBtn=void 0),this.off()}}),r}.apply(i,s),!(void 0!==r&&(t.exports=r))},"js_charting/series/series_factory":function(t,i,e){var s,r;s=[e("js_charting/series/ColumnSeries"),e("js_charting/series/BarSeries"),e("js_charting/series/LineSeries"),e("js_charting/series/AreaSeries"),e("js_charting/series/PieSeries"),e("js_charting/series/ScatterSeries"),e("js_charting/series/BubbleSeries"),e("js_charting/series/RangeSeries")],r=function(t,i,e,s,r,n,a,h){return{create:function(o){return"column"===o.type?new t(o):"bar"===o.type?new i(o):"line"===o.type?new e(o):"area"===o.type?new s(o):"pie"===o.type?new r(o):"scatter"===o.type?new n(o):"bubble"===o.type?new a(o):"range"===o.type?new h(o):new t(o)}}}.apply(i,s),!(void 0!==r&&(t.exports=r))},"js_charting/visualizations/charts/BubbleChart":function(t,i,e){var s,r;s=[e("shim/jquery"),e("require/underscore"),e("js_charting/visualizations/charts/ScatterChart"),e("js_charting/components/axes/NumericAxis"),e("js_charting/util/lang_utils")],r=function(t,i,e,s,r){var n=function(t,i){e.call(this,t,i)};return r.inherit(n,e),t.extend(n.prototype,{NUM_DIMENSION_FIELDS:3,TYPE:"bubble",initializeNonMarkFields:function(t){e.prototype.initializeNonMarkFields.call(this,t),t.length>this.NUM_DIMENSION_FIELDS?this.zField=t[3]:this.zField=t[2]},isEmpty:function(){return e.prototype.isEmpty.apply(this,arguments)||i(this.zField).isUndefined()},processProperties:function(){e.prototype.processProperties.call(this);var t={bubbleMaximumSize:50,bubbleMinimumSize:10,bubbleSizeBy:"area"};this.bubbleMaximumSize=this.properties["chart.bubbleMaximumSize"]&&parseInt(this.properties["chart.bubbleMaximumSize"],10),this.bubbleMinimumSize=this.properties["chart.bubbleMinimumSize"]&&parseInt(this.properties["chart.bubbleMinimumSize"],10),this.bubbleSizeBy=this.properties["chart.bubbleSizeBy"]||t.bubbleSizeBy,(isNaN(this.bubbleMaximumSize)||this.bubbleMaximumSize<=0)&&(this.bubbleMaximumSize=t.bubbleMaximumSize),(isNaN(this.bubbleMinimumSize)||this.bubbleMinimumSize<=0)&&(this.bubbleMinimumSize=t.bubbleMinimumSize),"diameter"===this.bubbleSizeBy?this.bubbleSizeBy="width":"area"!==this.bubbleSizeBy&&(this.bubbleSizeBy=t.bubbleSizeBy)},setAllSeriesData:function(){var t=this.formatAxisData(this.xAxisList[0],this.xField),e=this.formatAxisData(this.yAxisList[0],this.yField),s=this.formatAxisData(this.yAxisList[0],this.zField);this.isMultiSeries?i(this.seriesList).each(function(i){var r=i.getName();i.setData({x:this.filterDataByNameMatch(t,r),y:this.filterDataByNameMatch(e,r),z:this.filterDataByNameMatch(s,r)})},this):this.seriesList[0].setData({x:t,y:e,z:s})},getPlotOptionsConfig:function(){var t=this.bubbleMinimumSize,i=this.bubbleMaximumSize,e=this.bubbleSizeBy;return{bubble:{stickyTracking:!1,minSize:t,maxSize:i,sizeBy:e,tooltip:{followPointer:!1},cursor:this.chartClickEnabled?"pointer":"default"}}},getSeriesPointInfo:function(t,i){var r=e.prototype.getSeriesPointInfo.apply(this,arguments),n=i.index,a=t.getName(),h=this.dataSet.getSeries(this.zField),o=this.isMultiSeries?this.filterDataByNameMatch(h,a)[n]:h[n];return r.zAxisName=this.zField,r.zValue=s.formatNumber(o),r}}),n}.apply(i,s),!(void 0!==r&&(t.exports=r))},"js_charting/series/ManyShapeOptimizedSeries":function(t,i,e){var s,r;s=[e("shim/jquery"),e("require/underscore"),e("shim/highcharts"),e("js_charting/series/Series"),e("js_charting/util/lang_utils"),e("js_charting/util/color_utils")],r=function(t,i,e,s,r,n){var a=function(t){s.call(this,t)};return r.inherit(a,s),t.extend(a.prototype,{CHARTING_PROPERTY_WHITELIST:i.union(["seriesSpacing"],s.prototype.CHARTING_PROPERTY_WHITELIST),DEFAULT_COLUMN_SPACING:.01,DEFAULT_COLUMN_GROUP_SPACING:.05,DEFAULT_BAR_SPACING:.02,DEFAULT_BAR_GROUP_SPACING:.05,getConfig:function(){var t=s.prototype.getConfig.apply(this,arguments);return t.drawGraphOverride=i(this.drawGraphOverride).bind(this),t.drawTrackerOverride=i(this.drawTrackerOverride).bind(this),t.drawPointsOverride=i(this.drawPointsOverride).bind(this),t.getGraphPathOverride=i(this.getGraphPathOverride).bind(this),t},drawGraphOverride:function(t){e.seriesTypes.area.prototype.drawGraph.call(t)},drawTrackerOverride:function(t){e.seriesTypes.area.prototype.drawTracker.call(t)},drawPointsOverride:function(){},destroy:function(){this.unSelectPoint(),s.prototype.destroy.call(this)},getGraphPathOverride:function(t){return i(t.points).each(function(i){var e=i.shapeArgs,s=e.x||0,r=e.y||0,n=e.width||0,a=e.height||0;t.areaPath.push("M",s,r,"L",s+n,r,"L",s+n,r+a,"L",s,r+a,"Z")}),t.singlePoints=[],[]},handlePointMouseOver:function(t){s.prototype.handlePointMouseOver.call(this,t),this.unHighlight(),this.selectPoint(t)},handlePointMouseOut:function(t){s.prototype.handlePointMouseOut.call(this,t),this.highlight(),this.unSelectPoint()},highlight:function(){if(s.prototype.highlight.call(this),this.hcSeries&&this.hcSeries.area){var t=this.getColor();this.hcSeries.area.attr({fill:t,"stroke-width":0})}},unHighlight:function(){s.prototype.unHighlight.call(this),this.unSelectPoint(),this.hcSeries.area&&this.hcSeries.area.attr({fill:this.UNHIGHLIGHTED_COLOR,stroke:this.UNHIGHLIGHTED_BORDER_COLOR,"stroke-width":1})},selectPoint:function(t){var i=this.hcSeries.data[t.index],e=i.shapeArgs,s=this.hcSeries.chart.renderer,r=this.hcSeries.group;this.selectedPointGraphic=s.rect(e.x,e.y,e.width,e.height).attr({fill:this.getColor(),zIndex:1}).add(r)},unSelectPoint:function(){this.selectedPointGraphic&&(this.selectedPointGraphic.destroy(),this.selectedPointGraphic=null)},computeColumnSpacing:function(t){var e=parseFloat(t);return i(e).isNaN()?this.DEFAULT_COLUMN_SPACING:e*this.DEFAULT_COLUMN_SPACING},computeColumnGroupSpacing:function(t){var e=parseFloat(t);return i(e).isNaN()?this.DEFAULT_COLUMN_GROUP_SPACING:this.DEFAULT_COLUMN_GROUP_SPACING*(1+e)},computeBarSpacing:function(t){var e=parseFloat(t);return i(e).isNaN()?this.DEFAULT_BAR_SPACING:e*this.DEFAULT_BAR_SPACING},computeBarGroupSpacing:function(t){var e=parseFloat(t);return i(e).isNaN()?this.DEFAULT_BAR_GROUP_SPACING:this.DEFAULT_BAR_GROUP_SPACING*(1+e)}}),a}.apply(i,s),!(void 0!==r&&(t.exports=r))},"js_charting/series/Series":function(t,i,e){var s,r;s=[e("shim/jquery"),e("require/underscore"),e("js_charting/helpers/EventMixin"),e("js_charting/helpers/Formatter"),e("js_charting/util/color_utils"),e("js_charting/util/parsing_utils")],r=function(t,i,e,s,r,n){var a=function(t){this.index=t.index,this.seriesName=t.series.name,this.name=t.name,this.y=t.y},h=function(t){this.properties=this.normalizeProperties(t||{}),this.processProperties(),this.id=i.uniqueId("series_"),this.data=[],this._isDirty=!1,this._dataIsDirty=!1,this.UNHIGHLIGHTED_COLOR=r.addAlphaToColor(this.UNHIGHLIGHTED_BASE_COLOR,this.UNHIGHLIGHTED_OPACITY),this.UNHIGHLIGHTED_BORDER_COLOR=r.addAlphaToColor(this.UNHIGHLIGHTED_BORDER_BASE_COLOR,this.UNHIGHLIGHTED_OPACITY)};return h.prototype=t.extend({},e,{STACK_MODE_MAP:{default:null,stacked:"normal",stacked100:"percent"},CHART_PROPERTY_PREFIX_REGEX:/^chart\./,UNHIGHLIGHTED_OPACITY:.3,UNHIGHLIGHTED_BASE_COLOR:"rgb(150, 150, 150)",UNHIGHLIGHTED_BORDER_BASE_COLOR:"rgb(200, 200, 200)",DEFAULT_STACK_MODE:null,CHARTING_PROPERTY_WHITELIST:[],normalizeProperties:function(e){var s=t.extend(!0,{},e);return i(s).each(function(t,e){if(this.CHART_PROPERTY_PREFIX_REGEX.test(e)){delete s[e];var r=e.replace(this.CHART_PROPERTY_PREFIX_REGEX,"");i(this.CHARTING_PROPERTY_WHITELIST).contains(r)&&(s[r]=t)}},this),s},processProperties:function(){},redraw:function(t){this.hcSeries&&(this.isDirty()?this.hcSeries.update(this.getConfig(),t):this.dataIsDirty()&&this.hcSeries.setData(this.hasPrettyData?this.prettyData:this.data,t))},update:function(t){var e=this.properties;this.properties=this.normalizeProperties(t),i.isEqual(this.properties,e)||(this.processProperties(),this._isDirty=!0)},setData:function(t){var e=this.data;i(t.x).isUndefined()?this.data=t.y:this.data=i(t.x).map(function(i,e){return[i,t.y[e]]}),i.isEqual(this.data,e)||(this._dataIsDirty=!0)},getData:function(){return this.data},isDirty:function(){return this._isDirty},dataIsDirty:function(){return this._dataIsDirty},getXAxisIndex:function(){return this.properties.xAxis||0},getYAxisIndex:function(){return this.properties.yAxis||0},getName:function(){return this.properties.name},getLegendKey:function(){return this.properties.legendKey||this.getName()},getFieldList:function(){return[this.getName()]},matchesName:function(t){return t===this.getName()},applyColorMapping:function(t){var i=this.color;this.color=t[this.getName()],this.color!==i&&(this._isDirty=!0)},getColor:function(){return this.color},getStackMode:function(){return this.STACK_MODE_MAP[this.properties.stacking]||this.DEFAULT_STACK_MODE},getType:function(){return this.type},getConfig:function(){return{type:this.type,id:this.id,name:this.getName(),color:this.color,data:this.hasPrettyData?this.prettyData:this.data,xAxis:this.getXAxisIndex(),yAxis:this.getYAxisIndex(),stacking:this.getStackMode()}},onChartLoad:function(t){},onChartLoadOrRedraw:function(t){this.hcSeries=t.get(this.id),this.hcSeries.splSeries=this,this._isDirty=!1,this._dataIsDirty=!1,this.hcSeries.options.states.hover.enabled=!0,this.addEventHandlers(this.hcSeries),i(this.hcSeries.data).each(function(t,i){t&&(t.index=i)})},addEventHandlers:function(t){t.options.point.events=t.options.point.events||{};var i=this,e=t.options.point.events;e.mouseOver=function(t){var e=this,s=new a(e);i.trigger("mouseover",[s,i])},e.mouseOut=function(t){var e=this,s=new a(e);i.trigger("mouseout",[s,i])},n.normalizeBoolean(this.properties.clickEnabled)&&(e.click=function(t){var e=this,s=new a(e),r={type:"click",modifierKey:t.ctrlKey||t.metaKey};i.trigger(r,[s,i])})},destroy:function(){this.off(),this.hcSeries&&this.hcSeries.splSeries&&(this.hcSeries.splSeries=null),this.hcSeries=null},handlePointMouseOver:function(t){this.bringToFront()},handleLegendMouseOver:function(t){this.bringToFront(),this.highlight()},bringToFront:function(){this.hcSeries.group&&this.hcSeries.group.toFront(),this.hcSeries.trackerGroup&&this.hcSeries.trackerGroup.toFront()},estimateMaxColumnWidths:function(t,e,r){var n=new s(t.renderer),a=t.options.tooltip.style.fontSize.replace("px",""),h=-(1/0),o=-(1/0);return i.each(e,function(t){var i=n.predictTextWidth(t,a);i>h&&(h=i)}),i.each(r,function(t){var i=n.predictTextWidth(t,a);i>o&&(o=i)}),n.destroy(),{maxLeftColWidth:h,maxRightColWidth:o}},getTooltipRows:function(t){var i=[];return t.xAxisIsTime?i.push([t.xValueDisplay]):i.push([t.xAxisName,t.xValueDisplay]),i.push([{color:t.seriesColor,text:t.seriesName},t.yValueDisplay]),i},getTooltipHtml:function(e,s){e.seriesName=this.getName(),e.seriesColor=this.getColor();var r=function(t){return i(t).isString()?t:t.text},n=function(t){return i(t).isString()?null:t.color},a=this.getTooltipRows(e),h=s.chartWidth-50,o=i(a).map(function(t){return r(t[0]||"")}),l=i(a).map(function(t){return r(t[1]||"")}),d=this.estimateMaxColumnWidths(s,o,l),c=d.maxLeftColWidth/(d.maxLeftColWidth+d.maxRightColWidth);return c>.9?c=.9:c<.1&&(c=.1),e.scaledMaxLeftColWidth=c*h+"px",e.scaledMaxRightColWidth=(1-c)*h+"px",e.willWrap=d.maxLeftColWidth+d.maxRightColWidth>h,i(this.tooltipTemplate).template(t.extend(e,{rows:a,normalizeToText:r,normalizeToColor:n}))},handlePointMouseOut:function(t){},handleLegendMouseOut:function(t){},highlight:function(){},unHighlight:function(){},tooltipTemplate:'\t            <table class="highcharts-tooltip"\t                <% if(willWrap) { %>\t                    style="word-wrap: break-word; white-space: normal;"\t                <% } %>>\t                <% _(rows).each(function(row) { %>\t                    <tr>\t                        <% if(row.length === 1) { %>\t                            <td style="text-align: left; color: <%= normalizeToColor(row[0]) || "#ffffff" %>;" colpsan="2"><%- normalizeToText(row[0]) %></td>\t                        <% } else { %>\t                            <td style="text-align: left; color: <%= normalizeToColor(row[0]) || "#cccccc" %>; max-width: <%= scaledMaxLeftColWidth %>;"><%- normalizeToText(row[0]) %>:&nbsp;&nbsp;</td>\t                            <td style="text-align: right; color: <%= normalizeToColor(row[1]) || "#ffffff" %>; max-width: <%= scaledMaxRightColWidth %>;"><%- normalizeToText(row[1]) %></td>\t                        <% } %>\t                    </tr>\t                <% }); %>\t            </table>\t        '}),h.Point=a,h}.apply(i,s),!(void 0!==r&&(t.exports=r))},"js_charting/series/BarSeries":function(t,i,e){var s,r;s=[e("shim/jquery"),e("require/underscore"),e("js_charting/series/ManyShapeOptimizedSeries"),e("js_charting/util/lang_utils")],r=function(t,i,e,s){var r=function(t){e.call(this,t)};return s.inherit(r,e),t.extend(r.prototype,{CHARTING_PROPERTY_WHITELIST:i.union(["barSpacing"],e.prototype.CHARTING_PROPERTY_WHITELIST),type:"bar",getConfig:function(){var t=e.prototype.getConfig.call(this);return t.pointPadding=this.computeBarSpacing(this.properties.barSpacing),t.groupPadding=this.computeBarGroupSpacing(this.properties.seriesSpacing),t},bringToFront:function(){}}),r}.apply(i,s),!(void 0!==r&&(t.exports=r))},"js_charting/series/LineSeries":function(t,i,e){var s,r;s=[e("shim/jquery"),e("require/underscore"),e("js_charting/series/SingleShapeSeries"),e("js_charting/util/lang_utils"),e("js_charting/util/parsing_utils")],r=function(t,i,e,s,r){var n=function(t){e.call(this,t)};return s.inherit(n,e),t.extend(n.prototype,{CHARTING_PROPERTY_WHITELIST:i.union(["showMarkers"],e.prototype.CHARTING_PROPERTY_WHITELIST),type:"line",highlight:function(){if(e.prototype.highlight.call(this),this.hcSeries.graph){var t=this.getColor();this.hcSeries.graph.attr({stroke:t,"stroke-opacity":this.HIGHLIGHTED_OPACITY})}i(this.hcSeries.data).each(this.highlightPoint,this)},unHighlight:function(){e.prototype.unHighlight.call(this),this.hcSeries.graph&&this.hcSeries.graph.attr("stroke",this.UNHIGHLIGHTED_COLOR),i(this.hcSeries.data).each(this.unHighlightPoint,this)},highlightPoint:function(t){var i=this.getColor();t.graphic&&t.graphic.attr("fill",i)},unHighlightPoint:function(t){t.graphic&&t.graphic.attr("fill",this.UNHIGHLIGHTED_COLOR)},translatePostHook:function(){if(this.hcSeries){var t=this.hcSeries.chart,i=this.hcSeries.xAxis,e=this.hcSeries.points;if(Math.round(i.min)===Math.round(i.max)&&"line"===this.hcSeries.options.type){for(var s=!1,r=(t.series,0);r<t.series.length;r++)"column"===t.series[r].options.type&&(s=!0);if(s){var n=Math.round(i.min);e[n-1]&&(e[n-1].plotX=e[n].plotX-i.width),e[n+1]&&(e[n+1].plotX=e[n].plotX+i.width)}}}},getConfig:function(){var s=e.prototype.getConfig.call(this);return s.connectNulls="connect"===this.properties.nullValueMode,t.extend(s,{marker:{},stacking:this.STACK_MODE_MAP.default,zIndex:2,translatePostHook:i(this.translatePostHook).bind(this),dashStyle:this.properties.dashStyle}),s.marker.enabled=r.normalizeBoolean(this.properties.showMarkers,!1),s}}),n}.apply(i,s),!(void 0!==r&&(t.exports=r))},"js_charting/series/SingleShapeSeries":function(t,i,e){var s,r;s=[e("shim/jquery"),e("require/underscore"),e("js_charting/series/Series"),e("js_charting/util/lang_utils")],r=function(t,i,e,s){var r=function(t){e.call(this,t)};return s.inherit(r,e),t.extend(r.prototype,{CHARTING_PROPERTY_WHITELIST:i.union(["lineStyle","nullValueMode"],e.prototype.CHARTING_PROPERTY_WHITELIST),HIGHLIGHTED_OPACITY:1,getConfig:function(){var t=e.prototype.getConfig.call(this);return t.dashStyle="dashed"===this.properties.lineStyle?"Dash":"Solid",t.pointPlacement=this.properties.pointPlacement,t.drawPointsPreHook=i(this.drawPointsPreHook).bind(this),t},handlePointMouseOver:function(t){e.prototype.handlePointMouseOver.call(this,t),this.highlight()},drawPointsPreHook:function(t){if(!t.options.marker||!t.options.marker.enabled){var i,e,s=t.segments;for(i=0;i<s.length;i++)e=s[i],1===e.length&&e[0].update({marker:{enabled:!0,radius:4}},!1)}}}),r}.apply(i,s),!(void 0!==r&&(t.exports=r))},"js_charting/series/AreaSeries":function(t,i,e){var s,r;s=[e("shim/jquery"),e("require/underscore"),e("js_charting/series/SingleShapeSeries"),e("js_charting/util/lang_utils"),e("js_charting/util/color_utils"),e("js_charting/util/parsing_utils"),e("js_charting/util/math_utils")],r=function(t,i,e,s,r,n,a){var h=function(t){e.call(this,t),this.UNHIGHLIGHTED_LINE_COLOR=r.addAlphaToColor(this.UNHIGHLIGHTED_BASE_COLOR,this.UNHIGHLIGHTED_LINE_OPACITY)};return s.inherit(h,e),t.extend(h.prototype,{HIGHLIGHTED_OPACITY:.75,UNHIGHLIGHTED_LINE_OPACITY:.4,CHARTING_PROPERTY_WHITELIST:i.union(["showLines","areaFillOpacity"],e.prototype.CHARTING_PROPERTY_WHITELIST),type:"area",processProperties:function(){var t=a.parseFloat(this.properties.areaFillOpacity);this.fillOpacity=t<=1&&t>=0?t:this.HIGHLIGHTED_OPACITY},getConfig:function(){var t=e.prototype.getConfig.call(this);return t.fillOpacity=this.fillOpacity,t.connectNulls="connect"===this.properties.nullValueMode,t.lineWidth=n.normalizeBoolean(this.properties.showLines,!0)?1:0,t},onChartLoadOrRedraw:function(t){e.prototype.onChartLoadOrRedraw.call(this,t),this.hasLines=this.hcSeries.options.lineWidth>0,this.hcSeries.area.attr("fill-opacity",this.fillOpacity)},highlight:function(){e.prototype.highlight.call(this);var t=this.getColor();this.hcSeries.area.attr({fill:t,"fill-opacity":this.fillOpacity}),this.hcSeries.graph&&this.hasLines&&this.hcSeries.graph.attr({stroke:t,"stroke-opacity":1})},unHighlight:function(){e.prototype.unHighlight.call(this),this.hcSeries.area.attr({fill:this.UNHIGHLIGHTED_COLOR}),this.hcSeries.graph&&this.hasLines&&this.hcSeries.graph.attr("stroke",this.UNHIGHLIGHTED_LINE_COLOR)}}),h}.apply(i,s),!(void 0!==r&&(t.exports=r))},"js_charting/series/PieSeries":function(t,i,e){var s,r;s=[e("shim/jquery"),e("require/underscore"),e("js_charting/series/Series"),e("js_charting/series/ManyShapeSeries"),e("js_charting/util/lang_utils"),e("js_charting/util/parsing_utils"),e("js_charting/util/time_utils"),e("util/time"),e("stubs/i18n")],r=function(t,i,e,s,r,n,a,h,o){var l=function(t){s.call(this,t)};return r.inherit(l,s),t.extend(l.prototype,{UNHIGHLIGHTED_OPACITY:1,UNHIGHLIGHTED_BASE_COLOR:"rgb(225, 225, 225)",CHARTING_PROPERTY_WHITELIST:i.union(["sliceCollapsingThreshold","sliceCollapsingLabel","showPercent"],s.prototype.CHARTING_PROPERTY_WHITELIST),type:"pie",hasPrettyData:!1,fieldList:[],processProperties:function(){if(this.collapseFieldName=this.properties.sliceCollapsingLabel||"other",this.collapsePercent=.01,this.properties.hasOwnProperty("sliceCollapsingThreshold")){var t=parseFloat(this.properties.sliceCollapsingThreshold);t>=0&&t<=1&&(this.collapsePercent=t)}},getConfig:function(){return t.extend(s.prototype.getConfig.call(this),{translatePreHook:i(this.translatePreHook).bind(this)})},setData:function(t){var e=this.data;this.data=[],this.prettyData=[];var s=this,r=t.names,o=t.sizes,l=t.spans,d=t.isTimeBased,c=i(o).reduce(function(t,i){return t+i},0),u=o.length,g=0,p=0,f=0,m=null,x=function(t){return t>0&&t/c>s.collapsePercent};if(d&&(m=h.determineLabelGranularity(r),this.hasPrettyData=!0),this.fieldList=i(r).map(n.escapeSVG,n),i(o).each(function(t,i){x(o[i])||f++},this),i(r).each(function(t,e){var s=o[e];if(x(s)||1===f||u<=10)if(d){var r=h.extractBdTime(t),n=a.formatBdTimeAsAxisLabel(r,null,m).join(" "),c=l[e];this.data.push([t,s,c]),this.prettyData.push([n,s,c])}else this.data.push([t,s]);else g+=s,p++,this.fieldList=i(this.fieldList).without(t)},this),p>0){var k=this.collapseFieldName+" ("+p+")";this.data.push([k,g]),this.prettyData.push([k,g,null]),this.fieldList.push("__other")}i.isEqual(this.data,e)||(this._dataIsDirty=!0)},getFieldList:function(){return this.fieldList},getData:function(){return this.data},getPrettyData:function(){return this.prettyData},highlightPoint:function(t){if(t.graphic){var i=t.color;t.graphic.attr({fill:i,"stroke-width":0,stroke:i})}},getTooltipRows:function(t){return[[t.sliceFieldName,t.sliceName],[{text:t.seriesName,color:t.sliceColor},t.yValue],[{text:t.seriesName+"%",color:t.sliceColor},t.yPercent]]},translatePreHook:function(t){var i=t.chart;t.options.dataLabels.enabled?t.options.size=Math.min(.75*i.plotHeight,i.plotWidth/3):t.options.size=Math.min(.75*i.plotHeight,.75*i.plotWidth)}}),l}.apply(i,s),!(void 0!==r&&(t.exports=r))},"js_charting/series/ManyShapeSeries":function(t,i,e){var s,r;s=[e("shim/jquery"),e("require/underscore"),e("shim/highcharts"),e("js_charting/series/Series"),e("js_charting/util/lang_utils")],r=function(t,i,e,s,r){var n=function(t){s.call(this,t)};return r.inherit(n,s),t.extend(n.prototype,{CHARTING_PROPERTY_WHITELIST:i.union(["seriesSpacing"],s.prototype.CHARTING_PROPERTY_WHITELIST),destroy:function(){this.unSelectPoint(),s.prototype.destroy.call(this)},handlePointMouseOver:function(t){s.prototype.handlePointMouseOver.call(this,t),this.selectPoint(t)},handlePointMouseOut:function(t){s.prototype.handlePointMouseOut.call(this,t),this.unSelectPoint(t)},selectPoint:function(t){var e=this.hcSeries.data[t.index];this.highlightPoint(e),i(this.hcSeries.data).chain().without(e).each(this.unHighlightPoint,this)},unSelectPoint:function(t){if(t){var e=this.hcSeries.data[t.index];i(this.hcSeries.data).chain().without(e).each(this.highlightPoint,this)}},highlight:function(){s.prototype.highlight.call(this),i(this.hcSeries.data).each(this.highlightPoint,this)},unHighlight:function(){s.prototype.unHighlight.call(this),i(this.hcSeries.data).each(this.unHighlightPoint,this)},highlightPoint:function(t){
if(t.graphic){var i=this.getColor();t.graphic.attr({fill:i,"fill-opacity":this.HIGHLIGHTED_OPACITY,stroke:i})}},unHighlightPoint:function(t){t.graphic&&t.graphic.attr({fill:this.UNHIGHLIGHTED_COLOR,"stroke-width":1,stroke:this.UNHIGHLIGHTED_BORDER_COLOR})}}),n}.apply(i,s),!(void 0!==r&&(t.exports=r))},"js_charting/series/ScatterSeries":function(t,i,e){var s,r;s=[e("shim/jquery"),e("require/underscore"),e("shim/highcharts"),e("js_charting/series/ManyShapeOptimizedSeries"),e("js_charting/util/lang_utils")],r=function(t,i,e,s,r){var n=function(t){s.call(this,t)};return r.inherit(n,s),t.extend(n.prototype,{type:"scatter",getConfig:function(){var t=s.prototype.getConfig.apply(this,arguments);return t.pointActionsPreHook=i(this.pointActionsPreHook).bind(this),t.renderPostHook=i(this.renderPostHook).bind(this),t},getGraphPathOverride:function(t){var s,r="",n="select",a=t.chart;return i(t.points).each(function(i){var h=Math.floor(i.plotX),o=i.plotY,l=i.marker||{},d=a.isInsidePlot(Math.round(h),o,a.inverted);if(t.options.marker&&o!==s&&!isNaN(o)&&null!==i.y){var c=i.pointAttr[i.selected?n:r],u=c.r,g=e.pick(l.symbol,t.symbol);if(d&&u>0){var p=a.renderer.symbols[g](h-u,o-u,2*u,2*u);t.areaPath.push.apply(t.areaPath,p)}}}),t.singlePoints=[],[]},renderPostHook:function(t){t.group&&t.group.toFront()},pointActionsPreHook:function(t,e){var s,r,n,a=t.chart,h=a.pointer,o=e.chartX-a.plotLeft,l=e.chartY-a.plotTop,d=t.options.marker.radius,c=5,u=d+c,g=h.getIndex(e);t._sortedPoints||(t._sortedPoints=i(t.points).sortBy("plotX"));var p,f,m=[],x=i(t._sortedPoints).sortedIndex({plotX:o-u},"plotX");for(s=x,r=t._sortedPoints.length;s<r&&(p=t._sortedPoints[s],f=p.plotX,f<=o+u);s++)m.push(p);n=1===m.length?m[0]:i(m).min(function(t){return Math.abs(t.plotY-l)}),t.tooltipPoints=t.tooltipPoints||[],t.tooltipPoints[g]=n},selectPoint:function(i){var e=this.hcSeries.data[i.index],s=e.series;s.stateMarkerGraphic&&(this.selectedPointGraphic=s.stateMarkerGraphic,s.stateMarkerGraphic=null,t(this.selectedPointGraphic.element).insertBefore(s.tracker.element))},getTooltipRows:function(t){var i=[];return t.isMultiSeries&&i.push([t.labelSeriesName,{text:t.seriesName,color:t.seriesColor}]),t.markName&&i.push([t.markName,t.markValue]),i.push([t.xAxisName,t.xValue],[t.yAxisName,t.yValue]),i}}),n}.apply(i,s),!(void 0!==r&&(t.exports=r))},"js_charting/series/BubbleSeries":function(t,i,e){var s,r;s=[e("shim/jquery"),e("require/underscore"),e("js_charting/series/ManyShapeSeries"),e("js_charting/series/ScatterSeries"),e("js_charting/series/Series"),e("js_charting/util/lang_utils")],r=function(t,i,e,s,r,n){var a=function(t,i){e.call(this,t,i)};return n.inherit(a,e),t.extend(a.prototype,{HIGHLIGHTED_OPACITY:.5,type:"bubble",setData:function(t){var e=this.data;this.data=i(t.x).map(function(i,e){return[i,t.y[e],t.z[e]]}),i.isEqual(this.data,e)||(this._dataIsDirty=!0)},getTooltipRows:function(t){var i=s.prototype.getTooltipRows.apply(this,arguments);return i.push([t.zAxisName,t.zValue]),i}}),a}.apply(i,s),!(void 0!==r&&(t.exports=r))},"js_charting/series/RangeSeries":function(t,i,e){var s,r;s=[e("shim/jquery"),e("require/underscore"),e("js_charting/series/AreaSeries"),e("js_charting/series/LineSeries"),e("js_charting/series/MultiSeries"),e("js_charting/util/lang_utils")],r=function(t,i,e,s,r,n){var a=function(t){this.threshold=0,e.call(this,t)};n.inherit(a,e),t.extend(a.prototype,{HIGHLIGHTED_OPACITY:0,UNHIGHLIGHTED_OPACITY:0,UNHIGHLIGHTED_LINE_OPACITY:.25,normalizeProperties:function(i){return t.extend({},e.prototype.normalizeProperties.apply(this,arguments),{lineStyle:"dashed",stacking:"stacked"})},setData:function(t){e.prototype.setData.call(this,t);var s=i(t.y).min(),r=this.threshold;this.threshold=Math.min(s,0),this.threshold!==r&&(this._isDirty=!0)},getConfig:function(){var t=e.prototype.getConfig.call(this);return t.showInLegend=!1,t.threshold=this.threshold,t.stack=this.properties.stack,t}});var h=function(t){e.call(this,t)};n.inherit(h,e),t.extend(h.prototype,{HIGHLIGHTED_OPACITY:.25,UNHIGHLIGHTED_OPACITY:.1,UNHIGHLIGHTED_LINE_OPACITY:.25,normalizeProperties:function(i){return t.extend({},e.prototype.normalizeProperties.apply(this,arguments),{lineStyle:"dashed",stacking:"stacked"})},getConfig:function(){var t=e.prototype.getConfig.call(this);return t.showInLegend=!1,t.stack=this.properties.stack,t}});var o=function(t){r.call(this,t),this.rangeStackId=i.uniqueId("rangeStack_"),this.predictedSeries=new s(this.getPredictedSeriesProperties()),this.lowerSeries=new a(this.getLowerSeriesProperties()),this.upperSeries=new h(this.getUpperSeriesProperties()),this.nestedSeriesList=[this.upperSeries,this.lowerSeries,this.predictedSeries],this.bindNestedSeries()};return n.inherit(o,r),t.extend(o.prototype,{type:"range",update:function(t){this.properties=this.normalizeProperties(t),this.predictedSeries.update(this.getPredictedSeriesProperties()),this.lowerSeries.update(this.getLowerSeriesProperties()),this.upperSeries.update(this.getUpperSeriesProperties())},setData:function(t){this.predictedSeries.setData({y:t.predicted,x:t.x}),this.lowerSeries.setData({y:t.lower,x:t.x}),t.upper=i(t.upper).map(function(e,s){if(i(e).isNull())return null;var r=e-t.lower[s];return Math.max(r,0)}),this.upperSeries.setData({y:t.upper,x:t.x})},getPredictedSeriesProperties:function(){return this.properties},getLowerSeriesProperties:function(){return t.extend({},this.properties,{name:this.properties.names.lower,legendKey:this.predictedSeries.getLegendKey(),stack:this.rangeStackId})},getUpperSeriesProperties:function(){return t.extend({},this.properties,{name:this.properties.names.upper,legendKey:this.predictedSeries.getLegendKey(),stack:this.rangeStackId})},getFieldList:function(){return this.predictedSeries.getFieldList()},applyColorMapping:function(t){this.predictedSeries.applyColorMapping(t);var i=this.predictedSeries.getColor(),e={},s={};e[this.lowerSeries.getName()]=i,this.lowerSeries.applyColorMapping(e),s[this.upperSeries.getName()]=i,this.upperSeries.applyColorMapping(s)},handlePointMouseOver:function(t){this.bringToFront(),this.highlight()},handlePointMouseOut:function(t){},handleLegendMouseOver:function(t){this.bringToFront(),this.highlight()},handleLegendMouseOut:function(t){}}),o}.apply(i,s),!(void 0!==r&&(t.exports=r))},"js_charting/series/MultiSeries":function(t,i,e){var s,r;s=[e("shim/jquery"),e("require/underscore"),e("js_charting/series/Series"),e("js_charting/util/lang_utils")],r=function(t,i,e,s){var r=function(t){e.call(this,t),this.nestedSeriesList=[]};return s.inherit(r,e),t.extend(r.prototype,{normalizeProperties:function(t){return t},isDirty:function(){return i(this.nestedSeriesList).any(function(t){return t.isDirty()})},dataIsDirty:function(){return i(this.nestedSeriesList).any(function(t){return t.dataIsDirty()})},getFieldList:function(){return i(this.nestedSeriesList).invoke("getFieldList")},applyColorMapping:function(t){i(this.nestedSeriesList).invoke("applyColorMapping",t)},matchesName:function(t){return i(this.nestedSeriesList).any(function(i){return i.matchesName(t)})},getConfig:function(){return i(this.nestedSeriesList).invoke("getConfig")},bindNestedSeries:function(){var t=this;i(this.nestedSeriesList).each(function(i){i.on("mouseover",function(i,e,s){t.trigger(i,[e,s])}),i.on("mouseout",function(i,e,s){t.trigger(i,[e,s])}),i.on("click",function(i,e,s){t.trigger(i,[e,s])})})},handlePointMouseOver:function(t){var e=t.seriesName;i(this.nestedSeriesList).each(function(i){i.matchesName(e)?i.handlePointMouseOver(t):i.unHighlight()})},handlePointMouseOut:function(t){var e=t.seriesName;i(this.nestedSeriesList).each(function(i){i.matchesName(e)?i.handlePointMouseOut(t):i.highlight()})},handleLegendMouseOver:function(t){i(this.nestedSeriesList).each(function(i){i.matchesName(t)?i.handleLegendMouseOver(t):i.unHighlight()})},handleLegendMouseOut:function(t){i(this.nestedSeriesList).each(function(i){i.matchesName(t)?i.handleLegendMouseOut(t):i.highlight()})},onChartLoad:function(t){i(this.nestedSeriesList).invoke("onChartLoad",t)},onChartLoadOrRedraw:function(t){i(this.nestedSeriesList).invoke("onChartLoadOrRedraw",t)},redraw:function(t){i(this.nestedSeriesList).invoke("redraw",t)},destroy:function(){this.off(),i(this.nestedSeriesList).invoke("destroy")},bringToFront:function(){i(this.nestedSeriesList).invoke("bringToFront")},highlight:function(){i(this.nestedSeriesList).invoke("highlight")},unHighlight:function(){i(this.nestedSeriesList).invoke("unHighlight")}}),r}.apply(i,s),!(void 0!==r&&(t.exports=r))},"js_charting/util/testing_utils":function(t,i,e){var s,r;s=[e("shim/jquery"),e("require/underscore"),e("shim/splunk"),e("js_charting/util/dom_utils")],r=function(t,i,e,s){var r=function(i,e,s){var r=i.series[e],n=r.type,a=r.data[s],h=t(i.container).offset();if(n in{line:!0,area:!0,scatter:!0})return i.inverted?{x:r.yAxis.translate(a.y)+h.left+i.plotLeft,y:i.plotHeight+i.plotTop+h.top-r.xAxis.translate(a.x)}:{x:a.plotX+h.left+i.plotLeft,y:a.plotY+h.top+i.plotTop};if("column"===n){var o=a.shapeArgs;return{x:a.plotX+h.left+i.plotLeft,y:a.plotY+h.top+i.plotTop+o.height/2}}if("bar"===n)return{x:h.left+i.plotLeft+i.plotWidth-a.shapeArgs.y-a.shapeArgs.height/2,y:h.top+i.plotTop+i.plotHeight-r.xAxis.translate(a.x)-r.barW/2-r.pointXOffset};if("pie"===n){var l=r.center[0],d=r.center[1],c=a.labelPos[0],u=a.labelPos[1];return{x:(l+c)/2+h.left+i.plotLeft,y:(d+u)/2+h.top+i.plotTop}}return{}},n=function(e,s,n){e.$container.addClass("highcharts-wrapper"),e.$container.attr("id")||e.$container.attr("id",e.id);var c=e.hcChart;if(t(c.container).addClass(n),a(c),h(c),c.options.legend.enabled&&d(c),c.tooltip&&c.tooltip.refresh){var u=c.tooltip.refresh,g="_time"===i.find(s,function(t){return"_time"===t})?l:o;c.tooltip.refresh=function(t){u.call(c.tooltip,t),g(c)}}c.getPointCoordinates=i(r).bind(null,c)},a=function(i){var e,s;t(".highcharts-series",t(i.container)).each(function(r,n){e=i.series[r].name,t(n).attr("id",e+"-series"),s=t("rect, path",t(n)),s.each(function(t,i){c(i,"spl-display-object")})})},h=function(e){var s,r;i(e.xAxis).each(function(t,i){var s=e.inverted?"vertical-axis":"horizontal-axis";c(t.axisGroup.element,s),c(t.labelGroup.element,s),c(t.gridGroup.element,"x-axis-"+i+"-grid-group")}),i(e.yAxis).each(function(t,i){var s=e.inverted?"horizontal-axis":"vertical-axis";c(t.axisGroup.element,s),c(t.labelGroup.element,s),c(t.gridGroup.element,"y-axis-"+i+"-grid-group")}),t(".highcharts-axis, .highcharts-axis-labels",t(e.container)).each(function(i,e){s=t("text",t(e)),s.each(function(t,i){c(i,"spl-text-label")})});var n=function(t){i(t.ticks).each(function(t){t.mark&&t.mark.element&&c(t.mark.element,"highcharts-axis-tickmark")})};for(r=0;r<e.xAxis.length;r++)e.xAxis[r].axisTitle&&c(e.xAxis[r].axisTitle.element,"x-axis-title"),n(e.xAxis[r]);for(r=0;r<e.yAxis.length;r++)e.yAxis[r].axisTitle&&c(e.yAxis[r].axisTitle.element,"y-axis-title"),n(e.yAxis[r])},o=function(i){var e,s,r,n=t(".highcharts-tooltip"),a=t("tr",n);for(e=0;e<a.length;e++)r=t("td",a[e]),s=a[e].textContent,t(r[0]).addClass("key"),t(r[0]).addClass(u(s[0]+"-key")),t(r[1]).addClass("value"),t(r[1]).addClass(u(s[0]+"-value"))},l=function(i){var e,s,r,n=t(".highcharts-tooltip"),a=t("tr",n);for(e=0;e<a.length;e++)r=t("td",a[e]),0===e?(t(r[0]).addClass("time-value"),t(r[0]).addClass("time")):(s=a[e].textContent.split(":"),t(r[0]).addClass("key"),t(r[0]).addClass(u(s[0]+"-key")),t(r[1]).addClass("value"),t(r[1]).addClass(u(s[0]+"-value")))},d=function(i){var e;i.legend&&i.legend.down&&c(i.legend.down.element,"page-down-button"),i.legend&&i.legend.up&&c(i.legend.up.element,"page-up-button"),t(i.series).each(function(t,i){i.legendItem&&(e=i.legendItem.textStr,i.legendSymbol&&(c(i.legendSymbol.element,"symbol"),c(i.legendSymbol.element,e+"-symbol")),i.legendLine&&(c(i.legendLine.element,"symbol"),c(i.legendLine.element,e+"-symbol")),i.legendItem&&c(i.legendItem.element,"legend-label"))})},c=function(t,i){t&&(i=u(i),""!==i&&(t.className.baseVal?t.className.baseVal+=" "+i:t.className.baseVal=i))},u=function(t){return t=t.replace(/\s/g,""),/^[-]?[A-Za-z]/.test(t)?t.replace(/[^A-Za-z0-9_-]/g,""):""},g=function(i,e,s,r){i.$container.attr("id")||i.$container.attr("id",i.id);var n=i.$hcContainer;n.addClass(s),p(n,r),e.valueDisplay&&c(e.valueDisplay.element,"gauge-value");var a;for(a in e)/^tickLabel_/.test(a)&&c(e[a].element,"gauge-tick-label");for(a in e)/^colorBand/.test(a)&&c(e[a].element,"gauge-color-band");t(".gauge-color-band").each(function(){t(this).attr("data-band-color",t(this).attr("fill"))}),e.fill&&t(e.fill.element).attr("data-indicator-color",t(e.fill.element).attr("fill")),e.needle&&c(e.needle.element,"gauge-indicator"),e.markerLine&&c(e.markerLine.element,"gauge-indicator")},p=function(t,i){t.attr("data-gauge-value",i)},f=function(t,i){e.JSCharting=e.JSCharting||{},e.JSCharting.chartByIdMap=e.JSCharting.chartByIdMap||{};var s=t.$container.attr("id");e.JSCharting.chartByIdMap[s]=i};return{initializeTestingMetaData:n,gaugeAddTestingMetadata:g,gaugeUpdate:p,createGlobalReference:f,getPointCoordinates:r}}.apply(i,s),!(void 0!==r&&(t.exports=r))},"js_charting/util/async_utils":function(t,i,e){var s,r;s=[e("shim/jquery"),e("require/underscore")],r=function(t,i){var e={};return e.CANCELLED="cancelled",e.requestFrame=i(function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){window.setTimeout(t,50)}}()).bind(window),e.cancelFrame=i(function(){return window.cancelAnimationFrame||window.mozCancelAnimationFrame||function(t){window.clearTimeout(t)}}()).bind(window),e.asyncEach=function(i,s){var r,n=!1,a=i.length,h=t.Deferred(),o=function(t){n||(s(i[t],t),t<a-1?r=e.requestFrame(function(){o(t+1)}):h.resolve())};return h.cancel=function(){n=!0,r&&(e.cancelFrame(r),h.reject(e.CANCELLED))},o(0),h},e}.apply(i,s),!(void 0!==r&&(t.exports=r))},"js_charting/visualizations/charts/SplitSeriesChart":function(t,i,e){var s,r;s=[e("shim/jquery"),e("require/underscore"),e("js_charting/visualizations/charts/Chart"),e("js_charting/util/lang_utils"),e("js_charting/util/parsing_utils")],r=function(t,i,e,s,r){var n=function(t,i){e.call(this,t,i)};return s.inherit(n,e),t.extend(n.prototype,{interAxisSpacing:10,shouldUpdateInPlace:function(){return!!this.selectionWindow&&(this.hcChart&&!this.isDirty())},processProperties:function(){e.prototype.processProperties.call(this),this.allowIndependentYRanges=r.normalizeBoolean(this.properties["layout.splitSeries.allowIndependentYRanges"],!1)},initializeSeriesPropertiesList:function(){var t=e.prototype.initializeSeriesPropertiesList.call(this);return i(t).each(function(t,i){t.yAxis=i}),t},initializeYAxisProperties:function(i,e){var s=t.extend(r.getYAxisProperties(this.properties,0),this.axisColorScheme,{"axis.orientation":this.axesAreInverted?"horizontal":"vertical",isEmpty:e,opposite:!1});return s},setAllSeriesData:function(){e.prototype.setAllSeriesData.call(this),this.globalMin=1/0,this.globalMax=-(1/0),i(this.yFields).each(function(t,i){var e=this.yAxisList[i],s=this.formatAxisData(e,t);this.globalMin=Math.min(this.globalMin,Math.min.apply(Math,s)),this.globalMax=Math.max(this.globalMax,Math.max.apply(Math,s))},this)},getYAxisConfig:function(){var s=e.prototype.getYAxisConfig.call(this);return i(s).each(function(e,s){t.extend(e,{opposite:!1,offset:0,setSizePreHook:i(function(i){t.extend(i.options,this.getAdjustedAxisPosition(i,s,this.yAxisList.length))}).bind(this)});var r=e.getSeriesExtremesPostHook;e.getSeriesExtremesPostHook=i(function(t){this.allowIndependentYRanges||"stacked100"===this.stackMode||(t.dataMax=Math.max(t.dataMax,this.globalMax),t.dataMin=Math.min(t.dataMin,this.globalMin)),r&&r(t)}).bind(this)},this),s},getSeriesConfigList:function(){var t=e.prototype.getSeriesConfigList.call(this);return i(t).each(function(t){t.afterAnimatePostHook=i(this.updateSeriesClipRect).bind(this),t.renderPostHook=i(this.updateSeriesClipRect).bind(this),t.destroyPreHook=i(this.destroySplitSeriesClipRect).bind(this)},this),t},getAdjustedAxisPosition:function(t,i,e){var s=t.chart;if(s.inverted){var r=s.plotWidth,n=(r-this.interAxisSpacing*(e-1))/e;return{left:s.plotLeft+(n+this.interAxisSpacing)*i,width:n}}var a=s.plotHeight,h=(a-this.interAxisSpacing*(e-1))/e;return{top:s.plotTop+(h+this.interAxisSpacing)*i,height:h}},getTooltipConfig:function(){var t=e.prototype.getTooltipConfig.call(this),i=this;return t.getAnchorPostHook=function(t,e,s){return i.axesAreInverted&&(s[0]=t.series.yAxis.left+(t.pointWidth||0)),s},t},updateSeriesClipRect:function(t){var i=t.chart,e=t.yAxis;this.destroySplitSeriesClipRect(t),i.inverted?t.splitSeriesClipRect=i.renderer.clipRect(0,-0,i.plotHeight,e.width):t.splitSeriesClipRect=i.renderer.clipRect(0,0,i.plotWidth,e.height),t.group.clip(t.splitSeriesClipRect)},destroySplitSeriesClipRect:function(t){t.hasOwnProperty("splitSeriesClipRect")&&t.splitSeriesClipRect.destroy()}}),n}.apply(i,s),!(void 0!==r&&(t.exports=r))},"js_charting/visualizations/charts/PieChart":function(t,i,e){var s,r;s=[e("shim/jquery"),e("require/underscore"),e("shim/highcharts"),e("stubs/i18n"),e("js_charting/visualizations/charts/Chart"),e("shim/splunk.util"),e("js_charting/components/PieChartDataLabels"),e("js_charting/helpers/HoverEventThrottler"),e("js_charting/series/series_factory"),e("js_charting/util/lang_utils"),e("js_charting/util/parsing_utils"),e("util/general_utils")],r=function(t,i,e,s,r,n,a,h,o,l,d,c){var u=function(t,i){r.call(this,t,i)};return l.inherit(u,r),t.extend(u.prototype,{SLICE_NAME_FIELD_INDEX:0,SLICE_SIZE_FIELD_INDEX:1,hasLegend:!1,hasXAxis:!1,hasYAxis:!1,shouldUpdateInPlace:function(){return!1},processProperties:function(){r.prototype.processProperties.call(this),this.showLabels=!this.isEmpty()&&d.normalizeBoolean(this.properties["chart.showLabels"],!0)},prepare:function(t,i){r.prototype.prepare.call(this,t,i),this.showLabels&&this.initializeDataLabels()},handleDraw:function(t){return this.destroyCustomRenderer(),this.isEmpty()?(this.benchmark("Draw Started"),this.drawEmptyPieChart(),this.benchmark("Draw Finished"),void t(this,this.benchmarks)):void r.prototype.handleDraw.call(this,t)},initializeFields:function(){var t=this.dataSet.allDataFields();this.sliceNameField=t[this.SLICE_NAME_FIELD_INDEX],this.sliceSizeField=t[this.SLICE_SIZE_FIELD_INDEX]},isEmpty:function(){return!!this.dataSet&&(!this._sizeValuesAreNumeric()||this.dataSet.allDataFields().length<2)},hasTimeXAxis:function(){return!1},_sizeValuesAreNumeric:function(){return c.valuesAreNumeric(this.dataSet.seriesList[this.SLICE_SIZE_FIELD_INDEX])},_getInvalidDataMessage:function(){return!this.dataSet||this.dataSet.allDataFields().length<2?i("No Results").t():this._sizeValuesAreNumeric()?i("Invalid Data").t():i("Numeric Data Required").t()},shouldProgressiveDraw:function(){return!1},initializeSeriesPropertiesList:function(){var i=t.extend({},this.properties,{name:this.sliceSizeField,type:"pie",clickEnabled:this.chartClickEnabled});return[i]},setAllSeriesData:function(){var t,i=this.seriesIsTimeBased(this.sliceNameField);i&&(t=this.dataSet.getSeriesAsFloats("_span")),this.seriesList[0].setData({names:this.dataSet.getSeries(this.sliceNameField),sizes:this.dataSet.getSeriesAsFloats(this.sliceSizeField,{nullValueMode:"zero"}),spans:t,isTimeBased:i})},handlePointMouseOver:function(t){this.seriesList[0].handlePointMouseOver(t),this.dataLabels&&this.dataLabels.selectLabel(t)},handlePointMouseOut:function(t){this.seriesList[0].handlePointMouseOut(t),this.dataLabels&&this.dataLabels.unSelectLabel(t)},handlePointClick:function(t,i){var e=i.index,s=this.seriesList[0].getData()[e],r=s[0],a=s[1].toString(),h=new RegExp("^"+this.seriesList[0].collapseFieldName),o={},l={type:"pointClick",modifierKey:t.modifierKey,name:this.sliceNameField,name2:this.sliceSizeField,value2:a,rowContext:o};if(this.seriesIsTimeBased(this.sliceNameField)&&!h.test(s[0])){var d=s[0];l.value=n.getEpochTimeFromISO(d),l._span=s[2],o["row."+this.sliceNameField]=l.value}else l.value=r,o["row."+this.sliceNameField]=r;o["row."+this.sliceSizeField]=a,this.trigger(l)},initializeDataLabels:function(){var t={fontColor:this.fontColor,foregroundColorSoft:this.foregroundColorSoft,clickEnabled:d.normalizeBoolean(this.properties["chart.clickEnabled"])||d.normalizeBoolean(this.properties.enableChartClick)};this.dataLabels&&this.dataLabels.destroy(),this.dataLabels=new a(t);var i=this,e={highlightDelay:75,unhighlightDelay:50,onMouseOver:function(t){i.seriesList[0].selectPoint(t)},onMouseOut:function(t){i.seriesList[0].unSelectPoint(t)}},s=new h(e);this.dataLabels.on("mouseover",function(t,i){s.mouseOverHappened(i)}),this.dataLabels.on("mouseout",function(t,i){s.mouseOutHappened(i)})},getPlotOptionsConfig:function(){var i=this;return{pie:{dataLabels:t.extend(this.getDataLabelConfig(),{formatter:function(){var t=this;return d.escapeSVG(i.formatDataLabel(t))}}),borderWidth:0,stickyTracking:!1,cursor:this.chartClickEnabled?"pointer":"default",states:{hover:{brightness:0}},tooltip:{followPointer:!1}}}},getDataLabelConfig:function(){return this.showLabels?this.dataLabels.getConfig():{enabled:!1}},applyColorPalette:function(){this.BASE_CONFIG=t.extend({},this.BASE_CONFIG,{colors:i(this.getFieldList()).map(this.computeFieldColor,this)})},addPercentToName:function(t,i){return d.normalizeBoolean(this.properties["chart.showPercent"])?t+", "+s.format_percent(i/100):t},formatDataLabel:function(t){return this.addPercentToName(t.point.name,t.percentage)},getSeriesPointInfo:function(t,i){var e=i.index,r=t.hasPrettyData?t.getPrettyData()[e]:t.getData()[e],n=this.addPercentToName(r[0],i.percentage),a=r[1];return{sliceFieldName:this.sliceNameField,sliceName:n,sliceColor:i.color,yValue:s.format_decimal(a),yPercent:s.format_percent(i.percentage/100)}},drawEmptyPieChart:function(){var t=this.$container.width(),s=this.$container.height(),r=Math.min(.75*s,t/3)/2;this.renderer=new e.Renderer(this.container,t,s),this.renderer.circle(t/2,s/2,r).attr({fill:"rgba(150, 150, 150, 0.3)",stroke:"rgb(200, 200, 200)","stroke-width":1,title:i("Invalid data: second column must be numeric for a pie chart").t()}).add(),this.renderer.text(this._getInvalidDataMessage(),t/2,s/2).attr({align:"center"}).css({fontSize:"20px",color:"rgb(200, 200, 200)"}).add()},setSize:function(t,i){this.isEmpty()?(this.destroyCustomRenderer(),this.drawEmptyPieChart()):r.prototype.setSize.call(this,t,i)},destroy:function(){this.destroyCustomRenderer(),r.prototype.destroy.call(this)},destroyCustomRenderer:function(){this.renderer&&(this.renderer.destroy(),this.renderer=null,this.$container.empty())}}),u}.apply(i,s),!(void 0!==r&&(t.exports=r))},"js_charting/components/PieChartDataLabels":function(t,i,e){var s,r;s=[e("shim/jquery"),e("require/underscore"),e("js_charting/helpers/EventMixin"),e("js_charting/helpers/Formatter"),e("js_charting/helpers/HoverEventThrottler"),e("js_charting/util/dom_utils"),e("js_charting/components/DataLabels"),e("js_charting/util/lang_utils")],r=function(t,i,e,s,r,n,a,h){var o=function(t){a.call(this,t),this.id=i.uniqueId("data_labels_")};return h.inherit(o,a),o.prototype=t.extend(o.prototype,{HIGHLIGHTED_OPACITY:1,UNHIGHLIGHTED_OPACITY:.3,getConfig:function(){return{color:this.properties.fontColor||"#000000",connectorColor:this.properties.foregroundColorSoft,softConnector:!1,distance:20,style:{cursor:this.properties.clickEnabled?"pointer":"default",HcTextStroke:!0},x:.01,drawDataLabelsPreHook:i(this.drawDataLabelsPreHook).bind(this),drawDataLabelsPostHook:i(this.drawDataLabelsPostHook).bind(this)}},onChartLoad:function(){},onChartLoadOrRedraw:function(t){this.removeEventHandlers(),this.hcSeries=t.series[0],this.addEventHandlers()},addEventHandlers:function(){var e=this,s={highlightDelay:125,unhighlightDelay:50,onMouseOver:function(t){e.selectLabel(t),e.trigger("mouseover",[t])},onMouseOut:function(t){e.unSelectLabel(t),e.trigger("mouseout",[t])}},a=new r(s);i(this.hcSeries.data).each(function(i){var s=i.dataLabel.element;n.jQueryOn.call(t(s),"mouseover."+this.id,function(){a.mouseOverHappened(i)}),n.jQueryOn.call(t(s),"mouseout."+this.id,function(){a.mouseOutHappened(i)}),n.jQueryOn.call(t(s),"click."+this.id,function(){e.trigger("click",[i])})},this)},removeEventHandlers:function(){this.hcSeries&&i(this.hcSeries.data).each(function(i){var e=i.dataLabel.element;n.jQueryOff.call(t(e),"."+this.id)},this)},destroy:function(){this.off(),this.removeEventHandlers(),this.hcSeries=null},selectLabel:function(t){var e=this.hcSeries.data[t.index];e.dataLabel.attr("fill-opacity",this.HIGHLIGHTED_OPACITY),i(this.hcSeries.data).chain().without(e).each(function(t){t.dataLabel.attr("fill-opacity",this.UNHIGHLIGHTED_OPACITY)},this)},unSelectLabel:function(t){var e=this.hcSeries.data[t.index];i(this.hcSeries.data).chain().without(e).each(function(t){t.dataLabel.attr("fill-opacity",this.HIGHLIGHTED_OPACITY)},this)},drawDataLabelsPreHook:function(t){var i=t.chart,e=t.options.dataLabels.distance,s=t.center,r=s[2]/2;t.getX=function(t,n){return i.plotLeft+s[0]+(n?-r-e:r+e/2)},this.fitLabelsToPlotArea(t)},fitLabelsToPlotArea:function(i){var e,r,n=i.options,a=n.dataLabels.distance,h=n.size,o=i.chart,l=o.renderer,d=new s(l),c=11,u=9,g=(o.plotWidth-(h+2*a))/2,p=[];for(e=0;e<i.data.length;e++)"undefined"!=typeof i.options.data[e][0]?p.push(i.options.data[e][0]):p.push(i.options.data[e].name);for(r=d.adjustLabels(p,g,u,c,"middle"),e=0;e<i.data.length;e++)i.data[e].name=r.labels[e],i.data[e].dataLabel&&i.data[e].dataLabel.css&&i.data[e].dataLabel.css({fontSize:r.fontSize+"px"});t.extend(!0,n.dataLabels,{style:{fontSize:r.fontSize+"px"},y:Math.floor(r.fontSize/4)-3}),d.destroy()},drawDataLabelsPostHook:function(t){i(t.points).each(function(t){if(t.connector){var i=t.connector.attr("d").split(" ");t.connector.attr({d:this.updateConnectorPath(i)})}},this)},updateConnectorPath:function(t){var e={x:parseFloat(t[1]),y:parseFloat(t[2])},s={x:parseFloat(t[4]),y:parseFloat(t[5])},r={x:parseFloat(t[7]),y:parseFloat(t[8])},n=(r.y-s.y)/(r.x-s.x),a={x:r.x+(e.y-r.y)/n,y:e.y},h=!i.isFinite(n),o=isNaN(a.x)||e.x>=a.x&&a.x<=r.x||e.x<=a.x&&a.x>=r.x,l=!h&&o?["M",e.x,e.y,"L",r.x,r.y]:["M",e.x,e.y,"L",a.x,a.y,"L",r.x,r.y];return l}}),o}.apply(i,s),!(void 0!==r&&(t.exports=r))},"js_charting/visualizations/gauges/RadialGauge":function(t,i,e){var s,r;s=[e("shim/jquery"),e("require/underscore"),e("js_charting/visualizations/gauges/Gauge"),e("js_charting/util/lang_utils"),e("js_charting/util/math_utils")],r=function(t,i,e,s,r){var n=function(t,i){e.call(this,t,i)};return s.inherit(n,e),t.extend(n.prototype,{showMinorTicksByDefault:!1,updateDimensions:function(){e.prototype.updateDimensions.call(this),this.width<this.height&&this.width>=this.MIN_GAUGE_HEIGHT&&(this.$container.height(this.width),this.height=this.width)},processProperties:function(){e.prototype.processProperties.call(this),this.verticalPadding=10,this.minorsPerMajor=10,this.tickWidth=1,this.startAngle=this.computeStartAngle(),this.arcAngle=this.computeArcAngle()},computeStartAngle:function(){var t=parseInt(this.properties["chart.rangeStartAngle"],10);return i(t).isNaN()&&(t=45),r.degreeToRadian(t+90)},computeArcAngle:function(){var t=parseInt(this.properties["chart.rangeArcAngle"],10)||270;return r.degreeToRadian(t)},renderGauge:function(){e.prototype.renderGauge.call(this),this.borderWidth=r.roundWithMin(this.height/60,3),this.tickOffset=r.roundWithMin(this.height/100,3),this.tickLabelOffset=this.borderWidth,this.tickFontSize=r.roundWithMin(this.height/25,10),this.valueFontSize=r.roundWithMin(this.height/15,15),this.isShiny?(this.needleTailLength=r.roundWithMin(this.height/15,10),this.needleTailWidth=r.roundWithMin(this.height/50,6),this.knobWidth=r.roundWithMin(this.height/30,7)):this.needleWidth=r.roundWithMin(this.height/60,3),this.isShiny?(this.bandOffset=this.borderWidth,this.bandThickness=r.roundWithMin(this.height/40,4)):(this.bandOffset=0,this.bandThickness=r.roundWithMin(this.height/30,7)),this.tickColor=this.isShiny?"silver":this.foregroundColor,this.tickFontColor=this.isShiny?"silver":this.fontColor,this.valueColor=this.isShiny?"#b8b167":this.fontColor,this.tickLength=r.roundWithMin(this.height/20,4),this.minorTickLength=this.tickLength/2,this.radius=(this.height-2*(this.verticalPadding+this.borderWidth))/2,this.valueHeight=this.height-(this.radius/4+this.verticalPadding+this.borderWidth),this.needleLength=this.isShiny?this.radius:this.radius-this.bandThickness/2,this.tickStart=this.radius-this.bandOffset-this.bandThickness-this.tickOffset,this.tickEnd=this.tickStart-this.tickLength,this.tickLabelPosition=this.tickEnd-this.tickLabelOffset,this.minorTickEnd=this.tickStart-this.minorTickLength,this.isShiny&&(this.elements.border=this.renderer.circle(this.width/2,this.height/2,this.radius+this.borderWidth).attr({fill:"#edede7",stroke:"silver","stroke-width":1}).add(),this.elements.background=this.renderer.circle(this.width/2,this.height/2,this.radius).attr({fill:"#000000"}).add()),this.showRangeBand&&this.drawColorBand(),this.drawTicks(),this.drawIndicator(this.value),this.showValue&&this.drawValueDisplay(),this.checkOutOfRange(this.value)},updateValueDisplay:function(t){this.elements.valueDisplay.attr({text:t})},drawColorBand:function(){var t,i,e,s=this.radius-this.bandOffset,r=s-this.bandThickness;for(t=0;t<this.ranges.length-1;t++)i=this.translateValue(this.ranges[t]),e=this.translateValue(this.ranges[t+1]),this.elements["colorBand"+t]=this.renderer.arc(this.width/2,this.height/2,s,r,i,e).attr({fill:this.getColorByIndex(t)}).add()},drawMajorTick:function(t){return this.renderer.path(["M",this.width/2+this.tickStart*Math.cos(t),this.height/2+this.tickStart*Math.sin(t),"L",this.width/2+this.tickEnd*Math.cos(t),this.height/2+this.tickEnd*Math.sin(t)]).attr({stroke:this.tickColor,"stroke-width":this.tickWidth}).add()},drawMajorTickLabel:function(t,i){var e=Math.sin(t),s=this.predictTextWidth(i,this.tickFontSize),r=t<1.5*Math.PI?"left":"right",n=t<1.5*Math.PI?-s/2*e*e:s/2*e*e,a=this.tickFontSize/4*e;return this.renderer.text(i,this.width/2+this.tickLabelPosition*Math.cos(t)+n,this.height/2+(this.tickLabelPosition-4)*e+this.tickFontSize/4-a).attr({align:r}).css({color:this.tickFontColor,fontSize:this.tickFontSize+"px"}).add()},drawMinorTick:function(t){return this.renderer.path(["M",this.width/2+this.tickStart*Math.cos(t),this.height/2+this.tickStart*Math.sin(t),"L",this.width/2+this.minorTickEnd*Math.cos(t),this.height/2+this.minorTickEnd*Math.sin(t)]).attr({stroke:this.tickColor,"stroke-width":this.tickWidth}).add()},drawIndicator:function(t){var i,e,s,r,n,a,h=this.normalizedTranslateValue(t),o=Math.cos(h),l=Math.sin(h);this.isShiny?(i=["M",this.width/2-this.needleTailLength*o,this.height/2-this.needleTailLength*l,"L",this.width/2-this.needleTailLength*o+this.needleTailWidth*l,this.height/2-this.needleTailLength*l-this.needleTailWidth*o,this.width/2+this.needleLength*o,this.height/2+this.needleLength*l,this.width/2-this.needleTailLength*o-this.needleTailWidth*l,this.height/2-this.needleTailLength*l+this.needleTailWidth*o,this.width/2-this.needleTailLength*o,this.height/2-this.needleTailLength*l],r={linearGradient:[this.width/2-this.needleTailLength*o,this.height/2-this.needleTailLength*l,this.width/2-this.needleTailLength*o-this.needleTailWidth*l,this.height/2-this.needleTailLength*l+this.needleTailWidth*o],stops:[[0,"#999999"],[.2,"#cccccc"]]},n=["M",this.width/2-(this.needleTailLength-2)*o,this.height/2-(this.needleTailLength-2)*l,"L",this.width/2+(this.needleLength-this.bandOffset/2)*o,this.height/2+(this.needleLength-this.bandOffset/2)*l],a={linearGradient:[this.width/2+this.knobWidth*l,this.height/2-this.knobWidth*o,this.width/2-this.knobWidth*l,this.height/2+this.knobWidth*o],stops:[[0,"silver"],[.5,"black"],[1,"silver"]]}):(i=["M",this.width/2,this.height/2,"L",this.width/2+o*this.needleLength,this.height/2+l*this.needleLength],e=this.foregroundColor,s=this.needleWidth),this.isShiny&&(this.elements.centerKnob&&this.elements.centerKnob.destroy(),this.elements.centerKnob=this.renderer.circle(this.width/2,this.height/2,this.knobWidth).attr({
fill:a}).add()),this.elements.needle&&this.elements.needle.destroy(),this.elements.needle=this.renderer.path(i).attr({fill:r||"",stroke:e||"","stroke-width":s||""}).add(),this.isShiny&&(this.elements.needleRidge&&this.elements.needleRidge.destroy(),this.elements.needleRidge=this.renderer.path(n).attr({stroke:"#cccccc","stroke-width":1}).add())},drawValueDisplay:function(){var t=this.formatValue(this.value);this.elements.valueDisplay=this.renderer.text(t,this.width/2,this.valueHeight).css({color:this.valueColor,fontSize:this.valueFontSize+"px",lineHeight:this.valueFontSize+"px",fontWeight:"bold"}).attr({align:"center"}).add()},getSVG:function(){return this.elements.centerKnob&&this.elements.centerKnob.attr({fill:"#999999"}),this.elements.needle.attr({fill:"#bbbbbb"}),this.elements.needleRidge&&this.elements.needleRidge.attr({stroke:"#999999"}),e.prototype.getSVG.call(this)},normalizedTranslateValue:function(t){return t<this.ranges[0]?this.translateValue(this.ranges[0]):t>this.ranges[this.ranges.length-1]?this.translateValue(this.ranges[this.ranges.length-1]):this.translateValue(t)},translateValue:function(t){var i=this.ranges[this.ranges.length-1]-this.ranges[0],e=t-this.ranges[0];return this.startAngle+e/i*this.arcAngle}}),n}.apply(i,s),!(void 0!==r&&(t.exports=r))},"js_charting/visualizations/gauges/Gauge":function(t,i,e){var s,r;s=[e("shim/jquery"),e("require/underscore"),e("shim/highcharts"),e("js_charting/visualizations/Visualization"),e("js_charting/helpers/Formatter"),e("js_charting/components/ColorPalette"),e("js_charting/util/lang_utils"),e("js_charting/util/parsing_utils"),e("js_charting/util/testing_utils"),e("js_charting/util/math_utils"),e("js_charting/util/dom_utils"),e("js_charting/util/color_utils"),e("stubs/i18n")],r=function(t,i,e,s,r,n,a,h,o,l,d,c,u){var g=function(i,e){s.call(this,i,e),this.$hcContainer=t("<div />").addClass("highcharts-container").appendTo(this.container),this.elements={},this.hasRendered=!1,this.needsRedraw=!0};return a.inherit(g,s),t.extend(g.prototype,{WINDOW_RESIZE_DELAY:100,EXPORT_HEIGHT:400,EXPORT_WIDTH:600,MIN_GAUGE_HEIGHT:25,RESIZED_GAUGE_HEIGHT:200,DEFAULT_COLORS:[8710400,16771072,12529712],DEFAULT_RANGES:[0,30,70,100],MAX_TICKS_PER_RANGE:10,showValueByDefault:!0,showMinorTicksByDefault:!0,getFieldList:function(){return[]},getWidth:function(){var t=s.prototype.getWidth.call(this);return this.exportMode?t||this.EXPORT_WIDTH:t},getHeight:function(){var t=s.prototype.getHeight.call(this);return this.exportMode?t||this.EXPORT_HEIGHT:t=t<this.MIN_GAUGE_HEIGHT?this.RESIZED_GAUGE_HEIGHT:t},prepare:function(i,e){var r=t.extend([],this.ranges);s.prototype.prepare.call(this,i,e),h.arraysAreEquivalent(r,this.ranges)||(this.needsRedraw=!0)},handleDraw:function(t){this.needsRedraw?(this.teardownGauge(),this.renderer=new e.Renderer(this.$hcContainer[0],this.getWidth(),this.getHeight()),this.formatter=new r(this.renderer),this.$container.css("backgroundColor",this.backgroundColor),this.renderGauge(),this.hasRendered=!0,this.testMode&&(o.gaugeAddTestingMetadata(this,this.elements,this.getClassName(),this.value),o.createGlobalReference(this,this.getChartObject())),this.needsRedraw=!1,this.cacheDrawnDimensions()):this.updateValue(this.previousValue||0,this.value),t(this)},setSize:function(t,i){this.hasRendered&&(this.teardownGauge(),this.renderer=new e.Renderer(this.$hcContainer[0],t,i),this.formatter=new r(this.renderer),this.renderGauge(),this.testMode&&o.gaugeAddTestingMetadata(this,this.elements,this.getClassName(),this.value),this.hasRendered=!0,this.cacheDrawnDimensions())},destroy:function(){this.teardownGauge(),this.$hcContainer.remove()},teardownGauge:function(){var t;this.stopWobble(),this.$container.stop();for(t in this.elements)this.elements.hasOwnProperty(t)&&this.elements[t].destroy();this.renderer&&this.renderer.destroy(),this.formatter&&this.formatter.destroy(),this.elements={},this.$hcContainer.empty(),this.$container.css("backgroundColor",""),this.hasRendered=!1},getSVG:function(){return this.$container.find("svg").eq(0).parent().html()},processProperties:function(){s.prototype.processProperties.call(this),this.colors=this.computeColors(),this.colorPalette=new n(this.colors,!0),this.ranges=this.computeRanges(),this.previousValue=this.value,this.value=this.computeValue(),this.majorUnit=parseInt(this.properties["chart.majorUnit"],10)||null,this.showMajorTicks=h.normalizeBoolean(this.properties["chart.showMajorTicks"],!0),this.showMinorTicks=h.normalizeBoolean(this.properties["chart.showMinorTicks"],this.showMinorTicksByDefault),this.showLabels=h.normalizeBoolean(this.properties["chart.showLabels"],!0),this.showValue=h.normalizeBoolean(this.properties["chart.showValue"],this.showValueByDefault),this.showRangeBand=h.normalizeBoolean(this.properties["chart.showRangeBand"],!0),this.usePercentageRange=h.normalizeBoolean(this.properties["chart.usePercentageRange"]),this.usePercentageValue=h.normalizeBoolean(this.properties["chart.usePercentageValue"]),this.isShiny="minimal"!==this.properties["chart.style"]},computeColors:function(){var t=h.stringToHexArray(this.properties["chart.gaugeColors"]||this.properties.gaugeColors);return t&&t.length>0?t:this.DEFAULT_COLORS},computeRanges:function(){var t,e=h.stringToArray(this.properties["chart.rangeValues"]);if(e&&e.length>1)t=e;else{var s=this.dataSet.allDataFields();t=i(s.slice(1)).map(function(t){return this.dataSet.getSeries(t)[0]},this)}var r=-(1/0),n=[];return i(t).each(function(t){var e=l.parseFloat(t);!i(e).isNaN()&&e>r&&(n.push(e),r=e)}),n.length>1?n:this.DEFAULT_RANGES},computeValue:function(){var t=this.dataSet.allDataFields();return t.length>0?l.parseFloat(this.dataSet.getSeries(t[0])[0])||0:0},updateValue:function(t,e){if(t!==e){if(this.shouldAnimateTransition(t,e)&&(this.stopWobble(),this.animateTransition(t,e,i(this.drawIndicator).bind(this),i(this.onAnimationFinished).bind(this))),this.showValue){var s=this.formatValue(e);this.updateValueDisplay(s)}this.testMode&&o.gaugeUpdate(this.$container,e)}},shouldAnimateTransition:function(t,i){return this.normalizedTranslateValue(t)!==this.normalizedTranslateValue(i)},drawTicks:function(){var i,e,s,r=this.calculateTickValues(this.ranges[0],this.ranges[this.ranges.length-1],this.MAX_TICKS_PER_RANGE);for(i=0;i<r.length;i++)e=this.translateValue(r[i]),this.showMajorTicks&&(this.elements["tickMark_"+r[i]]=this.drawMajorTick(e)),this.showLabels&&(s=this.formatTickLabel(r[i]),this.elements["tickLabel_"+r[i]]=this.drawMajorTickLabel(e,s));if(this.showLabels&&(r=this.removeTicksIfOverlap(r)),this.showMinorTicks){var n=r[1]-r[0],a=n/this.minorsPerMajor,h=this.usePercentageRange?this.ranges[0]:r[0]-Math.floor((r[0]-this.ranges[0])/a)*a;for(i=h;i<=this.ranges[this.ranges.length-1];i+=a)(!this.showMajorTicks||t.inArray(i,r)<0)&&(e=this.translateValue(i),this.elements["minorTickMark_"+i]=this.drawMinorTick(e))}},removeTicksIfOverlap:function(t){for(;t.length>2&&this.tickLabelsOverlap(t);)t=this.removeEveryOtherTick(t);return t},tickLabelsOverlap:function(t){var i,e,s,r=3,n=1,a=this.renderer,h=function(t){return t.bBox?t.bBox:(a.cache={},t.getBBox())};for(i=0;i<t.length-1;i++)if(e=this.elements["tickLabel_"+t[i]],s=this.elements["tickLabel_"+t[i+1]],this.formatter.bBoxesOverlap(h(e),h(s),r,n))return!0;return!1},removeEveryOtherTick:function(t){var i,e=[];for(i=0;i<t.length;i++)i%2===0?e.push(t[i]):(this.elements["tickMark_"+t[i]]&&(this.elements["tickMark_"+t[i]].destroy(),delete this.elements["tickMark_"+t[i]]),this.elements["tickLabel_"+t[i]]&&(this.elements["tickLabel_"+t[i]].destroy(),delete this.elements["tickLabel_"+t[i]]));return e},animateTransition:function(t,i,e,s){var r=i-t,n=500,a={duration:n,step:function(i){e(t+i)}.bind(this)};s&&(a.complete=function(){s(i)}),this.$container.stop(!0,!0).css({"animation-progress":0}).animate({"animation-progress":r},a)},onAnimationFinished:function(t){this.checkOutOfRange(t)},checkOutOfRange:function(t){var i,e,s;t<this.ranges[0]?(i=this.ranges[this.ranges.length-1]-this.ranges[0],s=.005*i,e=this.ranges[0]+s,this.wobble(e,s,this.drawIndicator)):t>this.ranges[this.ranges.length-1]&&(i=this.ranges[this.ranges.length-1]-this.ranges[0],s=.005*i,e=this.ranges[this.ranges.length-1]-s,this.wobble(e,s,this.drawIndicator))},formatValue:function(t){return this.usePercentageValue?this.formatPercent((t-this.ranges[0])/(this.ranges[this.ranges.length-1]-this.ranges[0])):this.formatNumber(t)},formatTickLabel:function(t){return this.usePercentageRange?this.formatPercent((t-this.ranges[0])/(this.ranges[this.ranges.length-1]-this.ranges[0])):this.formatNumber(t)},formatNumber:function(t){var i=parseFloat(t),e=Math.abs(i);return e>=1e9||0!==e&&e<.001?u.format_scientific(i,"#.###E0"):u.format_decimal(i)},formatPercent:function(t){return u.format_percent(t)},wobble:function(t,i,e){var s=this,r=0;this.wobbleInterval=setInterval(function(){var n=t+(r%3-1)*i;e.call(s,n),r=(r+1)%3},75)},stopWobble:function(){clearInterval(this.wobbleInterval)},predictTextWidth:function(t,i){return this.formatter.predictTextWidth(t,i)},calculateTickValues:function(t,i,e){var s,r,n=i-t,a=n/(e-1),h=l.nearestPowerOfTen(a),o=h,d=[];if(this.usePercentageRange)for(o=this.majorUnit&&!isNaN(this.majorUnit)?Math.abs(this.majorUnit):10,s=0;s<=100;s+=o)d.push(t+s/100*n);else for(this.majorUnit&&!isNaN(this.majorUnit)?o=Math.abs(this.majorUnit):(n/o>e&&(o*=2),n/o>e&&(o*=2.5),n/o>e&&(o*=2)),r=this.usePercentageRange?t:t>=0?0:t-t%o,s=r;s<=i;s+=o)s>=t&&d.push(parseFloat(s.toFixed(14)));return d},getColorByIndex:function(t){return c.colorFromHex(this.colorPalette.getColor(null,t,this.ranges.length-1))},getChartObject:function(){return{series:[{data:[{y:this.value,onMouseOver:function(){}}]}]}},renderGauge:function(){this.updateDimensions()},translateValue:function(){},normalizedTranslateValue:function(){}}),g}.apply(i,s),!(void 0!==r&&(t.exports=r))},"js_charting/visualizations/gauges/HorizontalFillerGauge":function(t,i,e){var s,r;s=[e("shim/jquery"),e("js_charting/visualizations/gauges/FillerGauge"),e("js_charting/util/lang_utils"),e("js_charting/util/math_utils")],r=function(t,i,e,s){var r=function(t,e){i.call(this,t,e),this.horizontalPadding=20,this.tickOffset=5,this.tickLength=15,this.tickWidth=1,this.tickLabelOffset=5,this.minorTickLength=Math.floor(this.tickLength/2)};return e.inherit(r,i),t.extend(r.prototype,{renderGauge:function(){this.tickFontSize=s.roundWithMinMax(this.width/50,10,20),this.backgroundCornerRad=s.roundWithMinMax(this.width/120,3,5),this.valueFontSize=s.roundWithMinMax(this.width/40,15,25),this.backgroundHeight=3*this.valueFontSize,this.valueBottomPadding=s.roundWithMinMax(this.width/100,5,10),i.prototype.renderGauge.call(this)},drawBackground:function(){var t=this.calculateTickValues(this.ranges[0],this.ranges[this.ranges.length-1],this.MAX_TICKS_PER_RANGE),i=t[t.length-1],e=this.predictTextWidth(this.formatValue(i),this.tickFontSize);this.horizontalPadding=Math.max(this.horizontalPadding,e),this.backgroundWidth=this.width-2*this.horizontalPadding,this.isShiny&&(this.elements.background=this.renderer.rect(this.horizontalPadding,(this.height-this.backgroundHeight)/2,this.backgroundWidth,this.backgroundHeight,this.backgroundCornerRad).attr({fill:"#edede7",stroke:"silver","stroke-width":1}).add()),this.tickStartY=(this.height+this.backgroundHeight)/2+this.tickOffset,this.tickEndY=this.tickStartY+this.tickLength,this.tickLabelStartY=this.tickEndY+this.tickLabelOffset},drawMajorTick:function(t){var i=this.horizontalPadding+t;return this.renderer.path(["M",i,this.tickStartY,"L",i,this.tickEndY]).attr({stroke:this.tickColor,"stroke-width":this.tickWidth}).add()},drawMajorTickLabel:function(t,i){var e=this.horizontalPadding+t;return this.renderer.text(i,e,this.tickLabelStartY+this.tickFontSize).attr({align:"center"}).css({color:this.tickFontColor,fontSize:this.tickFontSize+"px",lineHeight:this.tickFontSize+"px"}).add()},drawMinorTick:function(t){var i=this.horizontalPadding+t;return this.renderer.path(["M",i,this.tickStartY,"L",i,this.tickStartY+this.minorTickLength]).attr({stroke:this.tickColor,"stroke-width":this.minorTickWidth}).add()},drawIndicator:function(t){var i,e,s=this.getFillColor(t),r=this.normalizedTranslateValue(t);r>0?(r=Math.max(r,this.backgroundCornerRad),i=this.horizontalPadding+r,e=this.isShiny?["M",this.horizontalPadding+this.backgroundCornerRad,(this.height-this.backgroundHeight-2)/2,"C",this.horizontalPadding+this.backgroundCornerRad,(this.height-this.backgroundHeight-2)/2,this.horizontalPadding,(this.height-this.backgroundHeight-2)/2,this.horizontalPadding,(this.height-this.backgroundHeight-2)/2+this.backgroundCornerRad,"L",this.horizontalPadding,(this.height+this.backgroundHeight)/2-this.backgroundCornerRad,"C",this.horizontalPadding,(this.height+this.backgroundHeight)/2-this.backgroundCornerRad,this.horizontalPadding,(this.height+this.backgroundHeight)/2,this.horizontalPadding+this.backgroundCornerRad,(this.height+this.backgroundHeight)/2,"L",i,(this.height+this.backgroundHeight)/2,i,(this.height-this.backgroundHeight-2)/2,this.horizontalPadding+this.backgroundCornerRad,(this.height-this.backgroundHeight-2)/2]:["M",this.horizontalPadding,(this.height-this.backgroundHeight)/2,"L",i,(this.height-this.backgroundHeight)/2,i,(this.height+this.backgroundHeight)/2,this.horizontalPadding,(this.height+this.backgroundHeight)/2,this.horizontalPadding,(this.height-this.backgroundHeight)/2]):e=[],this.elements.fill&&this.elements.fill.destroy(),this.elements.fill=this.renderer.path(e).attr({fill:s}).add(),this.showValue&&this.drawValueDisplay(t,s,r)},drawValueDisplay:function(t,i,e){var s,r=this.getDisplayValue(t),n=this.horizontalPadding+e,a=this.getValueColor(i),h=this.formatValue(r),o=this.predictTextWidth(h,this.valueFontSize)+this.valueBottomPadding;e>=o?s=n-o:(s=n+this.valueBottomPadding,a=this.defaultValueColor),this.elements.valueDisplay?this.elements.valueDisplay.attr({text:h,x:s}).css({color:a,fontSize:this.valueFontSize+"px",fontWeight:"bold"}).toFront():this.elements.valueDisplay=this.renderer.text(h,s,this.height/2+this.valueFontSize/4).css({color:a,fontSize:this.valueFontSize+"px",lineHeight:this.valueFontSize+"px",fontWeight:"bold"}).attr({align:"left"}).add()},normalizedTranslateValue:function(t){return t<this.ranges[0]?0:t>this.ranges[this.ranges.length-1]?this.translateValue(this.ranges[this.ranges.length-1]):this.translateValue(t)},translateValue:function(t){var i=this.ranges[this.ranges.length-1]-this.ranges[0],e=t-this.ranges[0];return Math.round(e/i*this.backgroundWidth)}}),r}.apply(i,s),!(void 0!==r&&(t.exports=r))},"js_charting/visualizations/gauges/FillerGauge":function(t,i,e){var s,r;s=[e("shim/jquery"),e("js_charting/visualizations/gauges/Gauge"),e("js_charting/util/lang_utils"),e("js_charting/util/math_utils"),e("js_charting/util/color_utils")],r=function(t,i,e,s,r){var n=function(t,e){i.call(this,t,e),this.minorsPerMajor=5,this.minorTickWidth=1};return e.inherit(n,i),t.extend(n.prototype,{processProperties:function(){i.prototype.processProperties.call(this)},onAnimationFinished:function(){},renderGauge:function(){i.prototype.renderGauge.call(this),this.tickColor=this.foregroundColor,this.tickFontColor=this.fontColor,this.defaultValueColor=this.isShiny?"black":this.fontColor,this.drawBackground(),this.drawTicks(),this.drawIndicator(this.value)},updateValue:function(t,e){var r=s.getDecimalPrecision(t,3),n=s.getDecimalPrecision(e,3);this.valueAnimationPrecision=Math.max(r,n),i.prototype.updateValue.call(this,t,e)},getDisplayValue:function(t){var i=Math.pow(10,this.valueAnimationPrecision);return t!==this.value?Math.round(t*i)/i:t},updateValueDisplay:function(){},shouldAnimateTransition:function(){return!0},getFillColor:function(t){var i;for(i=0;i<this.ranges.length-2&&!(t<=this.ranges[i+1]);i++);return this.getColorByIndex(i)},getValueColor:function(t){var i=r.hexFromColor(t),e=128,s="black",n="white",a=r.getLuminance(i);return a<e?n:s}}),n}.apply(i,s),!(void 0!==r&&(t.exports=r))},"js_charting/visualizations/gauges/VerticalFillerGauge":function(t,i,e){var s,r;s=[e("shim/jquery"),e("js_charting/visualizations/gauges/FillerGauge"),e("js_charting/util/lang_utils"),e("js_charting/util/math_utils")],r=function(t,i,e,s){var r=function(t,e){i.call(this,t,e),this.tickWidth=1};return e.inherit(r,i),t.extend(r.prototype,{renderGauge:function(){this.tickOffset=s.roundWithMin(this.height/100,3),this.tickLength=s.roundWithMin(this.height/20,4),this.tickLabelOffset=s.roundWithMin(this.height/60,3),this.tickFontSize=s.roundWithMin(this.height/20,10),this.minorTickLength=this.tickLength/2,this.backgroundCornerRad=s.roundWithMin(this.height/60,3),this.valueBottomPadding=s.roundWithMin(this.height/30,5),this.valueFontSize=s.roundWithMin(this.height/20,12),i.prototype.renderGauge.call(this)},drawBackground:function(){this.verticalPadding=10+this.tickFontSize/2,this.backgroundWidth=s.roundWithMin(this.height/4,50),this.backgroundHeight=this.height-2*this.verticalPadding;var t=this.determineMaxValueWidth(this.ranges,this.valueFontSize)+10;this.backgroundWidth=Math.max(this.backgroundWidth,t),this.isShiny&&(this.elements.background=this.renderer.rect((this.width-this.backgroundWidth)/2,this.verticalPadding,this.backgroundWidth,this.backgroundHeight,this.backgroundCornerRad).attr({fill:"#edede7",stroke:"silver","stroke-width":1}).add()),this.tickStartX=(this.width+this.backgroundWidth)/2+this.tickOffset,this.tickEndX=this.tickStartX+this.tickLength,this.tickLabelStartX=this.tickEndX+this.tickLabelOffset},determineMaxValueWidth:function(t,i){if(this.usePercentageValue)return this.predictTextWidth("100.00%",i);var e,s,r=0;for(e=0;e<t.length;e++)s=""+t[e],0!==e&&e!==t.length-1||(s+="0"),r=Math.max(r,this.predictTextWidth(s,i));return r},drawMajorTick:function(t){var i=this.verticalPadding+this.backgroundHeight-t;return this.renderer.path(["M",this.tickStartX,i,"L",this.tickEndX,i]).attr({stroke:this.tickColor,"stroke-width":this.tickWidth}).add()},drawMajorTickLabel:function(t,i){var e=this.verticalPadding+this.backgroundHeight-t;return this.renderer.text(i,this.tickLabelStartX,e+this.tickFontSize/4).attr({align:"left"}).css({color:this.tickFontColor,fontSize:this.tickFontSize+"px",lineHeight:this.tickFontSize+"px"}).add()},drawMinorTick:function(t){var i=this.verticalPadding+this.backgroundHeight-t;return this.renderer.path(["M",this.tickStartX,i,"L",this.tickStartX+this.minorTickLength,i]).attr({stroke:this.tickColor,"stroke-width":this.minorTickWidth}).add()},drawIndicator:function(t){var i,e,s=this.getFillColor(t),r=this.normalizedTranslateValue(t);r>0?(r=Math.max(r,this.backgroundCornerRad),i=this.verticalPadding+this.backgroundHeight-r,e=this.isShiny?["M",(this.width-this.backgroundWidth-2)/2,this.height-this.verticalPadding-this.backgroundCornerRad,"C",(this.width-this.backgroundWidth-2)/2,this.height-this.verticalPadding-this.backgroundCornerRad,(this.width-this.backgroundWidth-2)/2,this.height-this.verticalPadding,(this.width-this.backgroundWidth-2)/2+this.backgroundCornerRad,this.height-this.verticalPadding,"L",(this.width+this.backgroundWidth-2)/2-this.backgroundCornerRad,this.height-this.verticalPadding,"C",(this.width+this.backgroundWidth-2)/2-this.backgroundCornerRad,this.height-this.verticalPadding,(this.width+this.backgroundWidth-2)/2,this.height-this.verticalPadding,(this.width+this.backgroundWidth-2)/2,this.height-this.verticalPadding-this.backgroundCornerRad,"L",(this.width+this.backgroundWidth-2)/2,i,(this.width-this.backgroundWidth-2)/2,i,(this.width-this.backgroundWidth-2)/2,this.height-this.verticalPadding-this.backgroundCornerRad]:["M",(this.width-this.backgroundWidth)/2,this.height-this.verticalPadding,"L",(this.width+this.backgroundWidth)/2,this.height-this.verticalPadding,(this.width+this.backgroundWidth)/2,i,(this.width-this.backgroundWidth)/2,i,(this.width-this.backgroundWidth)/2,this.height-this.verticalPadding]):e=[],this.elements.fill&&this.elements.fill.destroy(),this.elements.fill=this.renderer.path(e).attr({fill:s}).add(),this.showValue&&this.drawValueDisplay(t,s)},drawValueDisplay:function(t,i){var e,s=this.getDisplayValue(t),r=this.normalizedTranslateValue(t),n=this.verticalPadding+this.backgroundHeight-r,a=this.valueFontSize+this.valueBottomPadding,h=this.getValueColor(i),o=this.formatValue(s);r>=a?e=n+a-this.valueBottomPadding:(e=n-this.valueBottomPadding,h=this.defaultValueColor),this.elements.valueDisplay?this.elements.valueDisplay.attr({text:o,y:e}).css({color:h,fontSize:this.valueFontSize+"px",fontWeight:"bold"}).toFront():this.elements.valueDisplay=this.renderer.text(o,this.width/2,e).css({color:h,fontSize:this.valueFontSize+"px",lineHeight:this.valueFontSize+"px",fontWeight:"bold"}).attr({align:"center"}).add()},normalizedTranslateValue:function(t){return t<this.ranges[0]?0:t>this.ranges[this.ranges.length-1]?this.translateValue(this.ranges[this.ranges.length-1])+5:this.translateValue(t)},translateValue:function(t){var i=this.ranges[this.ranges.length-1]-this.ranges[0],e=t-this.ranges[0];return Math.round(e/i*this.backgroundHeight)}}),r}.apply(i,s),!(void 0!==r&&(t.exports=r))},"js_charting/visualizations/gauges/HorizontalMarkerGauge":function(t,i,e){var s,r;s=[e("shim/jquery"),e("js_charting/visualizations/gauges/MarkerGauge"),e("js_charting/util/lang_utils"),e("js_charting/util/math_utils")],r=function(t,i,e,s){var r=function(t,e){i.call(this,t,e),this.horizontalPadding=20,this.tickOffset=5,this.tickLength=15,this.tickWidth=1,this.tickLabelOffset=5,this.minorTickLength=Math.floor(this.tickLength/2),this.bandHeight=this.isShiny?15:35};return e.inherit(r,i),t.extend(r.prototype,{renderGauge:function(){this.markerWindowHeight=s.roundWithMinMax(this.width/30,30,80),this.markerSideWidth=this.markerWindowHeight/2,this.markerSideCornerRad=this.markerSideWidth/3,this.bandOffsetBottom=5+this.markerWindowHeight/2,this.bandOffsetTop=5+this.markerWindowHeight/2,this.tickFontSize=s.roundWithMinMax(this.width/50,10,20),this.backgroundCornerRad=s.roundWithMinMax(this.width/120,3,5),this.valueFontSize=s.roundWithMinMax(this.width/40,15,25),this.valueOffset=this.markerSideWidth+10,this.tickLabelPadding=this.tickFontSize/2,this.bandOffsetX=this.isShiny?this.tickLabelPadding:0,this.backgroundHeight=this.bandOffsetX+this.bandHeight+this.tickOffset+this.tickLength+this.tickLabelOffset+this.tickFontSize+this.tickLabelPadding,i.prototype.renderGauge.call(this)},drawBackground:function(t){t=this.calculateTickValues(this.ranges[0],this.ranges[this.ranges.length-1],this.MAX_TICKS_PER_RANGE);var i=t[t.length-1],e=this.predictTextWidth(this.formatValue(i),this.tickFontSize);this.bandOffsetBottom=Math.max(this.bandOffsetBottom,e),this.bandOffsetTop=Math.max(this.bandOffsetTop,e),this.backgroundWidth=this.width-2*this.horizontalPadding,this.bandWidth=this.backgroundWidth-(this.bandOffsetBottom+this.bandOffsetTop),this.isShiny&&(this.elements.background=this.renderer.rect(this.horizontalPadding,(this.height-this.backgroundHeight)/2,this.backgroundWidth,this.backgroundHeight,this.backgroundCornerRad).attr({fill:"#edede7",stroke:"silver","stroke-width":1}).add())},drawBand:function(){var t,i,e,s=this.horizontalPadding+this.bandOffsetBottom,r=(this.height-this.backgroundHeight)/2+this.bandOffsetX;for(t=0;t<this.ranges.length-1;t++)i=this.translateValue(this.ranges[t]),e=this.translateValue(this.ranges[t+1]),this.elements["colorBand"+t]=this.renderer.rect(s+i,r,e-i,this.bandHeight,this.bandCornerRad).attr({fill:this.getColorByIndex(t)}).add();this.tickStartY=(this.height-this.backgroundHeight)/2+(this.bandOffsetX+this.bandHeight)+this.tickOffset,this.tickEndY=this.tickStartY+this.tickLength,this.tickLabelStartY=this.tickEndY+this.tickLabelOffset},drawMajorTick:function(t){var i=this.horizontalPadding+this.bandOffsetBottom+t;return this.renderer.path(["M",i,this.tickStartY,"L",i,this.tickEndY]).attr({stroke:this.tickColor,"stroke-width":this.tickWidth}).add()},drawMajorTickLabel:function(t,i){var e=this.horizontalPadding+this.bandOffsetBottom+t;return this.renderer.text(i,e,this.tickLabelStartY+this.tickFontSize).attr({align:"center"}).css({color:this.tickFontColor,fontSize:this.tickFontSize+"px",lineHeight:this.tickFontSize+"px"}).add()},drawMinorTick:function(t){var i=this.horizontalPadding+this.bandOffsetBottom+t;return this.renderer.path(["M",i,this.tickStartY,"L",i,this.tickStartY+this.minorTickLength]).attr({stroke:this.tickColor,"stroke-width":this.minorTickWidth}).add()},drawIndicator:function(t){var i=this.normalizedTranslateValue(t),e=this.isShiny?(this.height-this.backgroundHeight)/2:(this.height-this.backgroundHeight)/2-10,s=this.isShiny?e+this.backgroundHeight:e+this.bandHeight+20,r=this.horizontalPadding+this.bandOffsetBottom+i,n=3,a=this.foregroundColor,h=["M",r,e,"L",r,s];if(this.isShiny){var o=["M",r-this.markerWindowHeight/2,e,"L",r-this.markerWindowHeight/2,e-(this.markerSideWidth-this.markerSideCornerRad),"C",r-this.markerWindowHeight/2,e-(this.markerSideWidth-this.markerSideCornerRad),r-this.markerWindowHeight/2,e-this.markerSideWidth,r-this.markerWindowHeight/2+this.markerSideCornerRad,e-this.markerSideWidth,"L",r+this.markerWindowHeight/2-this.markerSideCornerRad,e-this.markerSideWidth,"C",r+this.markerWindowHeight/2-this.markerSideCornerRad,e-this.markerSideWidth,r+this.markerWindowHeight/2,e-this.markerSideWidth,r+this.markerWindowHeight/2,e-(this.markerSideWidth-this.markerSideCornerRad),"L",r+this.markerWindowHeight/2,e,r-this.markerWindowHeight,e],l=["M",r-this.markerWindowHeight/2,s,"L",r-this.markerWindowHeight/2,s+(this.markerSideWidth-this.markerSideCornerRad),"C",r-this.markerWindowHeight/2,s+(this.markerSideWidth-this.markerSideCornerRad),r-this.markerWindowHeight/2,s+this.markerSideWidth,r-this.markerWindowHeight/2+this.markerSideCornerRad,s+this.markerSideWidth,"L",r+this.markerWindowHeight/2-this.markerSideCornerRad,s+this.markerSideWidth,"C",r+this.markerWindowHeight/2-this.markerSideCornerRad,s+this.markerSideWidth,r+this.markerWindowHeight/2,s+this.markerSideWidth,r+this.markerWindowHeight/2,s+(this.markerSideWidth-this.markerSideCornerRad),"L",r+this.markerWindowHeight/2,s,r-this.markerWindowHeight,s],d=["M",r-this.markerWindowHeight/2,e,"L",r-this.markerWindowHeight/2,s,r+this.markerWindowHeight/2,s,r+this.markerWindowHeight/2,e,r-this.markerWindowHeight/2,e],c=["M",r-1,e,"L",r-1,s];a="red",n=1,this.elements.markerLHS&&this.elements.markerLHS.destroy(),this.elements.markerLHS=this.renderer.path(o).attr({fill:"#cccccc"}).add(),this.elements.markerRHS&&this.elements.markerRHS.destroy(),this.elements.markerRHS=this.renderer.path(l).attr({fill:"#cccccc"}).add(),this.elements.markerWindow&&this.elements.markerWindow.destroy(),this.elements.markerWindow=this.renderer.rect(r-this.markerWindowHeight/2,e,this.markerWindowHeight,this.backgroundHeight,0).attr({fill:"rgba(255, 255, 255, 0.3)"}).add(),this.elements.markerBorder&&this.elements.markerBorder.destroy(),this.elements.markerBorder=this.renderer.path(d).attr({stroke:"white","stroke-width":2}).add(),this.elements.markerUnderline&&this.elements.markerUnderline.destroy(),this.elements.markerUnderline=this.renderer.path(c).attr({stroke:"white","stroke-width":2}).add()}this.elements.markerLine&&this.elements.markerLine.destroy(),this.elements.markerLine=this.renderer.path(h).attr({stroke:a,"stroke-width":n}).add(),this.showValue&&this.drawValueDisplay(t)},drawValueDisplay:function(t){var i=this.formatValue(t),e=this.normalizedTranslateValue(t),s=this.horizontalPadding+this.bandOffsetBottom+e;this.elements.valueDisplay?this.elements.valueDisplay.attr({text:i,x:s}):this.elements.valueDisplay=this.renderer.text(i,s,(this.height-this.backgroundHeight)/2-this.valueOffset).css({color:"black",fontSize:this.valueFontSize+"px",lineHeight:this.valueFontSize+"px",fontWeight:"bold"}).attr({align:"center"}).add()},normalizedTranslateValue:function(t){return t<this.ranges[0]?0:t>this.ranges[this.ranges.length-1]?this.translateValue(this.ranges[this.ranges.length-1]):this.translateValue(t)},translateValue:function(t){var i=this.ranges[this.ranges.length-1]-this.ranges[0],e=t-this.ranges[0];return Math.round(e/i*this.bandWidth)}}),r}.apply(i,s),!(void 0!==r&&(t.exports=r))},"js_charting/visualizations/gauges/MarkerGauge":function(t,i,e){var s,r;s=[e("shim/jquery"),e("js_charting/visualizations/gauges/Gauge"),e("js_charting/util/lang_utils")],r=function(t,i,e){var s=function(t,e){i.call(this,t,e),this.bandCornerRad=0,this.tickLabelPaddingRight=10,this.minorsPerMajor=5,this.minorTickWidth=1,this.tickWidth=1};return e.inherit(s,i),t.extend(s.prototype,{showValueByDefault:!1,renderGauge:function(){i.prototype.renderGauge.call(this),this.tickColor=this.isShiny?"black":this.foregroundColor,this.tickFontColor=this.isShiny?"black":this.fontColor,this.valueOffset=this.isShiny?this.markerSideWidth+10:this.valueFontSize,this.drawBackground(),this.showRangeBand&&this.drawBand(),this.drawTicks(),this.drawIndicator(this.value),this.checkOutOfRange(this.value)},updateValueDisplay:function(){}}),s}.apply(i,s),!(void 0!==r&&(t.exports=r))},"js_charting/series/ColumnSeries":function(t,i,e){var s,r;s=[e("shim/jquery"),e("require/underscore"),e("js_charting/series/ManyShapeOptimizedSeries"),e("js_charting/util/lang_utils")],r=function(t,i,e,s){var r=function(t){e.call(this,t)};return s.inherit(r,e),t.extend(r.prototype,{CHARTING_PROPERTY_WHITELIST:i.union(["columnSpacing"],e.prototype.CHARTING_PROPERTY_WHITELIST),type:"column",getConfig:function(){var t=e.prototype.getConfig.call(this);return t.pointPadding=this.computeColumnSpacing(this.properties.columnSpacing),t.groupPadding=this.computeColumnGroupSpacing(this.properties.seriesSpacing),t},bringToFront:function(){}}),r}.apply(i,s),!(void 0!==r&&(t.exports=r))}});