webpackJsonp([19],{0:function(e,t,i){var s,n;i.p=function(){function e(){for(var e,i,s="",n=0,o=arguments.length;n<o;n++)e=arguments[n].toString(),i=e.length,i>1&&"/"==e.charAt(i-1)&&(e=e.substring(0,i-1)),s+="/"!=e.charAt(0)?"/"+e:e;if("/"!=s){var a=s.split("/"),r=a[1];if("static"==r||"modules"==r){var l=s.substring(r.length+2,s.length);s="/"+r,window.$C.BUILD_NUMBER&&(s+="/@"+window.$C.BUILD_NUMBER),window.$C.BUILD_PUSH_NUMBER&&(s+="."+window.$C.BUILD_PUSH_NUMBER),"app"==a[2]&&(s+=":"+t("APP_BUILD",0)),s+="/"+l}}var h=t("MRSPARKLE_ROOT_PATH","/"),d=t("DJANGO_ROOT_PATH",""),c=t("LOCALE","en-US"),p="";return p=d&&s.substring(0,d.length)===d?s.replace(d,d+"/"+c.toLowerCase()):"/"+c+s,""==h||"/"==h?p:h+p}function t(e,t){if(window.$C&&window.$C.hasOwnProperty(e))return window.$C[e];if(void 0!==t)return t;throw new Error("getConfigValue - "+e+" not set, no default provided")}return e("/static/app/itsi/build/pages")+"/"}(),s=[i("require/underscore"),i("shim/jquery"),i("require/backbone"),i(4),i(2321)],n=function(e,t,i,s,n){var o=s(e("ITSI Diagnostics").t()),a=t("#app-main-layout"),r=new n({el:a,pageChrome:o});r.render()}.apply(t,s),!(void 0!==n&&(e.exports=n))},2321:function(e,t,i){function s(e){return e&&e.__esModule?e:{default:e}}var n,o,a=i(241),r=s(a);n=[i("require/underscore"),i("shim/jquery"),i("require/backbone"),i("shim/splunk.util"),i("splunkjs/mvc/searchmanager"),i("splunkjs/mvc/searchbarview"),i("splunkjs/mvc/searchcontrolsview"),i("splunkjs/mvc/timelineview"),i("splunkjs/mvc/eventsviewerview"),i("views/shared/controls/ControlGroup"),i(2328)],o=function(e,t,i,s,n,o,a,l,h,d,c){var p=e.template(c),u=i.View.extend({initialize:function(t){this.pageChrome=t&&t.pageChrome||{urlTokenModel:new i.Model({view:"standard"})};var s=i.Model.extend({defaults:function(){return{featureAreas:{All:'index=_internal error itsi (sourcetype != "splunk_web_access")  (sourcetype != "splunkd_ui_access")',"Backfill Searches":"index=_internal error sourcetype=itsi_internal_log itsi_backfill","Bulk CSV Imports":"index=_internal error sourcetype=itsi_internal_log itsi.csv",Commands:"index=_internal error sourcetype=itsi_internal_log itsi.command","Correlation Searches":"index=_internal error sourcetype=itsi_internal_log correlation","Deep Dives":"index=_internal error sourcetype=itsi_internal_log itsi_deep_dive",Entities:"index=_internal error sourcetype=itsi_internal_log itsi_entity","Glass Tables":"index=_internal error sourcetype=itsi_internal_log itsi_glass_table",Migration:"index=_internal error sourcetype=itsi_internal_log itsi_migration","Persistent Store":"index=_internal error sourcetype=itsi_internal_log itoa.storage.statestore","REST Endpoints":"index=_internal error itoa_interface",Services:"index=_internal error sourcetype=itsi_internal_log itsi_service","Setup/Scheduled Modules":'index=_internal error itsi modular input (sourcetype != "splunkd_ui_access")',"User Access":"index=_internal error sourcetype=itsi_internal_log itsi.user_access","Maintenance Operations":"index=_internal sourcetype=itsi_internal_log error maintenance"},featureArea:"All",featureErrorsSearch:""}},initialize:function(){this.on("change:featureArea",this.switchErrorsSearch,this),this.set("featureErrorsSearch",this.get("featureAreas")[this.get("featureArea")||"All"]||"")},switchErrorsSearch:function(t){var i=t.get("featureArea"),s="";e.isString(i)&&i in this.get("featureAreas")&&(s=(t.get("featureAreas")||{})[i]||""),this.set("featureErrorsSearch",s)}});this.selectedFeatureAreaModel=new s},render:function(){this.$el.html(p());var i=e.map((0,r.default)(this.selectedFeatureAreaModel.get("featureAreas")||{}),function(e){return{label:e,value:e}});return this.featuresDropdown=new d({controlType:"SyntheticSelect",controlClass:"features-control",controlOptions:{toggleClassName:"btn",model:this.selectedFeatureAreaModel,modelAttribute:"featureArea",items:i,popdownOptions:{attachDialogTo:"body"}},label:e("Feature Area").t()}),this.$("#features-area").append(this.featuresDropdown.render().el),this.diagSearch=new n({id:"diag_search",app:"search",preview:!0,cache:!0,status_buckets:300,required_field_list:"*",search:this.selectedFeatureAreaModel.get("featureErrorsSearch")||"",earliest_time:"-1d",latest_time:"now"}),this.diagTimeline=new l({id:"diag_timeline",managerid:"diag_search",el:t("#diag-timeline")}).render(),this.diagSearchBar=new o({id:"diag_search_bar",managerid:"diag_search",el:t("#diag-search-bar")}).render(),this.diagSearchControls=new a({id:"diag_search_controls",managerid:"diag_search",el:t("#diag-search-controls")}).render(),this.diagResultsTable=new h({id:"diag_results_table",managerid:"diag_search",el:t("#diag-results-table")}).render(),this.diagTimeline.on("change",function(){this.diagSearch.search.set(this.diagTimeline.val())}.bind(this)),this.diagSearchBar.on("change",function(){this.diagSearch.query.set("search",this.diagSearchBar.val())}.bind(this)),this.diagSearchBar.timerange.on("change",function(){this.diagSearch.search.set(this.diagSearchBar.timerange.val())}.bind(this)),this.selectedFeatureAreaModel.on("change:featureErrorsSearch",function(t){var i=t.get("featureErrorsSearch");e.isString(i)&&this.diagSearchBar.val(i)}.bind(this)),this}});return u}.apply(t,n),!(void 0!==o&&(e.exports=o))},2322:function(e,t,i){t=e.exports=i(14)(),t.push([e.id,".shared-jobcontrols{height:20px;position:relative}.shared-jobcontrols .job-menu{white-space:nowrap;display:inline-block}.shared-jobcontrols .job-menu .icon-info-circle,.shared-jobcontrols .job-menu .icon-warning{font-size:16px;line-height:14px;color:#f2b827;display:inline-block;vertical-align:-2px}.shared-jobcontrols .job-menu .icon-info-circle{color:#65a637}.shared-jobcontrols .cancel,.shared-jobcontrols .playpause,.shared-jobcontrols .reload,.shared-jobcontrols .stop{font-size:13px}ul.shared-jobcontrols-menu-messages.hidden{display:none}ul.shared-jobcontrols-menu-messages.hidden+ul,ul.shared-jobcontrols-menu-messages.hidden+ul>li:first-child>a{border-top-left-radius:3px;border-top-right-radius:3px;border-top:none}ul.shared-jobcontrols-menu-messages>li{border-top:1px dotted #ccc;padding:5px 10px}ul.shared-jobcontrols-menu-messages>li:first-child{border:none}ul.shared-jobcontrols-menu-messages>li.job_message a{display:inline;padding:0 0 0 2px;border:0}ul.shared-jobcontrols-menu-messages>li.job_message a:hover{background:none;text-decoration:underline}ul.shared-jobcontrols-menu-messages+.controls{margin-top:0}.shared-jobcontrols-menu .message-indicator{padding-top:5px}.shared-jobcontrols-menu .message-indicator .alert{padding-left:0;display:inline;border:none}.shared-jobcontrols-menu-editmodal .control-label,.shared-jobcontrols-menu-sendbackgroundmodal-success .control-label{width:140px}.shared-jobcontrols-menu-editmodal .controls,.shared-jobcontrols-menu-sendbackgroundmodal-success .controls{margin-left:160px}.shared-jobcontrols-menu-editmodal .icon-bookmark,.shared-jobcontrols-menu-sendbackgroundmodal-success .icon-bookmark{font-size:16px}.shared-jobcontrols-menu-editmodal .bookmark>ir,.shared-jobcontrols-menu-sendbackgroundmodal-success .bookmark>ir{width:0}.shared-jobcontrols-menu-editmodal p,.shared-jobcontrols-menu-sendbackgroundmodal-success p{margin-bottom:20px}.shared-jobcontrols-menu-sendbackgroundmodal-success .control-label{text-align:left;width:100px}.shared-jobcontrols-menu-sendbackgroundmodal-success .controls{margin-left:120px}@media print{.shared-jobcontrols,.tooltip{display:none!important}}",""])},2323:function(e,t,i){t=e.exports=i(14)(),t.push([e.id,".dropdown-toggle-search-mode i[class^=icon-]:before{vertical-align:top}.dropdown-menu-search-mode{width:26em}.dropdown-menu-search-mode li>a{padding-left:45px}.dropdown-menu-search-mode .link-description{color:#999;display:block;font-size:.85em}.dropdown-menu-search-mode .link-icon{display:block;position:absolute;color:#999;left:0;top:5px;font-size:2em;width:1.5em;line-height:1em;opacity:.8}.dropdown-menu-search-mode a .icon-check{left:30px}.dropdown-menu-search-mode li>a{white-space:normal}",""])},2325:function(e,t,i){t=e.exports=i(14)(),t.push([e.id,'.shared-jobstatus{clear:both;min-height:22px;margin-top:5px;padding:0 20px 5px;position:relative}.shared-jobstatus:after,.shared-jobstatus:before{display:table;content:"";line-height:0}.shared-jobstatus:after{clear:both}.shared-jobstatus .loader{float:left;margin-right:5px;margin-top:2px}.shared-jobstatus .view-scanned{line-height:19px;min-height:19px;margin-right:6px}.shared-jobstatus .icon-warning-paused{color:#f2b827;font-size:200%;display:inline-block;margin-right:3px;vertical-align:middle;line-height:16px}.shared-jobstatus .status{padding:5px 0;margin-right:5px;float:left}.shared-jobstatus .status .icon-check{color:#65a637}.shared-jobstatus .sampling-mode{float:left}.export-print-group{margin-right:20px}.export-print-group .icon-export,.export-print-group .icon-print,.export-print-group .icon-share{font-size:15px}.shared-jobstatus-samplingmode-dialog .control{display:inline-block}.shared-jobstatus-samplingmode-dialog .control input{margin:0 5px;width:45px;padding-right:10px}.shared-jobstatus-samplingmode-dialog .alert{padding-right:0;margin-bottom:10px}.shared-jobstatus-searchmode{margin-left:5px;position:relative}.shared-jobstatus-searchmode>.btn-pill{padding-left:20px}.shared-jobstatus-searchmode>.btn-pill>[class*=" icon-"],.shared-jobstatus-searchmode>.btn-pill>[class^=icon-]{font-size:15px;line-height:20px;width:20px;text-align:center;position:absolute;top:3px;left:0}.shared-jobstatus-buttons{margin-left:5px}.shared-jobstatus-autopause{clear:both;padding-top:10px}.shared-jobstatus-autopause>.alert{margin-bottom:0}.shared-jobstatus-buttons-sharedialog .control-label{width:140px}.shared-jobstatus-buttons-sharedialog .controls{margin-left:160px}.shared-jobstatus-buttons-sharedialog .icon-bookmark{font-size:16px}.shared-jobstatus-buttons-sharedialog .bookmark>ir{width:0}.shared-jobstatus-buttons-sharedialog p{margin-bottom:20px}.shared-jobstatus-buttons-sharedialog .control-label{text-align:left;width:100px}.shared-jobstatus-buttons-sharedialog .controls{margin-left:120px}.shared-jobstatus-buttons-exportresultsdialog .rerun-msg a{white-space:nowrap}@media print{.shared-jobstatus-buttons,.shared-jobstatus-searchmode,.shared-jobstatus-spinner,.tooltip{display:none!important}}',""])},2328:function(e,t){e.exports='<div style="padding-left: 20px">\n\t<div><h3><%- _(\'Browse ITSI Logs by feature areas.\').t() %></h3></div>\n\t<div id="features-area">\n\t</div>\n\t<div id="search-area">\n\t\t<div id="diag-search-bar"></div>\n\t\t<div id="diag-search-controls"></div>\n\t\t<div id="diag-timeline"></div>\n\t\t<div id="diag-results-table"></div>\n\t</div>\n</div>'},"views/shared/jobcontrols/Master":function(e,t,i){var s,n;s=[i("shim/jquery"),i("require/underscore"),e,i("views/Base"),i("views/shared/jobcontrols/Cancel"),i("views/shared/jobcontrols/Stop"),i("views/shared/jobcontrols/PlayPause"),i("views/shared/jobcontrols/Reload"),i("views/shared/jobcontrols/menu/Master"),i("views/shared/JobNotFoundModal"),i("util/console"),i("views/shared/jobcontrols/Master.pcss")],n=function(e,t,i,s,n,o,a,r,l,h,d,c){return s.extend({moduleId:i.id,className:"pull-left includes-job-menu",initialize:function(){s.prototype.initialize.apply(this,arguments);var e={showJobMenu:!0,allowDelete:!0,allowSendBackground:!0,allowTouch:!1,enableReload:!1,externalJobLinkPage:this.model.application&&this.model.application.get("page")||"search"};t.defaults(this.options,e),this.options.showJobMenu?this.children.menu=new l({model:{searchJob:this.model.searchJob,application:this.model.application,appLocal:this.model.appLocal,report:this.model.report,user:this.model.user},allowDelete:this.options.allowDelete,allowSendBackground:this.options.allowSendBackground,allowTouch:this.options.allowTouch,externalJobLinkPage:this.options.externalJobLinkPage}):this.$el.removeClass("includes-job-menu"),this.children.playPause=new a({model:this.model.searchJob,attachTooltipTo:this.options.attachTooltipTo}),this.children.stop=new o({model:this.model.searchJob,attachTooltipTo:this.options.attachTooltipTo}),this.options.enableReload&&(this.children.reload=new r({model:this.model.searchJob,attachTooltipTo:this.options.attachTooltipTo})),this.activate({skipRender:!0})},startListening:function(){this.listenTo(this.model.searchJob,"sync",this.render),this.listenTo(this.model.searchJob,"jobControls:notFound",function(t){t=t||{},this.children.jobNotFound=new h({model:{searchJob:this.model.searchJob,application:this.model.application},title:t.title,onHiddenRemove:!0}),this.children.jobNotFound.render().appendTo(e("body")),this.children.jobNotFound.show()})},activate:function(e){return e=e||{},this.active?s.prototype.activate.apply(this,arguments):(!e.skipRender&&this.el.innerHTML&&this.render(),s.prototype.activate.apply(this,arguments))},render:function(){this.el.innerHTML||t.each(this.children,function(e){e.render().appendTo(this.$el)},this);var i=[this.children.playPause,this.children.stop];return this.options.enableReload&&i.push(this.children.reload),t.each(i,function(t){t.$el[t.isActive()?"removeClass":"addClass"]("disabled"),e.contains(this.el,t.el)||t.appendTo(this.$el);var i=t.$el.is(":focus");i&&t.$el.focus()},this),this}})}.apply(t,s),!(void 0!==n&&(e.exports=n))},"views/shared/jobcontrols/PlayPause":function(e,t,i){var s,n;s=[i("shim/jquery"),i("require/underscore"),e,i("views/Base"),i("util/splunkd_utils"),i("shim/bootstrap.tooltip")],n=function(e,t,i,s,n){return s.extend({moduleId:i.id,className:"playpause btn-pill btn-square",tagName:"a",attributes:{href:"#"},initialize:function(){s.prototype.initialize.apply(this,arguments),this.activate()},startListening:function(){this.listenTo(this.model.entry.content,"change",this.render)},events:{click:function(t){if(t.preventDefault(),!this.isActive())return!0;var i=e(t.currentTarget).data("mode"),s={success:function(){this.model.fetch()}.bind(this),error:function(e,t){t.status==n.NOT_FOUND&&this.model.trigger("jobControls:notFound")}.bind(this)};"pause"===i?this.model.pause(s):"unpause"===i&&this.model.unpause(s)}},isActive:function(){return(this.model.isRunning()||this.model.entry.content.get("isPaused"))&&this.model.entry.acl.canWrite()},render:function(){var e=this.model.entry.content.get("isPaused"),i=this.$el.data("mode"),s=this.options.attachTooltipTo||this.$el;return e&&"unpause"!==i&&(this.$el.data("mode","unpause").html('<i class="icon-play"></i><span class="hide-text">'+t("Resume").t()+"</span>"),this.$el.blur().tooltip("destroy").tooltip({animation:!1,title:t("Resume").t(),container:s})),e||"pause"===i||(this.$el.data("mode","pause").html('<i class="icon-pause"></i><span class="hide-text">'+t("Pause").t()+"</span>"),this.$el.blur().tooltip("destroy").tooltip({animation:!1,title:t("Pause").t(),container:s})),this.$el.css("display",""),this}})}.apply(t,s),!(void 0!==n&&(e.exports=n))},"views/shared/jobcontrols/Cancel":function(e,t,i){var s,n;s=[i("require/underscore"),e,i("views/Base"),i("shim/bootstrap.tooltip")],n=function(e,t,i){return i.extend({moduleId:t.id,className:"cancel btn-pill btn-square",tagName:"a",attributes:{href:"#"},initialize:function(){i.prototype.initialize.apply(this,arguments),this.$el.tooltip({animation:!1,title:e("Delete").t(),container:"body"})},events:{click:function(e){return e.preventDefault(),!this.isActive()||(this.model.destroy(),void this.model.clear())}},isActive:function(){return!this.model.isNew()&&!this.model.isDone()},render:function(){return this.$el.html('<i class="icon-trash"></i><span class="hide-text">'+e("Cancel").t()+"</span>"),this}})}.apply(t,s),!(void 0!==n&&(e.exports=n))},"views/shared/jobcontrols/Stop":function(e,t,i){var s,n;s=[i("require/underscore"),e,i("views/Base"),i("util/splunkd_utils"),i("shim/bootstrap.tooltip")],n=function(e,t,i,s){return i.extend({moduleId:t.id,className:"stop btn-pill btn-square",tagName:"a",attributes:{href:"#"},initialize:function(){var t=this.options.attachTooltipTo||this.$el;i.prototype.initialize.apply(this,arguments),this.$el.tooltip({animation:!1,title:e("Stop").t(),container:t})},events:{click:function(e){e.preventDefault();var t={error:function(e,t){t.status==s.NOT_FOUND&&this.model.trigger("jobControls:notFound")}.bind(this)};return!this.isActive()||(this.model.isQueued()||this.model.isParsing()?(t.success=function(){this.model.clear()}.bind(this),this.model.destroy(t)):(t.success=function(){this.model.fetch()}.bind(this),this.model.finalize(t)),void this.$el.blur())}},isActive:function(){return!this.model.isNew()&&!this.model.isDone()&&this.model.entry.acl.canWrite()},render:function(){return this.$el.html('<i class="icon-stop"></i><span class="hide-text">'+e("Stop").t()+"</span>"),this}})}.apply(t,s),!(void 0!==n&&(e.exports=n))},"views/shared/jobcontrols/Reload":function(e,t,i){var s,n;s=[i("require/underscore"),e,i("views/Base"),i("shim/bootstrap.tooltip")],n=function(e,t,i){return i.extend({moduleId:t.id,className:"reload btn-pill btn-square",tagName:"a",attributes:{href:"#"},initialize:function(){var t=this.options.attachTooltipTo||this.$el;i.prototype.initialize.apply(this,arguments),this.$el.html('<i class="icon-rotate-counter"></i><span class="hide-text">'+e("Reload").t()+"</span>"),this.$el.tooltip({animation:!1,title:e("Reload").t(),container:t})},events:{click:function(e){e.preventDefault(),this.isActive()&&this.model.trigger("reload"),this.$el.blur().tooltip("show")}},isActive:function(){return this.model.isDone()},render:function(){return this},remove:function(){return this.$el.blur().tooltip("destroy"),i.prototype.remove.apply(this,arguments)}})}.apply(t,s),!(void 0!==n&&(e.exports=n))},"views/shared/jobcontrols/menu/Master":function(e,t,i){var s,n;s=[i("require/underscore"),e,i("views/Base"),i("views/shared/jobcontrols/menu/Messages"),i("views/shared/jobcontrols/menu/Edit"),i("views/shared/jobcontrols/menu/SendBackground"),i("views/shared/jobcontrols/menu/Touch"),i("views/shared/jobcontrols/menu/Inspect"),i("views/shared/jobcontrols/menu/Delete"),i("views/shared/delegates/Popdown"),i("util/splunkd_utils")],n=function(e,t,i,s,n,o,a,r,l,h,d){return i.extend({moduleId:t.id,className:"job-menu dropdown",initialize:function(){i.prototype.initialize.apply(this,arguments),this.children.messages=new s({model:{searchJob:this.model.searchJob,application:this.model.application}}),this.children.edit=new n({model:{searchJob:this.model.searchJob,application:this.model.application,report:this.model.report,user:this.model.user},externalJobLinkPage:this.options.externalJobLinkPage}),this.children.sendBackground=new o({model:{searchJob:this.model.searchJob,application:this.model.application,appLocal:this.model.appLocal},externalJobLinkPage:this.options.externalJobLinkPage}),this.children.touch=new a({model:{searchJob:this.model.searchJob,application:this.model.application}}),this.children.inspect=new r({model:{searchJob:this.model.searchJob,application:this.model.application}}),this.children.del=new l({model:{searchJob:this.model.searchJob,application:this.model.application}}),this.activate()},startListening:function(){this.listenTo(this.model.searchJob,"serverValidated",this.checkMessages)},checkMessages:function(e,t,i){var s=d.messagesContainsOneOfTypes(i,[d.INFO]),n=d.messagesContainsOneOfTypes(i,[d.WARNING]);n?this.showMessageIndicator(d.WARNING):s?this.showMessageIndicator(d.INFO):(this.$(".message-indicator").hide(),this.children.messages.$el.addClass("hidden"))},showMessageIndicator:function(e){var t="info"==d.normalizeType(e)?"icon-info-circle":"icon-warning";this.$(".message-indicator").attr("class","message-indicator "+t).show(),this.children.messages.$el.removeClass("hidden")},render:function(){var t;return this.$el.html().length?this:(this.$el.html(this.compiledTemplate({_:e})),this.$(".dropdown-menu > .arrow").after(this.children.messages.render().el),t=this.$(".controls"),this.children.edit.render().appendTo(t),this.options.allowSendBackground&&this.children.sendBackground.render().appendTo(t),this.options.allowTouch&&this.children.touch.render().appendTo(t),this.children.inspect.render().appendTo(t),this.options.allowDelete&&this.children.del.render().appendTo(t),this.children.popdown=new h({el:this.el,attachDialogTo:"body"}),this.checkMessages(void 0,this.model.searchJob,this.model.searchJob.getMessages()),this)},template:'\t                <a class="btn-pill dropdown-toggle" href="#">\t                    <i class="message-indicator" style="display:none"></i>\t                    <%- _("Job").t() %><span class="caret"></span>\t                </a>\t                <div class="dropdown-menu">\t                    <div class="arrow"></div>\t                    <ul class="controls"></ul>\t                </div>\t            '})}.apply(t,s),!(void 0!==n&&(e.exports=n))},"views/shared/jobcontrols/menu/Touch":function(e,t,i){var s,n;s=[i("shim/jquery"),i("require/underscore"),e,i("views/Base"),i("views/shared/TouchJobModal"),i("util/splunkd_utils")],n=function(e,t,i,s,n,o){return s.extend({moduleId:i.id,className:"touch",tagName:"li",initialize:function(){s.prototype.initialize.apply(this,arguments)},events:{'click a[class!="disabled"]':function(i){this.model.searchJob.fetch({success:function(t,i){this.children.touchModal=new n({model:{searchJob:this.model.searchJob,application:this.model.application},onHiddenRemove:!0}),this.children.touchModal.render().appendTo(e("body")),this.children.touchModal.show()}.bind(this),error:function(e,i){i.status==o.NOT_FOUND&&this.model.searchJob.trigger("jobControls:notFound",{title:t("Extend Job Lifetime").t()})}.bind(this)}),i.preventDefault()},"click a.disabled":function(e){e.preventDefault()}},render:function(){this.$el.html('<a href="#">'+t("Extend Job Expiration").t()+"</a>");this.model.searchJob.entry.acl.canWrite();return this.model.searchJob.entry.acl.canWrite()||this.$("a").addClass("disabled"),this}})}.apply(t,s),!(void 0!==n&&(e.exports=n))},"views/shared/TouchJobModal":function(e,t,i){var s,n;s=[i("shim/jquery"),i("require/underscore"),i("require/backbone"),e,i("views/Base"),i("views/shared/Modal"),i("uri/route"),i("shim/splunk.util")],n=function(e,t,i,s,n,o,a,r){return o.extend({moduleId:s.id,initialize:function(){o.prototype.initialize.apply(this,arguments)},render:function(){var e=!this.model.searchJob,i=this.compiledTemplate({learnMoreLink:a.docHelp(this.model.application.get("root"),this.model.application.get("locale"),"learnmore.jobs.extend.lifetime"),isBulk:e,time:e?"":this.model.searchJob.getExpirationString(),_:t,splunkUtil:r});return this.$el.html(o.TEMPLATE),this.$(o.HEADER_TITLE_SELECTOR).html(t("Extend Job Lifetime").t()),this.$(o.BODY_SELECTOR).append(i),this.$(o.FOOTER_SELECTOR).append(o.BUTTON_CLOSE),this},template:'\t                <p>\t                    <% if (isBulk) { %>\t                        <%- _("The lifetime of selected jobs was extended by time specified in Job Settings.").t() %> \t                    <% } else { %>\t                        <%= splunkUtil.sprintf(_("The lifetime of the job was extended to %s.").t(), time) %> \t                    <% } %>\t                    <a href="<%= learnMoreLink%>" target="_blank">\t                        <%- _("Learn More").t() %> <i class="icon-external"></i>\t                    </a>\t                </p>\t            '})}.apply(t,s),!(void 0!==n&&(e.exports=n))},"views/shared/jobcontrols/menu/Messages":function(e,t,i){var s,n;s=[i("require/underscore"),e,i("views/Base"),i("util/splunkd_utils"),i("uri/route"),i("shim/splunk.util")],n=function(e,t,i,s,n,o){return i.extend({moduleId:t.id,className:"job_messages hidden",tagName:"ul",initialize:function(){i.prototype.initialize.apply(this,arguments),this.activate()},startListening:function(){this.listenTo(this.model.searchJob,"serverValidated",this.checkMessages)},checkMessages:function(e,t,i){var n=s.filterMessagesByTypes(i,[s.INFO,s.WARNING]);n.length?this.showMessages(n):this.$el.empty()},showMessages:function(t){this.$el.empty(),e.each(t,function(t,i){this.$el.append(e.template(this.messagesTemplate,{message:t,route:n,application:this.model.application,util:o}))}.bind(this))},render:function(){return this.checkMessages(void 0,this.model.searchJob,this.model.searchJob.getMessages()),this},messagesTemplate:'\t                <li class="job_message">\t                    <%= util.getWikiTransform(message.text) %>\t                    <% if (message.help) { %>\t                        <a href="<%- route.docHelp(application.get("root"), application.get("locale"), message.help) %>"\t                        target="_blank" class="learn_more">\t                            <%- _("Learn More").t() %>\t                            <i class="icon-external"></i>\t                        </a>\t                    <% } %>\t                </li>\t            '})}.apply(t,s),!(void 0!==n&&(e.exports=n))},"views/shared/jobcontrols/menu/Edit":function(e,t,i){var s,n;s=[i("shim/jquery"),i("require/underscore"),e,i("views/Base"),i("views/shared/jobcontrols/menu/EditModal")],n=function(e,t,i,s,n){return s.extend({moduleId:i.id,className:"edit",tagName:"li",initialize:function(){s.prototype.initialize.apply(this,arguments)},events:{'click a[class!="disabled"]':function(t){this.children.editModal=new n({model:{searchJob:this.model.searchJob,application:this.model.application,report:this.model.report,user:this.model.user},onHiddenRemove:!0,externalJobLinkPage:this.options.externalJobLinkPage}),this.children.editModal.render().appendTo(e("body")),this.children.editModal.show(),t.preventDefault()},"click a.disabled":function(e){e.preventDefault()}},render:function(){this.$el.html('<a href="#">'+t("Edit Job Settings...").t()+"</a>");this.model.searchJob.entry.acl.canWrite();return this.model.searchJob.entry.acl.canWrite()||this.$("a").addClass("disabled"),this}})}.apply(t,s),!(void 0!==n&&(e.exports=n))},"views/shared/jobcontrols/menu/EditModal":function(e,t,i){var s,n;s=[i("shim/jquery"),i("require/underscore"),i("require/backbone"),e,i("views/shared/Modal"),i("views/shared/FlashMessages"),i("views/shared/controls/ControlGroup"),i("models/search/Job"),i("uri/route"),i("util/splunkd_utils"),i("util/time")],n=function(e,t,i,s,n,o,a,r,l,h,d){return n.extend({moduleId:s.id,initialize:function(){n.prototype.initialize.apply(this,arguments),this.model.inmem=this.model.searchJob.clone(),this.children.flashMessages=new o({model:this.model.inmem}),this.fetchOnHidden=!0;var e=(this.model.application.get("app"),this.model.application.get("owner"),this.model.inmem.entry.acl.permsToObj()),i=e.read,s=l[this.options.externalJobLinkPage]||l.search;this.everyoneRead=t.indexOf(i,"*")!=-1,this.model.inmem.set("everyoneRead",this.everyoneRead),this.defaultTTL=parseInt(this.model.searchJob.entry.content.get("defaultTTL"),10),this.defaultSaveTTL=parseInt(this.model.searchJob.entry.content.get("defaultSaveTTL"),10);var r={sid:this.model.searchJob.id};"report"===this.model.application.get("page")&&this.model.report&&!this.model.report.isNew()&&(r.s=this.model.report.id),this.linkToJob=s(this.model.application.get("root"),this.model.application.get("locale"),this.model.application.get("app"),{data:r,absolute:!0}),this.children.owner=new a({label:t("Owner").t(),controlType:"Label",controlOptions:{model:this.model.inmem.entry.acl,modelAttribute:"owner"}}),this.model.user&&this.model.user.canUseApps()&&(this.children.app=new a({label:t("App").t(),controlType:"Label",controlOptions:{model:this.model.inmem.entry.acl,modelAttribute:"app"}})),this.children.permissions=new a({label:t("Read Permissions").t(),controlType:"SyntheticRadio",controlOptions:{className:"btn-group btn-group-2",items:[{value:!1,label:t("Private").t()},{value:!0,label:t("Everyone").t()}],model:this.model.inmem,modelAttribute:"everyoneRead"}}),this.children.lifetime=new a({label:t("Lifetime").t(),controlType:"SyntheticRadio",tooltip:t("Lifetime defines how long the job is accessible, after the job is run. If the job is not accessed in the specified time period, the job is removed.").t(),controlOptions:{className:"btn-group btn-group-2",items:[{value:!1,label:d.getRelativeStringFromSeconds(this.defaultTTL,!0)},{value:!0,label:d.getRelativeStringFromSeconds(this.defaultSaveTTL,!0)}],model:this.model.inmem.entry.content,modelAttribute:"isSaved"}}),this.children.link=new a({label:t("Link To Job").t(),controlType:"Text",help:t("Copy or bookmark the link by right-clicking the icon, or drag the icon into your bookmarks bar.").t(),controlOptions:{className:"job-link",defaultValue:this.linkToJob,append:'<a class="add-on bookmark" href="'+this.linkToJob+'"><i class="icon-bookmark"></i><span class="hide-text">'+t("Splunk Search Job").t()+"</span></a>"}}),this.on("hidden",function(){this.fetchOnHidden&&this.model.searchJob.fetch()},this)},events:e.extend({},n.prototype.events,{"click .btn-primary":function(i){i.preventDefault();var s=this.model.inmem.get("everyoneRead"),n=this.model.inmem.entry.content.get("isRealTimeSearch"),o=e.Deferred(),a=e.Deferred();if(this.everyoneRead!==s){var l={success:function(e,t){o.resolve()},error:function(e,t){t.status==h.NOT_FOUND?o.reject():o.resolve()}};s?this.model.inmem.makeWorldReadable(l):this.model.inmem.undoWorldReadable(l)}else o.resolve();e.when(o).done(function(){var t={success:function(e,t){a.resolve()},error:function(e,t){t.status==h.NOT_FOUND?a.reject():a.resolve()}};this.model.inmem.entry.content.get("isSaved")?n?this.model.inmem.saveJob(e.extend(!0,t,{data:{auto_cancel:r.DEFAULT_AUTO_CANCEL}})):this.model.inmem.saveJob(t):this.model.inmem.unsaveJob(e.extend(!0,t,{data:{auto_cancel:r.DEFAULT_AUTO_CANCEL}}))}.bind(this)),e.when(a).done(function(){this.hide()}.bind(this)),e.when(a,o).fail(function(){this.fetchOnHidden=!1,this.hide(),this.model.searchJob.trigger("jobControls:notFound",{title:t("Job Settings").t()})}.bind(this))},"click a.bookmark":function(e){e.preventDefault()}}),render:function(){return this.$el.html(n.TEMPLATE),this.$(n.HEADER_TITLE_SELECTOR).html(t("Job Settings").t()),this.children.flashMessages.render().prependTo(this.$(n.BODY_SELECTOR)),this.$(n.BODY_SELECTOR).append(n.FORM_HORIZONTAL),this.children.owner.render().appendTo(this.$(n.BODY_FORM_SELECTOR)),this.children.app&&this.children.app.render().appendTo(this.$(n.BODY_FORM_SELECTOR)),this.children.permissions.render().appendTo(this.$(n.BODY_FORM_SELECTOR)),this.children.lifetime.render().appendTo(this.$(n.BODY_FORM_SELECTOR)),this.children.link.render().appendTo(this.$(n.BODY_FORM_SELECTOR)),this.$(n.FOOTER_SELECTOR).append(n.BUTTON_CANCEL),this.$(n.FOOTER_SELECTOR).append(n.BUTTON_SAVE),this}})}.apply(t,s),!(void 0!==n&&(e.exports=n))},"views/shared/jobcontrols/menu/SendBackground":function(e,t,i){var s,n;s=[i("shim/jquery"),i("require/underscore"),e,i("views/Base"),i("views/shared/jobcontrols/menu/sendbackgroundmodal/Master")],n=function(e,t,i,s,n){return s.extend({moduleId:i.id,className:"send-background",tagName:"li",initialize:function(){s.prototype.initialize.apply(this,arguments),this.activate()},startListening:function(){this.listenTo(this.model.searchJob.entry.content,"change",this.render)},events:{'click a[class!="disabled"]':function(t){this.children.sendBackgroundModal=new n({model:{searchJob:this.model.searchJob,application:this.model.application,appLocal:this.model.appLocal},onHiddenRemove:!0,externalJobLinkPage:this.options.externalJobLinkPage}),this.children.sendBackgroundModal.render().appendTo(e("body")),this.children.sendBackgroundModal.show(),t.preventDefault()},"click a.disabled":function(e){e.preventDefault()}},render:function(){var e=this.model.searchJob.entry.acl.canWrite(),i=this.model.searchJob.isBackground(),s=this.model.searchJob.entry.content.get("isRealTimeSearch");return this.$el.html('<a href="#">Send Job to Background</a>'),e&&this.model.searchJob.isRunning()&&!s&&!i?this.$el.html('<a href="#">'+t("Send Job to Background").t()+"</a>"):this.$el.html('<a href="#" class="disabled">'+t("Send Job to Background").t()+"</a>"),this}})}.apply(t,s),!(void 0!==n&&(e.exports=n));
},"views/shared/jobcontrols/menu/sendbackgroundmodal/Master":function(e,t,i){var s,n;s=[i("require/underscore"),i("require/backbone"),e,i("views/shared/Modal"),i("views/shared/jobcontrols/menu/sendbackgroundmodal/Settings"),i("views/shared/jobcontrols/menu/sendbackgroundmodal/Success")],n=function(e,t,i,s,n,o){return s.extend({moduleId:i.id,initialize:function(){s.prototype.initialize.apply(this,arguments),this.model.inmem=this.model.searchJob.clone(),this.model.inmem.set({email:!1,results:"none",subject:e("Splunk Job Complete: $name$").t()}),this.children.settings=new n({model:{application:this.model.application,inmem:this.model.inmem,appLocal:this.model.appLocal}}),this.children.success=new o({model:{application:this.model.application,inmem:this.model.inmem},externalJobLinkPage:this.options.externalJobLinkPage}),this.model.inmem.on("saveSuccess",function(){this.children.settings.$el.hide(),this.children.success.$el.show()},this),this.on("hidden",function(){this.model.inmem.isBackground()&&this.model.searchJob.trigger("close")},this)},render:function(){this.children.settings.render().appendTo(this.$el),this.children.success.render().appendTo(this.$el),this.children.success.$el.hide()}})}.apply(t,s),!(void 0!==n&&(e.exports=n))},"views/shared/jobcontrols/menu/sendbackgroundmodal/Settings":function(e,t,i){var s,n;s=[i("shim/jquery"),i("require/underscore"),e,i("views/Base"),i("views/shared/controls/ControlGroup"),i("views/shared/FlashMessages"),i("views/shared/Modal"),i("shim/splunk.util"),i("uri/route"),i("util/console")],n=function(e,t,i,s,n,o,a,r,l,h){return s.extend({moduleId:i.id,initialize:function(){s.prototype.initialize.apply(this,arguments),this.children.flashMessages=new o({model:{inmen:this.model.inmem}});var e=l.docHelp(this.model.application.get("root"),this.model.application.get("locale"),"learnmore.alert.email");this.children.email=new n({label:t("Email when complete").t(),controlType:"SyntheticCheckbox",controlOptions:{model:this.model.inmem,modelAttribute:"email",value:!0},help:r.sprintf(t("Email must be configured in System&nbsp;Settings > Alert&nbsp;Email&nbsp;Settings. %s").t(),' <a href="'+e+'" target="_blank">'+t("Learn More").t()+' <i class="icon-external"></i></a>')}),this.children.subject=new n({label:t("Email Subject Line").t(),controlType:"Text",controlOptions:{model:this.model.inmem,modelAttribute:"subject"}}),this.children.addresses=new n({label:t("Email Addresses").t(),controlType:"Textarea",controlOptions:{model:this.model.inmem,modelAttribute:"addresses"},help:t("Comma separated list.").t()}),this.model.inmem.on("change:email",function(){var e=this.model.inmem.get("email");e?(this.children.subject.$el.show(),this.children.addresses.$el.show()):(this.children.subject.$el.hide(),this.children.addresses.$el.hide())},this)},events:{"click .modal-btn-primary":function(t){t.preventDefault(),e.when(this.model.inmem.sendToBackground()).then(function(){var t=this.model.inmem.fetch();e.when(t).then(function(){this.model.inmem.trigger("saveSuccess")}.bind(this))}.bind(this))}},render:function(){return this.$el.html(a.TEMPLATE),this.$(a.HEADER_TITLE_SELECTOR).html(t("Send Job to Background").t()),this.children.flashMessages.render().prependTo(this.$(a.BODY_SELECTOR)),this.$(a.BODY_SELECTOR).append(a.FORM_HORIZONTAL),this.children.email.render().appendTo(this.$(a.BODY_FORM_SELECTOR)),this.children.subject.render().appendTo(this.$(a.BODY_FORM_SELECTOR)),this.children.addresses.render().appendTo(this.$(a.BODY_FORM_SELECTOR)),this.children.subject.$el.hide(),this.children.addresses.$el.hide(),this.$(a.FOOTER_SELECTOR).append(a.BUTTON_CANCEL),this.$(a.FOOTER_SELECTOR).append('<a class="btn btn-primary modal-btn-primary">'+t("Send to Background").t()+"</a>"),this}})}.apply(t,s),!(void 0!==n&&(e.exports=n))},"views/shared/jobcontrols/menu/sendbackgroundmodal/Success":function(e,t,i){var s,n;s=[i("shim/jquery"),i("require/underscore"),e,i("views/Base"),i("views/shared/Modal"),i("views/shared/controls/ControlGroup"),i("uri/route"),i("util/time"),i("shim/splunk.util")],n=function(e,t,i,s,n,o,a,r,l){return s.extend({moduleId:i.id,initialize:function(){s.prototype.initialize.apply(this,arguments);var e=a[this.options.externalJobLinkPage]||a.search,i=e(this.model.application.get("root"),this.model.application.get("locale"),this.model.application.get("app"),{data:{sid:this.model.inmem.id},absolute:!0});this.children.link=new o({label:t("Link To Job").t(),controlType:"Text",help:t("Copy or bookmark the link by right-clicking the icon, or drag the icon into your bookmarks bar.").t(),controlOptions:{defaultValue:i,append:'<a class="add-on bookmark" href="'+i+'"><i class="icon-bookmark"></i><span class="hide-text">'+t("Splunk Search Job").t()+"</span></a>"}}),this.model.inmem.entry.content.on("change:ttl",this.updateTTL,this)},events:e.extend({},n.prototype.events,{"click a.bookmark":function(e){e.preventDefault()}}),updateTTL:function(){var e=this.model.inmem.entry.acl.get("ttl")||0,t=r.getRelativeStringFromSeconds(e,!0);this.$(".ttl").html(t)},render:function(){var e=this.compiledTemplate({_:t,splunkUtil:l});return this.$el.html(n.TEMPLATE),this.$(n.HEADER_TITLE_SELECTOR).html(t("The Job is Running in the Background").t()),this.$(n.BODY_SELECTOR).append(n.FORM_HORIZONTAL),this.children.link.render().appendTo(this.$(n.BODY_FORM_SELECTOR)),this.$(n.BODY_SELECTOR).prepend(e),this.$(n.FOOTER_SELECTOR).append(n.BUTTON_DONE),this.updateTTL(),this},template:'\t                <p>\t                    <%= splunkUtil.sprintf(_("The job&#39;s lifetime has been extended to %s.").t(), \'<span class="ttl">0</span>\') %>\t                </p>\t            '})}.apply(t,s),!(void 0!==n&&(e.exports=n))},"views/shared/jobcontrols/menu/Inspect":function(e,t,i){var s,n;s=[i("require/underscore"),e,i("views/Base"),i("uri/route"),i("shim/splunk.window")],n=function(e,t,i,s,n){return i.extend({moduleId:t.id,className:"inspect",tagName:"li",initialize:function(){i.prototype.initialize.apply(this,arguments)},events:{'click a:not(".disabled")':function(e){n.open(s.jobInspector(this.model.application.get("root"),this.model.application.get("locale"),this.model.application.get("app"),this.model.searchJob.id),"splunk_job_inspector",{width:870,height:560,menubar:!1}),e.preventDefault()},"click a.disabled":function(e){e.preventDefault()}},startListening:function(){this.listenTo(this.model.searchJob,"error",function(){this.disableInspect()}),this.listenTo(this.model.searchJob.control,"error",function(){this.disableInspect()})},disableInspect:function(){this.$(".job-inspect").addClass("disabled")},render:function(){return this.$el.html('<a class="job-inspect" href="#">'+e("Inspect Job").t()+"</a>"),this}})}.apply(t,s),!(void 0!==n&&(e.exports=n))},"views/shared/jobcontrols/menu/Delete":function(e,t,i){var s,n;s=[i("shim/jquery"),i("require/underscore"),e,i("views/Base"),i("views/shared/jobcontrols/menu/DeleteModal")],n=function(e,t,i,s,n){return s.extend({moduleId:i.id,className:"delete",tagName:"li",initialize:function(){s.prototype.initialize.apply(this,arguments)},events:{'click a[class!="disabled"]':function(t){this.children.deleteModal=new n({model:this.model.searchJob,onHiddenRemove:!0}),this.children.deleteModal.render().appendTo(e("body")),this.children.deleteModal.show(),t.preventDefault()},"click a.disabled":function(e){e.preventDefault()}},render:function(){var e=this.model.searchJob.entry.acl.canWrite();return e?this.$el.html('<a href="#">'+t("Delete Job").t()+"</a>"):this.$el.html('<a href="#" class="disabled">'+t("Delete Job").t()+"</a>"),this}})}.apply(t,s),!(void 0!==n&&(e.exports=n))},2329:function(e,t,i){t=e.exports=i(14)(),t.push([e.id,"form.search-form{margin-bottom:0}.search-bar .btn,.search-bar .btn.dropdown-toggle{border-radius:0;line-height:28px;height:28px;white-space:nowrap;border-left:none}.search-bar td{padding:0;vertical-align:top}.search-bar td.search-input{width:100%}.search-bar .search-timerange .btn{white-space:nowrap;border-radius:0;min-width:55px}.search-bar .search-button .btn{border-top-right-radius:4px;border-bottom-right-radius:4px;margin-left:-2px;font-size:26px}.search-bar .search-timerange .shared-timerangepicker .btn .time-label{display:inline-block;vertical-align:middle;max-width:10em;overflow:hidden;text-overflow:ellipsis}.search-bar .shared-searchbarinput-searchfield .ace_editor{border-top-left-radius:4px;border-bottom-left-radius:4px;border-top-right-radius:0;border-bottom-right-radius:0}.dropdown-menu-apps li{line-height:20px;position:relative}.dropdown-menu-apps .link-label{display:block;white-space:nowrap;word-wrap:normal;overflow:hidden;text-overflow:ellipsis;padding-right:28px}.dropdown-menu-apps .menu-icon{width:18px;height:18px;position:absolute;right:10px;top:7px}@media print{.search-button{display:none!important}}body.print table.search-bar td{display:block;width:100%!important}",""])},"views/shared/JobNotFoundModal":function(e,t,i){var s,n;s=[i("shim/jquery"),i("require/underscore"),i("require/backbone"),e,i("views/Base"),i("views/shared/Modal"),i("uri/route"),i("shim/splunk.util")],n=function(e,t,i,s,n,o,a,r){return o.extend({moduleId:s.id,initialize:function(){n.prototype.initialize.apply(this,arguments);var e={title:t("Not Found").t(),action:t("edited").t()};t.defaults(this.options,e),this.isBulk=!this.model.searchJob,this.listenTo(this,"hidden",function(){this.isBulk?this.collection.searchJobs.trigger("refresh"):this.model.searchJob.trigger("refresh")})},render:function(){var e=this.compiledTemplate({learnMoreLink:a.docHelp(this.model.application.get("root"),this.model.application.get("locale"),"learnmore.jobs.extend.lifetime"),isBulk:this.isBulk,action:this.options.action,allFailed:!this.isBulk||this.collection.searchJobs.length===this.collection.searchJobs.bulkControl.getNumOfNotFoundJobs(),splunkUtil:r});return this.$el.html(o.TEMPLATE),this.$(o.HEADER_TITLE_SELECTOR).html(this.options.title),this.$(o.BODY_SELECTOR).prepend(e),this.$(o.FOOTER_SELECTOR).append(o.BUTTON_CLOSE),this},template:'\t                <p>\t                    <% if (!isBulk) { %>\t                        <%- _("This job does not exist. It may have been deleted or expired.").t() %> \t                    <% } else if (allFailed) { %>\t                        <%- splunkUtil.sprintf(_("The jobs could not be %s because they no longer exist. They might have been deleted or expired. The jobs will be removed from the list.").t(), action) %> \t                    <% } else { %>\t                        <% if (action === "extended") { %>\t                            <%- _("The active jobs are extended by the time specified in the Job Settings dialog. Jobs that are expired or deleted will be removed from the list.").t() %> \t                        <% } else { %>\t                            <%- splunkUtil.sprintf(_("Some jobs could not be %s because they no longer exist. They might have been deleted or expired. These jobs will be removed from the list.").t(), action) %> \t                        <% } %>\t                    <% } %>\t                    <a href="<%= learnMoreLink %>" target="_blank">\t                        <%- _("Learn More").t() %> <i class="icon-external"></i>\t                    </a>\t                </p>\t            '})}.apply(t,s),!(void 0!==n&&(e.exports=n))},"views/shared/jobcontrols/Master.pcss":function(e,t,i){var s=i(2322);"string"==typeof s&&(s=[[e.id,s,""]]);i(15)(s,{});s.locals&&(e.exports=s.locals)},"splunkjs/mvc/searchcontrolsview":function(e,t,i){var s;s=function(e,t,s){var n=i("shim/jquery"),o=i("require/underscore"),a=i("require/backbone"),r=(i("splunkjs/mvc/mvc"),i("splunkjs/mvc/basesplunkview")),l=i("views/shared/jobstatus/Master"),h=i("models/ACLReadOnly"),d=(i("models/shared/Application"),i("splunkjs/mvc/utils"),i("util/time")),c=i("splunkjs/mvc/sharedmodels"),p=i("shim/splunk.util"),u=i("util/splunkd_utils"),m=a.Model.extend({constructor:function(){this.control=new a.Model,this.error=new a.Model,this.entry=new a.Model,this.entry.content=new a.Model,this.entry.content.custom=new a.Model,this.entry.acl=new h,a.Model.prototype.constructor.apply(this,arguments)},initialize:function(){this._isNew=!0},set:function(){a.Model.prototype.set.apply(this,arguments),a.Model.prototype.set.apply(this.entry.content,arguments)},isNew:function(){return this._isNew},fetch:function(){return this},clear:function(){this.entry.clear(),this.entry.content.clear(),this.entry.content.custom.clear(),this._isNew=!0},destroy:function(e){this.cancel(),e.success&&e.success()},pause:function(e){this.manager&&this.manager.pause()},unpause:function(e){this.manager&&this.manager.unpause()},finalize:function(e){this.manager&&this.manager.finalize()},cancel:function(e){this.manager&&this.manager.cancel()},touch:function(e){this.manager&&this.manager.touch()},saveIsBackground:function(e){this.entry.content.custom.set("isBackground","1")},isBackground:function(){return p.normalizeBoolean(this.entry.content.custom.get("isBackground"))},resultCountSafe:function(){return this.entry.content.get("isPreviewEnabled")&&!this.entry.content.get("isDone")?this.entry.content.get("resultPreviewCount"):this.entry.content.get("resultCount")},eventAvailableCountSafe:function(){return 0==this.entry.content.get("statusBuckets")?this.resultCountSafe():this.entry.content.get("eventAvailableCount")},latestTimeSafe:function(){var e=this.entry;return e.content.get("latestTime")||e.get("published")},isQueued:function(){return this.checkUppercaseValue("dispatchState",m.QUEUED)},isParsing:function(){return this.checkUppercaseValue("dispatchState",m.PARSING)},isFinalizing:function(){return this.checkUppercaseValue("dispatchState",m.FINALIZING)},isDone:function(){return p.normalizeBoolean(this.entry.content.get("isDone"))},isPreparing:function(){return this.isQueued()||this.isParsing()},isRunning:function(){return!(this.isNew()||this.entry.content.get("isPaused")||this.entry.content.get("isDone")||this.isPreparing()||this.isFinalizing())},isAdHocLevelFast:function(){return this.checkUppercaseValue("adhoc_search_level","FAST")},isReportSearch:function(){return!!this.entry.content.get("reportSearch")},isOverAllTime:function(){var e=this.entry.content.request;return!!e&&(!e.get("earliest_time")&&!e.get("latest_time"))},isRealtime:function(){var e=this.entry.content.request;return e&&d.isRealtime(e.get("earliest_time"))&&d.isRealtime(e.get("latest_time"))},isUsingSampling:function(){return this.entry.content.get("sampleRatio")>"1"},getMessages:function(){return u.parseMessagesObject(this.entry.content.get("messages"))},checkUppercaseValue:function(e,t){var i=this.entry.content.get(e);return!!i&&i.toUpperCase()===t}},{QUEUED:"QUEUED",PARSING:"PARSING",RUNNING:"RUNNING",PAUSED:"PAUSED",FINALIZING:"FINALIZING",FAILED:"FAILED",DONE:"DONE"}),b=r.extend({moduleId:s.id,className:"splunk-searchcontrols",options:{managerid:null},initialize:function(){this.configure(),this._searchJob=new m,this._state=new a.Model({"display.page.search.mode":"smart"});var e=c.get("app"),t=c.get("appLocal"),i=this;this._statusDfd=n.when(t.dfd).done(function(){i.jobStatus=new l({model:{searchJob:i._searchJob,state:i._state,application:e,appLocal:t},collection:{limits:new a.Collection},enableSearchMode:!0,showAutoPause:!1,showJobButtons:!1})}),this.bindToComponentSetting("managerid",this.onManagerChange,this),this._state.on("change",this._onSearchModeChange,this)},onManagerChange:function(e,t){this.manager&&(this.manager.off(null,null,this),this.manager.settings.off(null,null,this)),this.manager=t,t&&(this._searchJob.manager=t,t.on("search:start",this._onSearchStart,this),t.on("search:cancelled",this._onSearchCancelled,this),t.on("search:failed",this._onSearchFailed,this),t.on("search:progress",this._onSearchProgress,this),this.manager.settings.get("adhoc_search_level")?this._state.set("display.page.search.mode",this.manager.settings.get("adhoc_search_level")):this._onSearchModeChange())},render:function(){var e=this;return n.when(this._statusDfd).done(function(){e.$el.append(e.jobStatus.render().el)}),this},_onSearchModeChange:function(){var e=this._state.get("display.page.search.mode");e&&this.manager&&this.manager.settings.set("adhoc_search_level",e)},_onSearchStart:function(e){this._searchJob._isNew=!0,this._searchJob.clear()},_onSearchCancelled:function(e){this._searchJob._isNew=!0,this._searchJob.clear()},_onSearchFailed:function(e){this._searchJob._isNew=!0,this._searchJob.clear()},_onSearchProgress:function(e){this._searchJob._isNew=!1,this._searchJob.entry.set(e),this._searchJob.entry.content.set(e.content),this._searchJob.entry.acl.set(e.acl),this._searchJob.trigger("jobProgress"),e.content&&e.content.sid&&(this._searchJob.id=e.content.sid);var t=this;n.when(this._statusDfd).done(function(){o.each(t.jobStatus.children.controls.children.menu.children,function(e){e.render()}),t.jobStatus.children.controls.render()})}});return b}.call(t,i,t,e),!(void 0!==s&&(e.exports=s))},"views/shared/jobstatus/buttons/Master":function(e,t,i){var s,n;s=[i("shim/jquery"),e,i("views/Base"),i("views/shared/jobstatus/buttons/ShareButton"),i("views/shared/jobstatus/buttons/ExportButton"),i("views/shared/jobstatus/buttons/PrintButton"),i("views/shared/JobNotFoundModal")],n=function(e,t,i,s,n,o,a){return i.extend({moduleId:t.id,className:"pull-left export-print-group",initialize:function(){i.prototype.initialize.apply(this,arguments),this.showExportResultsButton=this.model.user.canExportResults(),this.children.shareButton=new s({model:{searchJob:this.model.searchJob,application:this.model.application,report:this.model.report,user:this.model.user},externalJobLinkPage:this.options.externalJobLinkPage}),this.showExportResultsButton&&(this.children.exportButton=new n({model:{searchJob:this.model.searchJob,application:this.model.application,report:this.model.report,reportPristine:this.model.reportPristine},verifyJobExistsExport:this.options.verifyJobExistsExport,allowRawEventsExport:this.options.allowRawEventsExport,fields:this.options.fields})),this.options.hidePrintButton||(this.children.printButton=new o),this.activate()},startListening:function(){this.listenTo(this.model.searchJob,"jobStatus:notFound",function(t){t=t||{},this.children.jobNotFound=new a({model:{searchJob:this.model.searchJob,application:this.model.application},title:t.title,onHiddenRemove:!0}),this.children.jobNotFound.render().appendTo(e("body")),this.children.jobNotFound.show()})},render:function(){return this.children.shareButton.render().appendTo(this.$el),this.options.hidePrintButton||this.children.printButton.render().appendTo(this.$el),this.showExportResultsButton&&this.children.exportButton.render().appendTo(this.$el),this}})}.apply(t,s),!(void 0!==n&&(e.exports=n))},"views/shared/jobstatus/buttons/ShareButton":function(e,t,i){var s,n;s=[i("shim/jquery"),i("require/underscore"),e,i("views/Base"),i("views/shared/jobstatus/buttons/ShareDialog"),i("util/splunkd_utils"),i("shim/bootstrap.tooltip")],n=function(e,t,i,s,n,o){return s.extend({moduleId:i.id,className:"share btn-pill btn-square disabled",tagName:"a",attributes:{href:"#"},initialize:function(){s.prototype.initialize.apply(this,arguments),this.$el.html('<i class="icon-share"></i><span class="hide-text">'+t("Share").t()+"</span>"),this.$el.tooltip({animation:!1,title:t("Share").t(),container:this.$el}),this.activate()},startListening:function(){this.listenTo(this.model.searchJob.entry.acl,"change",this.render),this.listenTo(this.model.searchJob.entry.content,"change:ttl",this.render)},activate:function(e){return this.active?s.prototype.activate.apply(this,arguments):(this.defaultSaveTTL=parseInt(this.model.searchJob.entry.content.get("defaultSaveTTL"),10),s.prototype.activate.apply(this,arguments))},events:{click:function(i){var s=e(i.currentTarget);if(i.preventDefault(),!s.hasClass("disabled")){var a=e.Deferred();this.model.searchJob.share({success:function(e,t){a.resolve()}.bind(this),error:function(e,i){i.status==o.NOT_FOUND?(this.model.searchJob.trigger("jobStatus:notFound",{title:t("Share Job").t()}),a.reject()):a.resolve()}.bind(this)}),e.when(a).done(function(){this.children.shareDialog=new n({model:{searchJob:this.model.searchJob,application:this.model.application,report:this.model.report,user:this.model.user},onHiddenRemove:!0,externalJobLinkPage:this.options.externalJobLinkPage}),this.children.shareDialog.render().appendTo(e("body")),this.children.shareDialog.show()}.bind(this))}}},render:function(){var e=this.model.searchJob.entry.acl.canWrite();return e?this.$el.removeClass("disabled"):this.$el.addClass("disabled"),this}})}.apply(t,s),!(void 0!==n&&(e.exports=n))},"views/shared/jobstatus/buttons/ShareDialog":function(e,t,i){var s,n;s=[i("shim/jquery"),i("require/underscore"),e,i("views/Base"),i("views/shared/Modal"),i("views/shared/controls/ControlGroup"),i("views/shared/jobcontrols/menu/EditModal"),i("uri/route"),i("util/time"),i("shim/splunk.util")],n=function(e,t,i,s,n,o,a,r,l,h){return n.extend({moduleId:i.id,initialize:function(){s.prototype.initialize.apply(this,arguments);var e=r[this.options.externalJobLinkPage]||r.search,i={sid:this.model.searchJob.id};"report"===this.model.application.get("page")&&this.model.report&&!this.model.report.isNew()&&(i.s=this.model.report.id),this.linkToJob=e(this.model.application.get("root"),this.model.application.get("locale"),this.model.application.get("app"),{data:i,absolute:!0}),this.children.link=new o({label:t("Link To Job").t(),controlType:"Text",help:t("Copy or bookmark the link by right-clicking the icon, or drag the icon into your bookmarks bar.").t(),controlOptions:{className:"job-link",defaultValue:this.linkToJob,append:'<a class="add-on bookmark" href="'+this.linkToJob+'"><i class="icon-bookmark"></i><span class="hide-text">'+t("Splunk Search Job").t()+"</span></a>"}})},events:e.extend({},n.prototype.events,{"click .jobSettings":function(t){this.hide(),this.children.editModal=new a({model:{searchJob:this.model.searchJob,application:this.model.application,report:this.model.report,user:this.model.user},onHiddenRemove:!0,externalJobLinkPage:this.options.externalJobLinkPage||this.model.application.get("page")}),this.children.editModal.render().appendTo(e("body")),this.children.editModal.show(),t.preventDefault()},"click a.bookmark":function(e){e.preventDefault()}}),render:function(){var e=this.model.searchJob.entry.acl.get("ttl")||0,i=l.getRelativeStringFromSeconds(e,!0),s=this.compiledTemplate({settingsAnchor:'<a class="jobSettings" href="#">'+t("Job&nbsp;Settings").t()+"</a>",time:i,_:t,splunkUtil:h});return this.$el.html(n.TEMPLATE),this.$(n.HEADER_TITLE_SELECTOR).html(t("Share Job").t()),this.$(n.BODY_SELECTOR).append(n.FORM_HORIZONTAL),this.children.link.render().appendTo(this.$(n.BODY_FORM_SELECTOR)),this.$(n.BODY_SELECTOR).prepend(s),this},template:'\t                <p>\t                    <%=  splunkUtil.sprintf(_("The job&#39;s lifetime has been extended to %s and read permissions have been set to Everyone. Manage the job via %s.").t(), time, settingsAnchor) %>\t                </p>\t            '})}.apply(t,s),!(void 0!==n&&(e.exports=n))},"views/shared/jobstatus/buttons/ExportButton":function(e,t,i){var s,n;s=[i("shim/jquery"),i("require/underscore"),e,i("views/Base"),i("views/shared/jobstatus/buttons/ExportResultsDialog"),i("shim/bootstrap.tooltip")],n=function(e,t,i,s,n){return s.extend({moduleId:i.id,className:"export btn-pill btn-square",tagName:"a",attributes:{href:"#"},initialize:function(){s.prototype.initialize.apply(this,arguments),this.$el.html('<i class="icon-export"></i><span class="hide-text">'+t("Export").t()+"</span>"),this.$el.tooltip({animation:!1,title:t("Export").t(),container:this.$el}),this.activate()},startListening:function(){this.listenTo(this.model.searchJob.entry.content,"change:dispatchState",t.debounce(this.enableDisable,0))},events:{click:function(t){this.$el.hasClass("disabled")||(this.children.exportDialog=new n({model:{searchJob:this.model.searchJob,application:this.model.application,report:this.model.report,reportPristine:this.model.reportPristine},verifyJobExistsExport:this.options.verifyJobExistsExport,allowRawEventsExport:this.options.allowRawEventsExport,fields:this.options.fields,onHiddenRemove:!0}),this.children.exportDialog.render().appendTo(e("body")),this.children.exportDialog.show()),t.preventDefault()}},enableDisable:function(){this.model.searchJob.isDone()?(this.$el.tooltip("hide"),this.$el.data("tooltip",!1),this.$el.tooltip({animation:!1,title:t("Export").t(),container:this.$el}),this.$el.removeClass("disabled")):(this.$el.tooltip("hide"),this.$el.data("tooltip",!1),this.$el.tooltip({animation:!1,title:t("Export - You can only export results for completed jobs.").t(),container:this.$el}),this.$el.addClass("disabled"))},render:function(){return this.enableDisable(),this}})}.apply(t,s),!(void 0!==n&&(e.exports=n))},"views/shared/jobstatus/buttons/PrintButton":function(e,t,i){var s,n;s=[i("require/underscore"),e,i("views/Base"),i("helpers/Printer"),i("shim/bootstrap.tooltip")],n=function(e,t,i,s){return i.extend({moduleId:t.id,className:"print btn-pill btn-square",tagName:"a",attributes:{href:"#"},initialize:function(){i.prototype.initialize.apply(this,arguments),this.$el.html('<i class="icon-print"></i><span class="hide-text">'+e("Print").t()+"</span>"),this.$el.tooltip({animation:!1,title:e("Print").t(),container:this.$el})},events:{click:function(e){return s.printPage(),!1}},render:function(){return this}})}.apply(t,s),!(void 0!==n&&(e.exports=n))},"views/shared/jobstatus/SearchMode":function(e,t,i){var s,n;s=[i("require/underscore"),e,i("views/shared/controls/SyntheticSelectControl"),i("util/splunkd_utils"),i("views/shared/jobstatus/SearchMode.pcss")],n=function(e,t,i,s,n){return i.extend({className:"pull-left",moduleId:t.id,initialize:function(t){t.items=[{value:s.FAST,label:e("Fast Mode").t(),icon:"lightning",description:e("Field discovery off for event searches. No event or field data for stats searches.").t()},{value:s.SMART,label:e("Smart Mode").t(),icon:"bulb",description:e("Field discovery on for event searches. No event or field data for stats searches.").t()},{value:s.VERBOSE,label:e("Verbose Mode").t(),icon:"speech-bubble",description:e("All event & field data.").t()}],t.modelAttribute="display.page.search.mode",t.defaultValue=s.SMART,t.toggleClassName="btn-pill dropdown-toggle-search-mode",t.menuClassName="dropdown-menu-search-mode",t.iconClassName="link-icon",i.prototype.initialize.call(this,t)}})}.apply(t,s),!(void 0!==n&&(e.exports=n))},"views/shared/jobstatus/SearchMode.pcss":function(e,t,i){var s=i(2323);"string"==typeof s&&(s=[[e.id,s,""]]);i(15)(s,{});s.locals&&(e.exports=s.locals)},"views/shared/jobstatus/Master":function(e,t,i){var s,n;s=[i("require/underscore"),e,i("models/classicurl"),i("views/Base"),i("views/shared/jobstatus/Count"),i("views/shared/jobcontrols/Master"),i("views/shared/jobstatus/buttons/Master"),i("views/shared/jobstatus/SearchMode"),i("views/shared/jobstatus/AutoPause"),i("views/shared/jobstatus/samplingmode/Master"),i("views/shared/ProgressBar"),i("uri/route"),i("shim/splunk.window"),i("shim/splunk.util"),i("util/splunkd_utils"),i("views/shared/jobstatus/Master.pcss")],n=function(e,t,i,s,n,o,a,r,l,h,d,c,p,u,m,b){return s.extend({moduleId:t.id,initialize:function(){s.prototype.initialize.apply(this,arguments),this.fatalErrorTypes=[m.FATAL,m.NOT_FOUND],this.renderableErrorTypes=[m.ERROR,m.FATAL,m.NOT_FOUND];var t={allowDelete:!0,showControlsAndJobInfo:!0,showControls:!0,allowSendBackground:!0,allowTouch:!1,externalJobLinkPage:this.model.application&&this.model.application.get("page")||"search"};e.defaults(this.options,t),this.options.enableSearchMode&&(this.children.searchMode=new r({model:this.model.state,btnClass:"btn-mini",rightAlign:!0})),this.options.enableSamplingMode&&(this.children.samplingMode=new h({model:{report:this.model.report,application:this.model.application}})),this.options.showJobButtons!==!1&&(this.children.buttons=new a({model:{searchJob:this.model.searchJob,application:this.model.application,report:this.model.report,reportPristine:this.model.reportPristine,serverInfo:this.model.serverInfo,user:this.model.user},hidePrintButton:this.options.hidePrintButton,allowRawEventsExport:this.options.allowRawEventsExport,externalJobLinkPage:this.options.externalJobLinkPage,fields:this.options.fields})),this.options.showControls&&(this.children.controls=new o({showJobMenu:this.options.showJobMenu,allowDelete:this.options.allowDelete,allowSendBackground:this.options.allowSendBackground,allowTouch:this.options.allowTouch,enableReload:this.options.enableReload,model:{searchJob:this.model.searchJob,application:this.model.application,appLocal:this.model.appLocal,report:this.model.report,user:this.model.user},externalJobLinkPage:this.options.externalJobLinkPage})),this.children.count=new n({model:this.model.searchJob}),this.children.progress=new d({model:this.model.searchJob}),this.activate()},initializeAutoPause:function(){this.children.autoPause=new l({model:{searchJob:this.model.searchJob},autoPause:this.options.autoPause})},activate:function(e){this.options.autoPause&&!this.children.autoPause&&this.initializeAutoPause(),s.prototype.activate.call(this,e);var t=this.model.searchJob.error.get("messages");return this.jobHasFatalError=this.model.searchJob.entry.content.get("isFailed")||m.messagesContainsOneOfTypes(t,this.fatalErrorTypes),this.jobHasRenderableError=m.messagesContainsOneOfTypes(t,this.renderableErrorTypes),this.manageStatOfChildren(),this},deactivate:function(e){return this.active?(this.children.autoPause&&(this.children.autoPause.remove(),delete this.children.autoPause),this.$(".alert-error").remove(),s.prototype.deactivate.call(this,e)):s.prototype.deactivate.call(this,e)},startListening:function(){this.listenTo(this.model.searchJob,"change:id",function(){this.jobHasFatalError=!this.model.searchJob.id,this.manageStatOfChildren()}),this.listenTo(this.model.searchJob,"sync error",this.updateErrorState),this.listenTo(this.model.searchJob.control,"error",this.updateErrorState)},events:{"click a.job_inspector":function(e){p.open(c.jobInspector(this.model.application.get("root"),this.model.application.get("locale"),this.model.application.get("app"),this.model.searchJob.id),"splunk_job_inspector",{width:870,height:560,menubar:!1}),e.preventDefault()}},manageStatOfChildren:function(){!this.options.showControlsAndJobInfo||this.jobHasFatalError?(this.options.showControls&&this.children.controls.deactivate({deep:!0}).$el.hide(),this.options.showJobButtons!==!1&&this.children.buttons.deactivate({deep:!0}).$el.hide(),this.children.count.deactivate({deep:!0}).$el.hide(),this.children.progress.deactivate({deep:!0}).$el.hide()):(this.options.showControls&&this.children.controls.activate({deep:!0}).$el.show(),this.options.showJobButtons!==!1&&this.children.buttons.activate({deep:!0}).$el.show(),this.children.count.activate({deep:!0}).$el.show(),this.children.progress.activate({deep:!0}).$el.show())},updateErrorState:function(e,t){var i=e.error.get("messages");(this.model.searchJob.entry.content.get("isFailed")||m.messagesContainsOneOfTypes(i,this.fatalErrorTypes))&&(this.jobHasFatalError=!0,this.manageStatOfChildren()),m.messagesContainsOneOfTypes(i,this.renderableErrorTypes)&&(this.jobHasRenderableError=!0,this.renderError(i,t))},render:function(){if(!this.$el.innerHTML){if(this.options.autoPause&&this.children.autoPause&&this.children.autoPause.render().appendTo(this.$el),0===this.$(".jobstatus-control-grouping").length){var e=this.compiledTemplate({});this.$el.append(e)}this.options.showControls&&this.children.controls.render().appendTo(this.$(".jobstatus-control-grouping")),this.options.showJobButtons!==!1&&this.children.buttons.render().appendTo(this.$(".jobstatus-control-grouping")),this.options.enableSearchMode&&this.children.searchMode.render().appendTo(this.$(".jobstatus-control-grouping")),this.children.count.render().appendTo(this.$(".jobstatus-status-grouping")),
this.options.enableSamplingMode&&this.children.samplingMode.render().appendTo(this.$(".jobstatus-status-grouping")),this.children.progress.render().appendTo(this.$el)}return this.jobHasRenderableError&&this.renderError(),this},renderError:function(t,i){this.$(".alert").html()&&this.$(".alert").remove();var s,n,o='<a class="job_inspector" href="#">'+e("Job Inspector").t()+"</a>",a=this.model.searchJob.id||e("unknown").t();return m.messagesContainsOneOfTypes(t,[m.NOT_FOUND])||i&&i.hasOwnProperty("status")&&404==i.status?s=u.sprintf(e('The search job "%s" was canceled remotely or expired.').t(),a):this.model.searchJob.entry.content.get("isFailed")&&(s=u.sprintf(e("The search job has failed due to an error. You may be able view the job in the %s.").t(),o)),s&&(n=e.template(this.errorTemplate,{_:e,link:o,splunkUtil:u,error:s}),this.$el.prepend(n)),this},template:'\t                <div class="clearfix">\t                    <div class="pull-left jobstatus-status-grouping"></div>\t                    <div class="pull-right jobstatus-control-grouping"></div>\t                </div>\t            ',errorTemplate:'\t                <div class="alert alert-error">\t                    <i class="icon-alert"></i>\t                    <%= error %>\t                </div>\t            '})}.apply(t,s),!(void 0!==n&&(e.exports=n))},"views/shared/jobstatus/samplingmode/Master":function(e,t,i){var s,n;s=[i("shim/jquery"),i("require/underscore"),i("require/backbone"),e,i("views/Base"),i("views/shared/jobstatus/samplingmode/Menu"),i("views/shared/jobstatus/samplingmode/Dialog"),i("shim/splunk.util"),i("stubs/i18n")],n=function(e,t,i,s,n,o,a,r,l){return n.extend({moduleId:s.id,className:"sampling-mode",initialize:function(e){n.prototype.initialize.apply(this,arguments),this.children.ratioMenu=new o({model:this.model.report.entry.content,menuWidth:"narrow"}),this.activate()},startListening:function(){this.listenTo(this.children.ratioMenu,"openRatioDialog",this.openRatioDialog)},openRatioDialog:function(){this.children.ratioDialog=new a({model:{report:this.model.report,application:this.model.application},onHiddenRemove:!0}),this.children.ratioDialog.render().appendTo(e("body")).show(),this.listenTo(this.children.ratioDialog,"hidden",function(){this.children.ratioMenu.focus()})},render:function(){return this.children.ratioMenu.render().appendTo(this.$el),this}})}.apply(t,s),!(void 0!==n&&(e.exports=n))},"views/shared/jobstatus/samplingmode/Menu":function(e,t,i){var s,n;s=[e,i("shim/jquery"),i("require/underscore"),i("models/search/Report"),i("views/shared/controls/SyntheticSelectControl"),i("views/shared/jobstatus/samplingmode/Dialog"),i("shim/splunk.util"),i("stubs/i18n"),i("util/time")],n=function(e,t,i,s,n,o,a,r,l){return n.extend({moduleId:e.id,initialize:function(e){e.items=this.generateItems(),e.modelAttribute="dispatch.sample_ratio",e.toggleClassName="btn-pill dropdown-toggle-sample-ratio",e.menuClassName="dropdown-menu-sample-ratio",e.iconClassName="link-icon",n.prototype.initialize.call(this,e)},startListening:function(){n.prototype.startListening.call(this),this.listenTo(this.model,"change:display.prefs.customSampleRatio",function(){this.setItems(this.generateItems())}),this.listenTo(this.model,"change:dispatch.earliest_time change:dispatch.latest_time",i.debounce(this.render))},events:{"click a.dropdown-toggle.disabled":function(e){e.preventDefault()}},deactivate:function(e){return this.tooltip("destroy"),n.prototype.deactivate.call(this,e)},focus:function(){this.$(".dropdown-toggle-sample-ratio").focus()},generateItems:function(){var e=[];i.each(s.PRESET_SAMPLE_RATIOS,function(t){e.push({value:t,label:"1"===t?i("No Event Sampling").t():a.sprintf(i("1 : %s").t(),r.format_decimal(t))})});var t=this.model.get("display.prefs.customSampleRatio");return t&&i.indexOf(s.PRESET_SAMPLE_RATIOS,t)===-1&&e.push({value:t,label:a.sprintf(i("1 : %s (Custom)").t(),r.format_decimal(t))}),e.push({value:"other",label:i("Custom...").t()}),e},click:function(e){var i=t(e.currentTarget).data("item-value");"other"===i?(e.preventDefault(),this.trigger("openRatioDialog"),this.hide()):n.prototype.click.call(this,e)},remove:function(){this.tooltip("destroy"),n.prototype.remove.call(this)},disable:function(){this.options.enabled=!1},enable:function(){this.options.enabled=!0},render:function(){var e=l.isRealtime(this.model.get("dispatch.earliest_time"))||l.isRealtime(this.model.get("dispatch.latest_time"));if(e){if(this.options.enabled){this.disable();var t=i.template(this.disabledTemple,{_:i});this.$el.html(t),this.tooltip("destroy"),this.tooltip({animation:!1,title:i("Sampling is not supported for real-time searches.").t(),container:"body",placement:"right"})}}else{this.options.enabled||(this.enable(),this.renderList=!0);var s=this.selectedItem;s||(s=this.getFirstItem()),this.options.label="1"!==s.value?"Sampling":"",n.prototype.render.call(this),this.tooltip("destroy"),this.tooltip({animation:!1,title:"1"===s.value?i("Enable event sampling to run the search and return a random set of events.").t():a.sprintf(i("Each event has a 1 in %s chance of being included in the result set.").t(),r.format_decimal(s.value)),container:"body",placement:"right"})}},disabledTemple:'\t                <a class="dropdown-toggle btn-pill disabled" href="#">\t                    <span class="link-label"><%- _("No Event Sampling").t() %></span><span class="caret"></span>\t                </a>\t            '})}.apply(t,s),!(void 0!==n&&(e.exports=n))},"views/shared/jobstatus/samplingmode/Dialog":function(e,t,i){var s,n;s=[i("require/underscore"),i("shim/jquery"),e,i("models/Base"),i("views/shared/Modal"),i("views/shared/controls/ControlGroup"),i("views/shared/FlashMessages"),i("shim/splunk.util"),i("uri/route"),i("util/dom_utils"),i("util/keyboard"),i("util/validation")],n=function(e,t,i,s,n,o,a,r,l,h,d,c){return n.extend({moduleId:i.id,initialize:function(t){n.prototype.initialize.apply(this,arguments);var i=s.extend({validation:{ratio:"validateRatio"},validateRatio:function(t,i,s){if(!c.isNonNegValidInteger(t)||parseInt(t,10)<=1)return e(" Sample ratio must be an integer greater than 1").t()}});this.model.inmem=new i,this.model.inmem.set("ratio",this.model.report.entry.content.get("display.prefs.customSampleRatio"));var r=l.docHelp(this.model.application.get("root"),this.model.application.get("locale"),"learnmore.search_app.event.sampling");this.children.sampleRatioInput=new o({controlType:"Text",controlOptions:{additionalClassNames:"ratio-input-control",modelAttribute:"ratio",model:this.model.inmem},label:"Sample Ratio",help:'<a href="'+r+'" target="_blank" title="'+e("Splunk help").t()+'">'+e("Learn More").t()+' <i class="icon-external"></i></a>'}),this.children.flashMessages=new a({model:this.model.inmem})},events:t.extend({},n.prototype.events,{"focus input":function(e){this.setCaretPositionToEnd()},"click .edit-cancel":function(e){e.preventDefault(),this.hide()},"click .edit-apply":function(e){e.preventDefault(),this.applyChanges()},"keypress input:text":function(e){e.keyCode===d.KEYS.ENTER&&(t(e.target).blur(),e.preventDefault(),this.applyChanges())}}),setCaretPositionToEnd:function(){var e=this.$("input");h.setCaretPosition(e.get(0),e.val().length)},applyChanges:function(){if(this.model.inmem.isValid(!0)){var e=this.model.inmem.get("ratio");this.model.report.entry.content.set({"dispatch.sample_ratio":e,"display.prefs.customSampleRatio":e}),this.hide()}else this.$("input").focus()},render:function(){return this.$el.html(n.TEMPLATE),this.$(n.HEADER_TITLE_SELECTOR).html(e("Set Event Sampling Ratio").t()),this.children.flashMessages.render().prependTo(this.$(n.BODY_SELECTOR)),this.$(n.BODY_SELECTOR).append(n.FORM_HORIZONTAL),this.children.sampleRatioInput.render().appendTo(this.$(n.BODY_FORM_SELECTOR)),this.children.sampleRatioInput.$el.find(".ratio-input-control").before("<span>"+e("1 : ").t()+"</span>"),this.children.sampleRatioInput.$el.find(".ratio-input-control").after("<span>"+e("events").t()+"</span>"),this.$(n.FOOTER_SELECTOR).append(n.BUTTON_CANCEL),this.$(n.FOOTER_SELECTOR).append('<a href="#" class="edit-apply btn btn-primary pull-right" tabindex="0"> '+e("Apply").t()+"</a>"),this}})}.apply(t,s),!(void 0!==n&&(e.exports=n))},"views/shared/jobstatus/Master.pcss":function(e,t,i){var s=i(2325);"string"==typeof s&&(s=[[e.id,s,""]]);i(15)(s,{});s.locals&&(e.exports=s.locals)},"views/shared/jobstatus/AutoPause":function(e,t,i){var s,n;s=[i("require/underscore"),e,i("views/Base"),i("util/splunkd_utils"),i("shim/splunk.util"),i("stubs/i18n")],n=function(e,t,i,s,n,o){return i.extend({moduleId:t.id,initialize:function(){i.prototype.initialize.apply(this,arguments),this.activate()},startListening:function(){this.listenTo(this.model.searchJob.entry.content,"change:isDone change:isPaused",this.debouncedRender),this.listenTo(this.model.searchJob,"sync",this.render)},activate:function(e){return this.active?i.prototype.activate.apply(this,arguments):(this.autoPauseInterval=1e3*parseInt(this.model.searchJob.entry.content.runtime.get("auto_pause"),10),this.autoPauseStartTime=new Date,i.prototype.activate.apply(this,arguments))},events:{"click a.auto-pause-cancel":function(e){e.preventDefault(),this.model.searchJob.saveJob({data:{auto_pause:0},success:function(e,t){this.remove()}.bind(this)})}},render:function(){if(this.model.searchJob.isNew()||this.model.searchJob.isDone()||this.model.searchJob.entry.content.get("isPaused")||0===parseInt(this.model.searchJob.entry.content.runtime.get("auto_pause"),10))this.$el.hide(),this.remove();else{var t=parseInt(new Date-this.autoPauseStartTime,10),i=Math.round((this.autoPauseInterval-t)/1e3);if(i<1)return this.model.searchJob.pause(),i=0,this.$el.hide(),this.remove(),this;var s=this.compiledTemplate({_:e,i18n:o,splunkUtil:n,timeRemaining:i});this.el.innerHTML=s}return this},template:'\t                <div class="alert alert-warning">\t                    <i class="icon-alert"></i>\t                    <%- splunkUtil.sprintf(i18n.ungettext("Your search will automatically pause in %s second.", "Your search will automatically pause in %s seconds.", timeRemaining), timeRemaining) %>\t                    <a href="#" class="auto-pause-cancel"><%- _("Do not pause").t() %></a>\t                </div>\t            '})}.apply(t,s),!(void 0!==n&&(e.exports=n))},"views/shared/jobstatus/Count":function(e,t,i){var s,n;s=[i("require/underscore"),e,i("views/Base"),i("util/time"),i("stubs/i18n"),i("shim/splunk.util")],n=function(e,t,i,s,n,o){return i.extend({className:"status",moduleId:t.id,initialize:function(e){i.prototype.initialize.apply(this,arguments),this.resultsModel=e.resultsModel,this.activate({skipRender:!0})},startListening:function(){this.listenTo(this.model,"jobProgress prepared sync",this.render),this.listenTo(this.model,"destroy",this.empty),this.resultsModel&&this.listenTo(this.resultsModel,"change",this.render)},activate:function(e){return e=e||{},this.active?i.prototype.activate.apply(this,arguments):(e.skipRender||this.render(),i.prototype.activate.apply(this,arguments))},empty:function(){return this.$el.empty(),this},render:function(){this.canvasLoader&&(this.canvasLoader.kill(),this.canvasLoader=null);var t=e("Starting job...").t(),i=this.model.entry.content.get("isRealTimeSearch");this.model.isDone()?t=e("Complete").t():this.model.isFinalizing()?t=e("Finalizing job...").t():this.model.entry.content.get("isPaused")?t=e("Paused").t():i?t=e("Real-time").t():this.model.isQueued()?t=e("Queued").t():this.model.isParsing()?t=e("Parsing job...").t():this.model.isRunning()&&(t=e("Running").t());var a=!0,r=this.model.entry.content.get("eventCount");this.resultsModel&&!e(this.resultsModel.get("post_process_count")).isUndefined()&&(r=this.resultsModel.get("post_process_count")),0==r&&""===this.model.entry.content.get("eventSearch")&&(a=!1,r=this.model.entry.content.get("resultCount")),r=n.format_decimal(r||0);var l="loader-"+this.cid,h=this.model.entry.content.get("earliestTime"),d=this.model.latestTimeSafe(),c=this.compiledTemplate({progress:t,earliest_date:this.model.isOverAllTime()?null:s.isoToDateObject(h),latest_date:d?s.isoToDateObject(d):new Date(0),eventCount:r,isEvents:a,scanCount:n.format_decimal(this.model.entry.content.get("scanCount")||0),model:this.model,loaderId:l,time_utils:s,i18n:n,splunkUtil:o,_:e});return this.$el.html(c),this.$el.attr("data-job-state",t),this},template:'\t            <% if (!model.isNew()) { %>\t                <% if (model.isDone()) { %>\t                    <i class="icon-check"></i>\t                    <% if (isEvents) { %>\t                        <%= splunkUtil.sprintf(i18n.ungettext("%s event", "%s events", eventCount), \'<span class="number">\' + eventCount + \'</span>\') %>\t                    <% } else { %>\t                        <%= splunkUtil.sprintf(i18n.ungettext("%s result", "%s results", eventCount), \'<span class="number">\' + eventCount + \'</span>\') %>\t                    <% } %>\t                    <%if (model.entry.content.get("isFinalized")) { %>\t                        <% if(earliest_date) { %>\t                            <%- splunkUtil.sprintf(_("(Partial results for %s to %s)").t(), i18n.format_datetime_microseconds(time_utils.jsDateToSplunkDateTimeWithMicroseconds(earliest_date)), i18n.format_datetime_microseconds(time_utils.jsDateToSplunkDateTimeWithMicroseconds(latest_date))) %>\t                        <% } else { %>\t                            <%- splunkUtil.sprintf(_("(Partial results for before %s)").t(), i18n.format_datetime_microseconds(time_utils.jsDateToSplunkDateTimeWithMicroseconds(latest_date))) %>\t                        <% } %>\t                    <% } else { %>\t                        <% if(earliest_date) { %>\t                            <%- splunkUtil.sprintf(_("(%s to %s)").t(), i18n.format_datetime_microseconds(time_utils.jsDateToSplunkDateTimeWithMicroseconds(earliest_date)), i18n.format_datetime_microseconds(time_utils.jsDateToSplunkDateTimeWithMicroseconds(latest_date))) %>\t                        <% } else { %>\t                            <%- splunkUtil.sprintf(_("(before %s)").t(), i18n.format_datetime_microseconds(time_utils.jsDateToSplunkDateTimeWithMicroseconds(latest_date))) %>\t                        <% } %>\t                    <% } %>\t                <% } else if (model.isRunning()) { %>\t                    <%= splunkUtil.sprintf(i18n.ungettext("%s of %s event matched", "%s of %s events matched", scanCount), \'<span class="number">\' + eventCount + \'</span>\', \'<span class="number">\' + scanCount + \'</span>\') %>\t                <% } else if (model.entry.content.get("isPaused")) { %>\t                    <i class="icon-warning icon-warning-paused"></i><%- _("Your search is paused.").t() %>\t                <% } else { %>\t                    <%- progress %>\t                <% } %>\t            <% } %>\t        '})}.apply(t,s),!(void 0!==n&&(e.exports=n))},"splunkjs/mvc/searchbarview":function(e,t,i){var s;s=function(e,t,s){var n=i("shim/jquery"),o=i("require/underscore"),a=(i("splunkjs/mvc/mvc"),i("require/backbone")),r=i("splunkjs/mvc/basesplunkview"),l=i("util/console"),h=i("splunkjs/mvc/timerangeview"),d=i("views/shared/searchbar/Master"),c=i("models/shared/TimeRange"),p=i("splunkjs/mvc/utils"),u=i("splunkjs/mvc/sharedmodels"),m=i("stubs/splunk.config"),b=i("models/search/SearchBar"),g=r.extend({moduleId:s.id,className:"splunk-searchbar",options:{default:void 0,managerid:null,timerange:!0,useAssistant:!0,searchAssistant:void 0,useSyntaxHighlighting:!0,syntaxHighlighting:void 0,autoFormat:!1,showLineNumbers:!1,autoOpenAssistant:!0,value:void 0},initialize:function(){var e=this;this.configure(),this.settings.enablePush("value"),this.settings.has("timepicker")&&(l.warn('The "%s" setting of class "%s" is deprecated. Use "%s" instead.',"timepicker","SearchBarView","timerange"),this.settings.set("timerange",this.settings.get("timepicker")),this.settings.unset("timepicker")),this._onDefaultChange(),this._state=new a.Model({"dispatch.earliest_time":this.settings.get("earliest_time"),"dispatch.latest_time":this.settings.get("latest_time"),search:this.settings.get("value")||""});var t=u.get("app"),i=u.get("user"),s=u.get("times"),r=u.get("serverInfo"),h=u.get("searchBNFs"),p=new c;p.save({earliest:this.settings.get("earliest_time"),latest:this.settings.get("latest_time")});var g=new b;this.timerange=this._createTimeRange(this.settings),this.timepicker=this.timerange,this._dfd=n.when(s.dfd,i.dfd,r.dfd,h.dfd).done(function(){var n=e.settings.get("useAssistant")&&!m.INDEPENDENT_MODE,a=!o.isUndefined(e.settings.get("searchAssistant"))&&m.INDEPENDENT_MODE?"none":e.settings.get("searchAssistant"),l=e.settings.get("autoOpenAssistant")&&n,c=e.settings.get("useSyntaxHighlighting")?"light":"black-white";o.isUndefined(e.settings.get("syntaxHighlighting"))||(c=e.settings.get("syntaxHighlighting")),e.searchbar=new d({showTimeRangePicker:!0,useAssistant:n,autoOpenAssistant:l,searchAssistant:a,syntaxHighlighting:c,autoFormat:e.settings.get("autoFormat"),showLineNumbers:e.settings.get("showLineNumbers"),disableOnSubmit:!1,collection:{times:s,searchBNFs:h},model:{state:e._state,timeRange:p,user:i,application:t,serverInfo:r,searchBar:g}})}),this.settings.on("change:value",function(t,i,s){s=s||{};var n=s._self;n||e.val(i||"")}),this.bindToComponentSetting("managerid",this._onManagerChange,this),this._state.on("change:search",this._onSearchChange,this),this.settings.on("change:timerange",this._onDisplayTimeRangeChange,this),this.settings.on("change:default",this._onDefaultChange,this)},_createTimeRange:function(e){var t=e.extractWithPrefix("timerange_"),i=e.extractWithPrefix("timepicker_");o.isEmpty(i)||l.warn('The "%s" settings of class "%s" are deprecated. Use "%s" instead.',"timepicker_*","SearchBarView","timerange_*");var s=o.extend({managerid:e.get("managerid")},t,i);return new h(s)},_onDefaultChange:function(e,t,i){var s=this.settings.previous("default"),n=this.settings.get("default"),o=this.settings.get("value");void 0===n||o!==s&&void 0!==o||this.settings.set("value",n)},_onDisplayTimeRangeChange:function(){var e=this;n.when(this._dfd).done(function(){e.settings.get("timerange")?e.searchbar.children.timeRangePicker.$el.show():e.searchbar.children.timeRangePicker.$el.hide()})},_onManagerChange:function(e,t){this.manager&&(this.manager.off(null,null,this),this.manager=null),this.manager=t;var i=this;o.defer(function(){i._updateQuery()})},render:function(){var e=this;return n.when(this._dfd).done(function(){e._rendered||(e.searchbar.render(),e._patchTimePicker(),e.$el.append(e.searchbar.el),e._onDisplayTimeRangeChange(),e._rendered=!0)}),this},_patchTimePicker:function(){this.searchbar.children.timeRangePicker.setElement(this.timerange.el),this.timerange.render(),this.searchbar.$(".search-timerange").empty().append(this.timerange.el),n(this.timerange.el).addClass("btn-group"),p.syncModels(this.timerange.timepicker.model.timeRange,this.searchbar.children.timeRangePicker.model.timeRange,{auto:!0})},val:function(e){return void 0===e?this._getSearch():(this._setSearch(e),this.settings.unset("value",{_self:!0}),this.settings.set("value",e,{_self:!0}),this.trigger("change",e,this),void 0)},_onSearchChange:function(e,t,i){i=i||{};var s=i._self;s||this.val(t)},_getSearch:function(){return this._state.get("search")},_setSearch:function(e){this._state.set("search",e,{_self:!0})},_updateQuery:function(){if(this.manager){var e=this._state.get("search")||"",t=(this.manager.settings.resolve()||"").trim();!e&&t&&this._setSearch(t)}}});return g}.call(t,i,t,e),!(void 0!==s&&(e.exports=s))},"views/shared/searchbar/Master":function(e,t,i){var s,n;s=[i("shim/jquery"),i("require/underscore"),i("require/backbone"),e,i("views/Base"),i("views/shared/searchbar/Apps"),i("views/shared/searchbarinput/Master"),i("views/shared/timerangepicker/Master"),i("shim/splunk.util"),i("views/shared/searchbar/Master.pcss")],n=function(e,t,i,s,n,o,a,r,l,h){return n.extend({moduleId:s.id,className:"search-bar-wrapper",initialize:function(){n.prototype.initialize.apply(this,arguments),t.defaults(this.options,{showTimeRangePicker:!0,submitOnBlur:!1,giveFocusOnRender:!0,forceChangeEventOnSubmit:!0,submitEmptyString:!1}),this.showTimeRangePicker=this.options.showTimeRangePicker,this.collection&&this.collection.apps&&(this.children.apps=new o({collection:this.collection.apps,model:this.model.state,applicationModel:this.model.application})),this.children.searchInput=new a(e.extend(!0,{},this.options,{model:{user:this.model.user,content:this.model.state,application:this.model.application,searchBar:this.model.searchBar},collection:{searchBNFs:this.collection.searchBNFs}})),this.options.showTimeRangePicker&&(this.children.timeRangePicker=new r({model:{state:this.model.state,timeRange:this.model.timeRange,user:this.model.user,application:this.model.application},collection:this.collection.times,className:"btn-group",timerangeClassName:"btn",forceTimerangeChange:!0}))},events:{"click .search-button > .btn":function(e){e.preventDefault(),this.submit()}},startListening:function(){this.listenTo(this.children.searchInput,"changedAutoOpenAssistant",function(e){this.trigger("changedAutoOpenAssistant",e)})},closeAssistant:function(){this.children.searchInput.closeAssistant()},disable:function(){this.children.searchInput.disable()},enable:function(){this.children.searchInput.enable()},setText:function(e){this.children.searchInput.setText(e)},getText:function(){return this.children.searchInput.getText()},searchFieldFocus:function(){this.children.searchInput.searchFieldFocus()},removeSearchFieldFocus:function(){this.children.searchInput.removeSearchFieldFocus()},reformatSearch:function(){return this.children.searchInput.reformatSearch()},setAutoOpenAssistantOption:function(e){this.options.autoOpenAssistant=l.normalizeBoolean(e),this.children.searchInput.setAutoOpenAssistantOption(e)},submit:function(e){this.children.searchInput.submit(e)},render:function(){if(!this.$el.html()){var e=t.template(this.template,{showTimeRangePicker:this.options.showTimeRangePicker});this.$el.html(e),this.children.apps&&this.children.apps.render().appendTo(this.$(".search-apps")),this.children.searchInput.render().appendTo(this.$(".search-input")),this.children.timeRangePicker&&this.children.timeRangePicker.render().appendTo(this.$(".search-timerange"))}return this},template:'\t                <form method="get" action="" class="search-form">\t                    <table class="search-bar">\t                        <tbody>\t                            <tr>\t                                <td class="search-input" width="100%"></td>\t                                <td class="search-apps"></td>\t                                <% if (showTimeRangePicker) { %>\t                                    <td class="search-timerange"></td>\t                                <% } %>\t                                <td class="search-button">\t                                    <a class="btn" href="#"><i class="icon-search-thin"></i></a>\t                                </td>\t                            </tr>\t                        </tbody>\t                    </table>\t                </form>\t            '})}.apply(t,s),!(void 0!==n&&(e.exports=n))},"views/shared/searchbar/Apps":function(e,t,i){var s,n;s=[i("require/underscore"),e,i("views/shared/controls/SyntheticSelectControl"),i("uri/route")],n=function(e,t,i,s){return i.extend({moduleId:t.id,initialize:function(){this.options=e.defaults({className:"btn-group",toggleClassName:"btn",iconURLClassName:"menu-icon",menuClassName:"dropdown-menu-tall dropdown-menu-apps",label:e("App: ").t(),items:[],model:this.model,modelAttribute:"display.prefs.searchContext",popdownOptions:{attachDialogTo:"body"}},this.options),this.collection.on("change",e.debounce(this.update,0),this),i.prototype.initialize.call(this,this.options),this.update()},update:function(){var e=[];this.collection.each(function(t){var i=t.get("navData");if(i&&i.searchView){var n=this.options.applicationModel,o=s.appIconAlt(n.get("root"),n.get("locale"),n.get("owner"),t.get("appName"));e.push({value:t.get("appName"),label:t.get("appLabel"),iconURL:o})}}.bind(this)),this.setItems(e)}})}.apply(t,s),!(void 0!==n&&(e.exports=n))},"views/shared/searchbar/Master.pcss":function(e,t,i){var s=i(2329);"string"==typeof s&&(s=[[e.id,s,""]]);i(15)(s,{});s.locals&&(e.exports=s.locals)},"views/shared/jobcontrols/menu/DeleteModal":function(e,t,i){var s,n;s=[i("shim/jquery"),i("require/underscore"),i("require/backbone"),e,i("views/shared/Modal"),i("views/shared/FlashMessages"),i("util/splunkd_utils")],n=function(e,t,i,s,n,o,a){return n.extend({moduleId:s.id,initialize:function(){n.prototype.initialize.apply(this,arguments),this.children.flashMessages=new o({model:this.model})},events:e.extend({},n.prototype.events,{"click .btn-primary":function(e){this.model.destroy({wait:!0,success:function(e,t){this.hide(),this.model.unset("id")}.bind(this),error:function(e,t){t.status==a.NOT_FOUND&&(this.hide(),this.model.unset("id"))}.bind(this)}),e.preventDefault()}}),render:function(){return this.$el.html(n.TEMPLATE),this.$(n.HEADER_TITLE_SELECTOR).html(t("Delete Job").t()),this.children.flashMessages.render().prependTo(this.$(n.BODY_SELECTOR)),this.$(n.BODY_SELECTOR).append(n.FORM_HORIZONTAL),this.$(n.BODY_FORM_SELECTOR).append("<p>"+t("Are you sure that you want to delete this job?").t()+"</p>"),this.$(n.FOOTER_SELECTOR).append(n.BUTTON_CANCEL),this.$(n.FOOTER_SELECTOR).append(n.BUTTON_DELETE),this}})}.apply(t,s),!(void 0!==n&&(e.exports=n))}});