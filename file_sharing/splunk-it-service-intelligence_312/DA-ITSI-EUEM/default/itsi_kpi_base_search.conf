[DA-ITSI-EUEM_Performance_General]
description = KPI base search used by KPIs that track general performance metrics
title = DA-ITSI-EUEM:Performance.General
_owner = nobody
base_search = tag=euem (tag=inventory OR handled=* OR status_code=* OR exception=* OR dom_processing_time=* OR latency=*) | eventstats count(eval(handled="false")) as crash_count, dc(session_id) as session_count, count(eval(status_code>299)) as http_error_count, count(eval(status_code>=0)) as network_count, count(eval(exception!="NA")) as network_error_count by application_id | fillnull crash_count, session_count, http_error_count, network_count, network_error_count | `evaluate_percentage(crash_rate, crash_count, session_count)` | `evaluate_percentage(http_error_rate, http_error_count, network_count)` | `evaluate_percentage(network_error_rate, network_error_count, network_count)`
metrics = [ \
    { \
        "_key": "crash_count",  \
        "aggregate_statop": "sum", \
        "entity_statop": "avg", \
        "threshold_field": "crash_count",  \
        "title": "crash_count",  \
        "unit": "ct" \
    }, \
    { \
        "_key": "crash_rate",  \
        "aggregate_statop": "avg", \
        "entity_statop": "avg", \
        "threshold_field": "crash_rate",  \
        "title": "crash_rate",  \
        "unit": "%" \
    }, \
    { \
        "_key": "http_error_count",  \
        "aggregate_statop": "sum", \
        "entity_statop": "avg", \
        "threshold_field": "http_error_count",  \
        "title": "http_error_count",  \
        "unit": "ct" \
    }, \
    { \
        "_key": "http_error_rate",  \
        "aggregate_statop": "avg", \
        "entity_statop": "avg", \
        "threshold_field": "http_error_rate",  \
        "title": "http_error_rate",  \
        "unit": "%" \
    }, \
    { \
        "_key": "network_error_count",  \
        "aggregate_statop": "sum", \
        "entity_statop": "avg", \
        "threshold_field": "network_error_count",  \
        "title": "network_error_count",  \
        "unit": "ct" \
    }, \
    { \
        "_key": "network_error_rate",  \
        "aggregate_statop": "avg", \
        "entity_statop": "avg", \
        "threshold_field": "network_error_rate",  \
        "title": "network_error_rate",  \
        "unit": "%" \
    }, \
    { \
        "_key": "domain_lookup_time",  \
        "aggregate_statop": "avg", \
        "entity_statop": "avg", \
        "threshold_field": "domain_lookup_time",  \
        "title": "domain_lookup_time",  \
        "unit": "msec" \
    }, \
    { \
        "_key": "latency",  \
        "aggregate_statop": "avg", \
        "entity_statop": "avg", \
        "threshold_field": "latency",  \
        "title": "latency",  \
        "unit": "msec" \
    }, \
    { \
        "_key": "dom_processing_time",  \
        "aggregate_statop": "avg", \
        "entity_statop": "avg", \
        "threshold_field": "dom_processing_time",  \
        "title": "dom_processing_time",  \
        "unit": "msec" \
    }, \
    { \
        "_key": "load_time",  \
        "aggregate_statop": "avg", \
        "entity_statop": "avg", \
        "threshold_field": "load_time",  \
        "title": "load_time",  \
        "unit": "msec" \
    }, \
    { \
        "_key": "response_length",  \
        "aggregate_statop": "avg", \
        "entity_statop": "avg", \
        "threshold_field": "response_length",  \
        "title": "response_length",  \
        "unit": "bytes" \
    }, \
    { \
        "_key": "server_time",  \
        "aggregate_statop": "avg", \
        "entity_statop": "avg", \
        "threshold_field": "server_time",  \
        "title": "server_time",  \
        "unit": "msec" \
    }, \
    { \
        "_key": "session_id",  \
        "aggregate_statop": "sum", \
        "entity_statop": "dc", \
        "threshold_field": "session_id",  \
        "title": "session_id",  \
        "unit": "ct" \
    }, \
    { \
        "_key": "uuid",  \
        "aggregate_statop": "sum", \
        "entity_statop": "dc", \
        "threshold_field": "uuid",  \
        "title": "uuid",  \
        "unit": "ct" \
    } \
]
is_entity_breakdown = True
is_service_entity_filter = True
entity_id_fields = application_id
entity_alias_filtering_fields = application_id
alert_period = 5
search_alert_earliest = 5
alert_lag = 30
metric_qualifier =
source_itsi_da = DA-ITSI-EUEM